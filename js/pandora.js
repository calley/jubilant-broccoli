(function() {
    var f;
    function g(b) {
        function c(c) {
            var e = b;
            if (c)
                for (var h = 0; h < c.length; h++)
                    e = e.replace("$" + (h + 1), c[h]);
            return e
        }
        c.toString = function() {
            k.error("Attempt to treat enum as string:", b);
            return ""
        }
        ;
        return c
    }
    var m = m ? m : {}
      , aa = g("Pandora Plus - Listen to Pandora with No Ads, Higher Quality Audio, and More")
      , ba = g("Pandora Radio - Listen to Free Internet Radio, Find New Music")
      , ca = g("Could not create your account at this time. Please try again later.")
      , da = g("Invalid email.")
      , ea = g("An account already exists with that email address.")
      , fa = g("Your password should be at least 6 characters.")
      , ha = g("Your password may contain only letters, numbers, and punctuation.")
      , ia = g("The provided password was incorrect. Please re-enter your password.")
      , ja = g("Please enter a valid birth year.")
      , ka = g("Please enter a valid birth day.")
      , la = g("Please provide month and day of your birth.")
      , ma = g("We're sorry, you must be at least 13 years old to register.")
      , na = g("Invalid ZIP code")
      , oa = g("Invalid postal code")
      , qa = g("You must agree to the terms of service to continue.")
      , ra = g("Please specify your gender.")
      , sa = g("Is this correct?")
      , va = g("This is the email you'll use to log in:")
      , wa = g("Yes")
      , xa = g("No")
      , ya = g("Please enter an email address")
      , za = g("Invalid Email")
      , Aa = g("Please enter a password.")
      , Ba = g("Please enter an email address and password")
      , Ca = g("Your password may contain only letters, numbers, and punctuation.")
      , Da = g("Your password should be at least 6 characters.")
      , Ea = g("The two passwords provided were different, please try again")
      , Fa = g("Your password has been changed")
      , Ga = g("Reset password")
      , Ha = g("")
      , Ja = g("To reset your password, please sign out.")
      , Ka = g("Sign Out")
      , La = g("Cancel")
      , Ma = g("Your Pandora account has been deleted")
      , Na = g("MALE")
      , Oa = g("FEMALE")
      , Pa = g("Create Station")
      , Qa = g("Enter an artist, song, or genre to create a station")
      , Ra = g("Top Hit")
      , Sa = g("Songs")
      , Ta = g("Artists")
      , Ua = g("Composers")
      , Va = g("Genres")
      , Wa = g("Brand Stations")
      , Xa = g("Stations")
      , Ya = g("Artist Stations")
      , Za = g("Your PIN must be at least 2 characters long.")
      , $a = g("Your PIN has been emailed to you.")
      , ab = g("Your credit card was removed from storage.")
      , cb = g("Settings have not yet been saved.")
      , db = g("Settings have been saved.")
      , eb = {}
      , hb = g("Congratulations! Your Pandora Plus upgrade has been extended. Your new expiration date is $1")
      , ib = g("Congratulations, you have been upgraded to Pandora Plus.")
      , jb = g("Your gift code was entered incorrectly")
      , kb = g("Your email was entered incorrectly")
      , lb = g("Your password was entered incorrectly")
      , mb = g("Welcome to your Pandora Plus Free Trial!")
      , ob = g("Your free trial is already in progress.")
      , pb = g("You are already using Pandora Plus.")
      , qb = g("Your account is not eligible for a trial.")
      , rb = g("You must register before starting a trial of Pandora Plus.")
      , sb = g("Your account has already had a trial.")
      , ub = g("Invalid sponsor $1")
      , vb = g("Too many trials underway - try again tomorrow.")
      , wb = g("Unknown reason.")
      , xb = g("We've encountered an error.  Sorry, it's our fault.  Please click 'reload' to continue listening.")
      , yb = g("Unfortunately our music licenses force us to limit the number of tracks you may skip each hour. If you want to hear something else, try creating another station starting with a different artist or track.")
      , zb = g("Unfortunately our music licenses force us to limit the number of tracks you may skip each hour. If you want to hear something else, try creating another station starting with a different artist or track.")
      , Ab = g("Unfortunately our music licenses force us to limit the number of tracks you may skip each hour. If you want to hear something else, try creating another station starting with a different artist or track.")
      , Db = g("Unfortunately our music licenses force us to limit the number of tracks you may skip each hour. If you want to hear something else, try creating another station starting with a different artist or track.")
      , Eb = g("Sorry about that.  When this track is over, we'll never play it again on this station.")
      , Fb = g("ERROR: Your browser cannot play audio - please upgrade to Flash 10 or higher")
      , Gb = g("ERROR: Your Explicit Content Filter could not be saved because the PIN you entered is invalid.")
      , Hb = g("Sorry, I couldn't send the email: $1")
      , Ib = g("You must enter one or more valid email addresses")
      , Jb = g("You may not include email addresses or HTML content in your message")
      , Kb = g("Error: unable to move track to another station")
      , Lb = g("Error while redeeming gift code: ")
      , Mb = g("Error while registering: ")
      , Nb = g("Sorry, I had a problem while saving your credit card and was unable to upgrade your account.")
      , Ob = g("Sorry, we are unable to upgrade your account at this time. Please confirm that the data you provided is accurate and try again. If you experience multiple declines please contact your credit card company.")
      , Pb = g("A payment is already in progress. Please retry in a few minutes.")
      , Qb = g("Sorry, we are unable to upgrade your account at this time. We are working on the problem now. Please try again later.")
      , Rb = g("An error prevented this operation: $1")
      , Sb = g("You must upgrade to Pandora Plus to use the Pandora desktop application")
      , Tb = g("I'm sorry, you may only create up to 10 stations.  Register now and create up to 100 stations.")
      , Ub = g("Your station limit has been reached. Remove a station from your list to add a new one.")
      , Vb = g("Want Thumbprint Radio? We need to know you a little bit better. Keep creating stations and thumbing up songs you love, and we\u2019ll let you know when it\u2019s ready!")
      , Wb = g("Sorry, we couldn't create this station. Please try again.")
      , Xb = g("We cannot accept your comment at this time. Please try again later.")
      , Yb = g("We cannot report the comment at this time. Please try again later.")
      , Zb = g("We're having unexpected technical difficulties. Our engineers are scrambling to fix things. Please try again later.")
      , $b = g("We're sorry, but we can't find any more music to play on your station right now. Try switching stations.")
      , ac = g("This exclusive station is no longer available. Please select a different station.")
      , bc = g("This exclusive station has finished playing.")
      , cc = g("Pandora Plus's high quality audio requires an internet connection speed of 192 kbps. Your audio has been changed to normal quality. (You can change this back using 'Audio Quality' on the Pandora Plus menu)")
      , dc = g("Your internet connection is slow, causing the music to pause during playback. Pandora requires at least 64 kbps to stream.")
      , ec = g("This feature is temporarily unavailable")
      , fc = g("Please log in or register before creating a station")
      , gc = g("We're sorry, we could not play music on this station.  Please try another station.")
      , hc = g("We're sorry, this Facebook account is being used by another Pandora account. For assistance, please visit our <a href='http://help.pandora.com/customer/portal/articles/765766' target='_blank'>help page</a> or <a href='http://help.pandora.com/customer/portal/emails/new' target='_blank'>email us</a>")
      , ic = g("Sorry, we could not start the free trial via PayPal. Please try again, or select another payment option.")
      , jc = g("Sorry, we could not complete the payment via PayPal. No charges have been made. Please try again, or select another payment option.")
      , kc = g("Sorry, the payment was declined by PayPal. Please correct the issue with PayPal and try again, or select another payment option.")
      , lc = g("The requested track does not exist on this station.")
      , mc = g("Your advertiser account owns this station, and it is already in your station list.")
      , nc = g("Sorry, a problem occurred with your reward. Please try again.")
      , oc = g("Sorry, we could not redeem the gift with the PayPal information provided. Please try again, or select another payment option.")
      , pc = g("You are unable to delete this station from the station list. As the station owner, you must delete the station directly from the station management system where the station was created.")
      , qc = g("Sorry, this artist audio message is no longer available.")
      , rc = g("Private Profile")
      , sc = g("Public Profile")
      , tc = g("This is your space to write something about yourself")
      , uc = g("Ok, we'll put it on the shelf for a while.")
      , vc = g("<strong>Thanks for the feedback.</strong><br>We appreciate your input, and it will help us improve artist audio messages in the future.")
      , wc = g("<strong>Thanks for the feedback.</strong><br>In Settings > Artist Messages, you can turn off artist audio messages on a specific station, or turn them off for all your stations.")
      , xc = g('Successfully emailed "$1"')
      , yc = g("Thanks for sharing. You just posted to $1")
      , zc = g('We deleted your station "$1".')
      , Ac = g("You like this station")
      , Bc = g("Like this station")
      , Cc = g("Shared Station")
      , Dc = g("Would you like to make this station your own station?")
      , Ec = g("When you like a track while listening to a shared station, you become the owner of the station. Once you own the station, changes made by the original creator of the station will no longer apply.")
      , Fc = g("When you rename a shared station, you become the owner of the station. Once you own the station, changes made by the original creator of the station will no longer apply.")
      , Gc = g("Make this my station")
      , Hc = g("Keep this as a shared station")
      , Ic = g("You like this ")
      , Jc = g("Like this ")
      , Kc = g("Are you sure?")
      , Lc = g("Pandora")
      , Mc = g("Undo like")
      , Nc = g("yes")
      , Oc = g("no")
      , Pc = g("We have updated the Pandora site. Click 'reload' to use the latest version.")
      , Qc = g("Please take a moment to <a href='#' class='toastItemReload'>click here</a> and reload your station.")
      , Rc = g("Type in artist, track, or composer")
      , Sc = g("Add variety to this station")
      , Tc = g("Type in the name of another artist, track or composer and we'll add music with similar musical qualities to this station.")
      , Uc = g("I'm sorry I can't find \"$1\" in the Music Genome Project.")
      , Vc = g("Lyrics")
      , Wc = g("Lyrics not available")
      , Xc = g("About")
      , Yc = g("Similar Artists")
      , Zc = g("Similar Composers")
      , $c = g("About This Track")
      , ad = g("More Tracks")
      , bd = g("You must agree to the Pandora Plus terms.")
      , cd = g("Enter a valid security code.")
      , dd = g("Select a subscription frequency")
      , ed = g("Enter a valid card number.")
      , fd = g("Your card has expired.")
      , gd = g("Enter name as it appears on card.")
      , hd = g("We're sorry, we couldn't authorize the card.")
      , id = g("Connecting...")
      , jd = g("Thank you! Your Pandora Plus payment is complete. Enjoy the music!")
      , kd = g("Thank you! Your Pandora for Business payment is complete. Enjoy the music!")
      , ld = g("Thank you! Your $0.99 payment is complete. Enjoy the music!")
      , md = g("Could not convert to Pandora for Business.")
      , nd = g("You need to be a subscriber to convert to Pandora for Business.")
      , od = g("You have already converted to Pandora for Business once.")
      , pd = g("Please provide some information about your business to continue.");
    m.v = {};
    m.v.In = g("ANONYMOUS");
    m.v.Ln = g("CANCELLED");
    m.v.lg = g("COMPLIMENTARY");
    m.v.EB = g("FREE");
    m.v.ju = g("EXPIRED_SUBSCRIBER");
    m.v.Eu = g("REGISTERED");
    m.v.Lu = g("SUSPENDED");
    m.v.td = g("SUBSCRIBER");
    m.v.Su = g("VENDOR_BILLED_COMPLIMENTARY");
    m.v.Uu = g("VENDOR_BILLED_SUBSCRIBER");
    m.v.Au = g("PAY_TO_PLAY");
    m.v.Th = g("BUSINESS");
    m.sa = {};
    m.sa.wB = g("COMPLIMENTARY_PERIOD_EXPIRED");
    m.sa.Tu = g("VENDOR_BILLED_COMPLIMENTARY_PERIOD_EXPIRED");
    m.sa.KB = g("INITIAL_SETTLEMENT_DECLINED");
    m.sa.Zn = g("RENEWAL_SETTLEMENT_DECLINED");
    m.sa.K0 = g("SUBSCRIPTION_EXPIRED_WITHOUT_RENEWAL");
    m.sa.eo = g("VENDOR_BILLED_SUBSCRIPTION_TIMED_OUT");
    m.sa.tC = g("SPONSORED_COMPLIMENTARY_PERIOD_EXPIRED");
    m.sa.DV = g("GIFT_PERIOD_EXPIRED");
    m.sa.iC = g("MULTI_DAY_PASS_EXPIRED");
    m.sa.tB = g("BUSINESS_EXPIRED");
    m.d = {};
    m.d.BR = g("ADDRESS_IMPORT_SERVICE_DISABLED");
    m.d.CR = g("ADDRESS_IMPORT_SERVICE_UNKNOWN");
    m.d.Se = g("AUTH_INVALID_USERNAME_PASSWORD");
    m.d.QR = g("AUTH_MISSING_USERNAME_PASSWORD");
    m.d.qB = g("AUTH_INVALID_TOKEN");
    m.d.ru = g("INVALID_PASSWORD_RESET_TOKEN");
    m.d.SR = g("AUTH_WEB_LOGIN_NOT_ALLOWED");
    m.d.LR = g("AUTH_EXCHANGE_ACCESS_TOKEN_DISABLED");
    m.d.NR = g("AUTH_EXCHANGE_ACCESS_TOKEN_LID_MISMATCHED");
    m.d.MR = g("AUTH_EXCHANGE_ACCESS_TOKEN_FAILED");
    m.d.PR = g("AUTH_EXCHANGE_LOGIN_FAILED");
    m.d.OR = g("AUTH_EXCHANGE_LOGIN_DISABLED");
    m.d.KR = g("AUTH_ADMIN_LOGIN_NOT_ALLOWED");
    m.d.KS = g("CREDIT_CARD_NO_RECORD_FOUND");
    m.d.tT = g("EMAIL_MALFORMED_ADDRESS");
    m.d.uT = g("EMAIL_NO_SUBJECT");
    m.d.sT = g("EMAIL_CONTENT_TOO_LONG");
    m.d.FT = g("EXPLICIT_PIN_MALFORMED");
    m.d.CT = g("EXPLICIT_CONTENT_FILTER_NOT_ENABLED");
    m.d.GT = g("EXPLICIT_PIN_NOT_SET");
    m.d.DT = g("EXPLICIT_PIN_ALREADY_SET");
    m.d.ET = g("EXPLICIT_PIN_INCORRECT");
    m.d.tu = g("LISTENER_ACCOUNT_IN_USE");
    m.d.uu = g("LISTENER_DUPLICATE_USERNAME");
    m.d.vu = g("LISTENER_MALFORMED_USERNAME");
    m.d.$Z = g("LISTENER_MISSING_EMAIL");
    m.d.xu = g("LISTENER_SUSPENDED");
    m.d.c_ = g("LOGIN_ACCOUNT_MISMATCHED");
    m.d.yC = g("STATION_DOES_NOT_EXIST");
    m.d.D0 = g("STATION_ALREADY_EXISTS");
    m.d.x0 = g("SEED_INVALID");
    m.d.wC = g("STATION_CODE_INVALID");
    m.d.E0 = g("STATION_HAS_NO_MORE_CONTENT");
    m.d.k0 = g("QUICKMIX_NOT_PLAYABLE");
    m.d.j0 = g("QUICKMIX_NEEDS_MORE_STATIONS");
    m.d.IR = g("ARTIST_MUSICID_INVALID");
    m.d.z0 = g("SONG_MUSICID_INVALID");
    m.d.y0 = g("SONG_IDENTITY_INVALID");
    m.d.Xn = g("LISTENER_INVALID_PASSWORD");
    m.d.wk = g("LISTENER_NOT_AUTHORIZED");
    m.d.P2 = g("VENDOR_NOT_AUTHORIZED");
    m.d.Yn = g("LISTENER_PASSWORD_TOO_SHORT");
    m.d.a_ = g("LISTENER_NOT_FOUND");
    m.d.Bu = g("PLAYLIST_END");
    m.d.xB = g("CREDIT_CARD_DECLINED_AUTHORIZATION");
    m.d.yB = g("CREDIT_CARD_DECLINED_PAYMENT");
    m.d.MS = g("CREDIT_CARD_NUMBER_NOT_SET");
    m.d.PS = g("CREDIT_CARD_NUMBER_TOO_SHORT");
    m.d.NS = g("CREDIT_CARD_NUMBER_TOO_LONG");
    m.d.LS = g("CREDIT_CARD_NUMBER_BAD_CHECKSUM");
    m.d.GS = g("CREDIT_CARD_EXPIRATION_DATE_IN_THE_PAST");
    m.d.FS = g("CREDIT_CARD_COMPANY_NOT_SET");
    m.d.JS = g("CREDIT_CARD_NAME_NOT_SET");
    m.d.TS = g("CREDIT_CARD_ZIPCODE_NOT_SET");
    m.d.RS = g("CREDIT_CARD_SECURITY_CODE_MALFORMED");
    m.d.HS = g("CREDIT_CARD_EXPMONTH_OUT_OF_RANGE");
    m.d.IS = g("CREDIT_CARD_EXPYEAR_OUT_OF_RANGE");
    m.d.SS = g("CREDIT_CARD_VOID_FAILED");
    m.d.QS = g("CREDIT_CARD_PAYMENT_VOIDED");
    m.d.T_ = g("PREVIEW_INVALID_CODE");
    m.d.S_ = g("PREVIEW_EXPIRED_CODE");
    m.d.kC = g("OUT_OF_SYNC");
    m.d.i_ = g("MAX_RESULTS_OUT_OF_RANGE");
    m.d.N2 = g("VENDOR_ALIAS_IS_BLANK");
    m.d.O2 = g("VENDOR_ALIAS_IS_INVALID");
    m.d.M2 = g("VENDOR_ALIAS_HASH_IS_INVALID");
    m.d.L2 = g("VENDOR_ALIAS_ALREADY_IN_USE");
    m.d.RR = g("AUTH_TOKEN_TYPE_NOT_ALLOWED");
    m.d.ZV = g("INVALID_VENDOR");
    m.d.ER = g("ANONYMOUS_VENDOR_ALIAS_NOT_ALLOWED");
    m.d.wu = g("LISTENER_STATE_NOT_ALLOWED");
    m.d.cC = g("MAINTENANCE_MODE");
    m.d.nC = g("READONLY_MODE");
    m.d.JB = g("INCOMPATIBLE_VERSION");
    m.d.YZ = g("LISTENER_BANNED_FROM_POSTING");
    m.d.yS = g("COMMENT_IS_EMPTY");
    m.d.zS = g("COMMENT_IS_EMPTY_AFTER_CLEAN");
    m.d.AS = g("COMMENT_IS_SPAM");
    m.d.BS = g("COMMENT_IS_TOO_LONG");
    m.d.wT = g("EXCESSIVE_NOTE_POSTING");
    m.d.xT = g("EXCESSIVE_NOTE_REPORTING");
    m.d.xS = g("COMMENT_DELETED");
    m.d.G_ = g("PARAMETER_TYPE_MISMATCH");
    m.d.F_ = g("PARAMETER_MISSING");
    m.d.H_ = g("PARAMETER_VALUE_INVALID");
    m.d.eT = g("DUPLICATE_ARTIST_BOOKMARK");
    m.d.hT = g("DUPLICATE_SONG_BOOKMARK");
    m.d.fT = g("DUPLICATE_FRIEND_BOOKMARK");
    m.d.gT = g("DUPLICATE_SEED_BOOKMARK");
    m.d.yT = g("EXCESSIVE_USER_QUICK_BOOKMARKING");
    m.d.b_ = g("LISTENER_NOT_LOGGED_IN");
    m.d.l0 = g("REMOVING_TOO_MANY_SEEDS");
    m.d.dT = g("DEVICE_NOT_FOUND");
    m.d.aT = g("DEVICE_CODE_INVALID");
    m.d.cT = g("DEVICE_DUPLICATE_DEVICECODE");
    m.d.B0 = g("STATE_TRANSITION_NOT_ALLOWED");
    m.d.U_ = g("PRIVATE_PROFILE");
    m.d.f3 = g("WEB_ACTIVATION_CODE_INVALID");
    m.d.$S = g("DEVICE_ALREADY_ASSOCIATED_TO_ACCOUNT");
    m.d.EC = g("USER_ALREADY_USED_TRIAL");
    m.d.YV = g("INVALID_MOBILE_CLIENT_VERSION");
    m.d.WV = g("INVALID_MOBILE_CLIENT_APPLICATION_TYPE");
    m.d.XV = g("INVALID_MOBILE_CLIENT_HANDSET");
    m.d.xR = g("ACCOUNT_ALREADY_ACTIVATED");
    m.d.WZ = g("LICENSING_RESTRICTIONS");
    m.d.Jn = g("BIRTH_YEAR_INVALID");
    m.d.Kn = g("BIRTH_YEAR_TOO_YOUNG");
    m.d.io = g("ZIP_CODE_INVALID");
    m.d.On = g("GENDER_INVALID");
    m.d.DS = g("COUNTRY_CODE_INVALID");
    m.d.AR = g("ADDRESS_BOOK_IMPORTER_ERROR");
    m.d.zR = g("ADDRESS_BOOK_AUTHENTICATION_ERROR");
    m.d.rT = g("EMAIL_CONTENT_INVALID");
    m.d.qT = g("EMAIL_ADDRESS_INVALID");
    m.d.A_ = g("NO_VALID_EMAIL_ADDRESSES");
    m.d.GR = g("API_CALL_NOT_ALLOWED");
    m.d.I_ = g("PASSWORD_NOT_ALLOWED_FOR_SHARED_DEVICE");
    m.d.VV = g("INVALID_AD_TOKEN");
    m.d.bT = g("DEVICE_DISABLED");
    m.d.DR = g("AD_COOKIE_NOT_FOUND");
    m.d.SB = g("INVALID_SPONSOR");
    m.d.BB = g("DAILY_TRIAL_LIMIT_REACHED");
    m.d.VU = g("FEATURE_TEMPORARILY_UNAVAILABLE");
    m.d.RB = g("INVALID_FACEBOOK_ACCOUNT_ASSOCIATION");
    m.d.L0 = g("SUBSCRIPTION_NOT_RENEWABLE");
    m.d.zk = g("SUBSCRIPTION_DISABLED");
    m.d.Pn = g("GIFT_CODE_INVALID");
    m.d.Qn = g("GIFT_CODE_REDEEMED");
    m.d.AV = g("GIFT_CODE_REDEEMED_BY_LISTENER");
    m.d.FB = g("GIFT_CODE_REDEMPTION_ATTEMPTS_EXCEEDED");
    m.d.GB = g("GIFT_REQUIRES_PAYMENT_INFO");
    m.d.BV = g("GIFT_DUPLICATE");
    m.d.CV = g("GIFT_DURATION_INVALID");
    m.d.nu = g("GIFT_INELIGIBLE");
    m.d.EV = g("GIFT_SERVICE_UNAVAILABLE");
    m.d.QV = g("INTEGRATION_PARTNER_UNAVAILABLE");
    m.d.pC = g("SERVICE_UNAVAILABLE");
    m.d.vT = g("EXCESSIVE_ACTIVITY");
    m.d.ZS = g("DAILY_SKIP_LIMIT_REACHED");
    m.d.eu = g("CONTENT_HAS_EXPIRED");
    m.d.J_ = g("PAYPAL_INVALID_TOKEN");
    m.d.K_ = g("PAYPAL_PAYMENT_ALREADY_PAID");
    m.d.Q_ = g("PAYPAL_PAYMENT_NOT_CONFIRMED");
    m.d.O_ = g("PAYPAL_PAYMENT_INVALID_STATE");
    m.d.N_ = g("PAYPAL_PAYMENT_FAILED_TRY_LATER");
    m.d.M_ = g("PAYPAL_PAYMENT_FAILED");
    m.d.L_ = g("PAYPAL_PAYMENT_DECLINED");
    m.d.P_ = g("PAYPAL_PAYMENT_NOT_COMPLETED");
    m.d.HR = g("API_UNSUPPORTED_FUNCTIONALITY");
    m.d.e2 = g("TOO_MANY_STATION_IDS");
    m.d.mC = g("PAYMENT_IN_PROGRESS");
    m.d.J2 = g("VALUE_EXCHANGE_BAD_OFFER_NAME");
    m.d.pS = g("BAD_A_LA_CARTE_RECEIPT");
    m.d.qS = g("BAD_A_LA_CARTE_SKU");
    m.d.FV = g("GIFT_SUBSCRIBER_CANT_CONVERT_TO_BUSINESS");
    m.d.aC = g("LISTENER_ALREADY_CONVERTED_TO_BUSINESS_ONCE");
    m.d.sS = g("BUSINESS_SUBSCRIPTIONS_UNAVAILABLE");
    m.d.uB = g("BUSINESS_INFORMATION_MISSING");
    m.d.iV = g("FRIEND_LIMIT_EXCEEDED");
    m.d.p_ = g("MIP_NO_ARTIST_PERMISSIONS");
    m.d.o_ = g("MIP_NOT_OWNER");
    m.d.n_ = g("MIP_INVALID_INPUT");
    m.d.m_ = g("MIP_FEATURE_DISABLED");
    m.d.q_ = g("MIP_NO_AVAILABLE_INVENTORY");
    m.d.l_ = g("MIP_CTA_URL_INVALID");
    m.d.k_ = g("MIP_CTA_BLACKLISTED");
    m.d.zC = g("THUMBPRINT_RADIO_NOT_ELIGIBLE");
    m.d.F0 = g("STOPPED_AS_SUSPICIOUS");
    m.d.ZZ = g("LISTENER_INCORRECT_PASSWORD");
    m.d.bV = g("FLEX_REPLAY_TRACK_NOT_FOUND");
    m.d.aV = g("FLEX_REPLAY_RIGHT_UNAVAILABLE");
    m.d.dV = g("FLEX_SKIP_RIGHT_UNAVAILABLE");
    m.d.XU = g("FLEX_DOWNLOAD_RIGHT_UNAVAILABLE");
    m.d.ZU = g("FLEX_ON_DEMAND_RIGHT_UNAVAILABLE");
    m.d.$U = g("FLEX_REPLAY_LISTENER_INELIGIBLE");
    m.d.cV = g("FLEX_REPLAY_TRACK_TYPE_UNSUPPORTED");
    m.d.K2 = g("VALUE_EXCHANGE_EXCEPTION");
    m.d.YU = g("FLEX_INSUFFICIENT_REWARD_REPLAYS");
    m.Fc = {};
    m.Fc.g2 = g("TRANSFORM_CONFIRM");
    m.Fc.f2 = g("TRANSFORM_AUTOMATIC");
    m.Fc.Ve = g("TRANSFORM_NOT_ALLOWED");
    m.Ue = {};
    m.Ue.$P = g("song");
    m.Ue.Nc = g("album");
    m.Ue.FE = g("artist");
    m.Ue.h = g("station");
    m.Ue.D3 = g("genrestation");
    m.de = {};
    m.de.Nu = g("TIMEOUT_CREDIT");
    m.de.r_ = g("MONTHLY_LISTENING");
    m.de.ao = g("SPONSORED_LISTENING");
    m.zb = {};
    m.zb.nB = g("AUDIO_IMPRESSION");
    m.zb.pB = g("AUDIO_TILE_IMPRESSION");
    m.zb.hV = g("FOLLOW_ON_IMPRESSION");
    m.zb.rC = g("SKIP");
    m.zb.oB = g("AUDIO_TILE_CLICK");
    m.zb.gV = g("FOLLOW_ON_CLICK");
    m.zb.xC = g("STATION_CREATE");
    m.zb.JR = g("AUDIO_IMPRESSION_UNIQUE");
    function qd(b) {
        var c = typeof b;
        if ("object" == c)
            if (b) {
                if (b instanceof Array || !(b instanceof Object) && "[object Array]" == Object.prototype.toString.call(b) || "number" == typeof b.length && "undefined" != typeof b.splice && "undefined" != typeof b.propertyIsEnumerable && !b.propertyIsEnumerable("splice"))
                    return "array";
                if (!(b instanceof Object || "[object Function]" != Object.prototype.toString.call(b) && ("undefined" == typeof b.call || "undefined" == typeof b.propertyIsEnumerable || b.propertyIsEnumerable("call"))))
                    return "function"
            } else
                return "null";
        else if ("function" == c && "undefined" == typeof b.call)
            return "object";
        return c
    }
    function rd(b) {
        return "string" == typeof b
    }
    function sd(b) {
        return "number" == typeof b
    }
    function td(b) {
        b = qd(b);
        return "object" == b || "array" == b || "function" == b
    }
    Math.floor(2147483648 * Math.random()).toString(36);
    var ud = Date.now || function() {
        return +new Date
    }
    ;
    function vd(b, c) {
        function d() {}
        d.prototype = c.prototype;
        b.uQ = c.prototype;
        b.prototype = new d;
        b.prototype.constructor = b
    }
    ;m = m ? m : {};
    function wd() {}
    ;function xd(b) {
        this.body = b
    }
    vd(xd, wd);
    function yd(b) {
        this.vb = b
    }
    vd(yd, wd);
    function n(b) {
        return b.vb[0]
    }
    function zd(b) {
        this.message = b;
        this.hg = Rb([b])
    }
    vd(zd, wd);
    function Ad(b) {
        zd.call(this, b)
    }
    vd(Ad, zd);
    function Bd(b) {
        zd.call(this, b)
    }
    vd(Bd, Ad);
    function Cd(b, c, d) {
        zd.call(this, b);
        this.url = c;
        this.xml = d
    }
    vd(Cd, Bd);
    function Dd(b, c) {
        zd.call(this, b);
        this.code = c
    }
    vd(Dd, Ad);
    function Ed() {
        return Math.floor(Fd() / 1E3)
    }
    function Fd() {
        return (new Date).getTime()
    }
    function Gd(b, c, d, e) {
        if (d)
            return "/img/no_photo_180_fb.png";
        b = null == b ? null : b.lH ? b.Ea : b.fbId ? b.fbId : b.fbid ? b.fbid : b.attr ? b.attr("fbid") : null ;
        return null != b && 0 < b && !e ? "http://graph.facebook.com/v2.2/" + b + "/picture?type=" + (c ? "square" : "large") : "/img/no_listener_image.png"
    }
    function Hd(b) {
        return b.replace(/<\/?[^>]+(>|$)|\"/g, "")
    }
    function Id(b) {
        return b.substring(0, b.indexOf("'s Thumbprint Radio"))
    }
    function Jd() {
        if (window._migrateUserToHttps) {
            var b;
            b = 80 != window.location.port ? "https://" + window.location.hostname + ":" + Kd() + window.location.pathname + window.location.search : "https://" + window.location.hostname + window.location.pathname + window.location.search;
            k.debug("Redirect location: " + b);
            window.location = b
        }
    }
    function Ld() {
        return "https:" == window.location.protocol
    }
    ;function Md(b) {
        var c = "", d, e, h, l, p, q, t = 0;
        b = b.replace(/\r\n/g, "\n");
        e = "";
        for (h = 0; h < b.length; h++)
            l = b.charCodeAt(h),
            128 > l ? e += String.fromCharCode(l) : (127 < l && 2048 > l ? e += String.fromCharCode(l >> 6 | 192) : (e += String.fromCharCode(l >> 12 | 224),
            e += String.fromCharCode(l >> 6 & 63 | 128)),
            e += String.fromCharCode(l & 63 | 128));
        for (b = e; t < b.length; )
            d = b.charCodeAt(t++),
            e = b.charCodeAt(t++),
            h = b.charCodeAt(t++),
            l = d >> 2,
            d = (d & 3) << 4 | e >> 4,
            p = (e & 15) << 2 | h >> 6,
            q = h & 63,
            isNaN(e) ? p = q = 64 : isNaN(h) && (q = 64),
            c = c + "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_ ".charAt(l) + "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_ ".charAt(d) + "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_ ".charAt(p) + "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_ ".charAt(q),
            c = c.replace(/\s+$/, "");
        return c
    }
    ;var Nd = [0, 0, 192, 224, 240, 248, 252]
      , Od = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 3, 3, 3, 3, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5]
      , Pd = [0, 12416, 925824, 63447168, 4194836608, 2181570688];
    function Qd() {}
    function Rd() {
        return [[608135816, 2242054355, 320440878, 57701188, 2752067618, 698298832, 137296536, 3964562569, 1160258022, 953160567, 3193202383, 887688300, 3232508343, 3380367581, 1065670069, 3041331479, 2450970073, 2306472731], [3509652390, 2564797868, 805139163, 3491422135, 3101798381, 1780907670, 3128725573, 4046225305, 614570311, 3012652279, 134345442, 2240740374, 1667834072, 1901547113, 2757295779, 4103290238, 227898511, 1921955416, 1904987480, 2182433518, 2069144605, 3260701109, 2620446009, 720527379, 3318853667, 677414384, 3393288472, 3101374703, 2390351024, 1614419982, 1822297739, 2954791486, 3608508353, 3174124327, 2024746970, 1432378464, 3864339955, 2857741204, 1464375394, 1676153920, 1439316330, 715854006, 3033291828, 289532110, 2706671279, 2087905683, 3018724369, 1668267050, 732546397, 1947742710, 3462151702, 2609353502, 2950085171, 1814351708, 2050118529, 680887927, 999245976, 1800124847, 3300911131, 1713906067, 1641548236, 4213287313, 1216130144, 1575780402, 4018429277, 3917837745, 3693486850, 3949271944, 596196993, 3549867205, 258830323, 2213823033, 772490370, 2760122372, 1774776394, 2652871518, 566650946, 4142492826, 1728879713, 2882767088, 1783734482, 3629395816, 2517608232, 2874225571, 1861159788, 326777828, 3124490320, 2130389656, 2716951837, 967770486, 1724537150, 2185432712, 2364442137, 1164943284, 2105845187, 998989502, 3765401048, 2244026483, 1075463327, 1455516326, 1322494562, 910128902, 469688178, 1117454909, 936433444, 3490320968, 3675253459, 1240580251, 122909385, 2157517691, 634681816, 4142456567, 3825094682, 3061402683, 2540495037, 79693498, 3249098678, 1084186820, 1583128258, 426386531, 1761308591, 1047286709, 322548459, 995290223, 1845252383, 2603652396, 3431023940, 2942221577, 3202600964, 3727903485, 1712269319, 422464435, 3234572375, 1170764815, 3523960633, 3117677531, 1434042557, 442511882, 3600875718, 1076654713, 1738483198, 4213154764, 2393238008, 3677496056, 1014306527, 4251020053, 793779912, 2902807211, 842905082, 4246964064, 1395751752, 1040244610, 2656851899, 3396308128, 445077038, 3742853595, 3577915638, 679411651, 2892444358, 2354009459, 1767581616, 3150600392, 3791627101, 3102740896, 284835224, 4246832056, 1258075500, 768725851, 2589189241, 3069724005, 3532540348, 1274779536, 3789419226, 2764799539, 1660621633, 3471099624, 4011903706, 913787905, 3497959166, 737222580, 2514213453, 2928710040, 3937242737, 1804850592, 3499020752, 2949064160, 2386320175, 2390070455, 2415321851, 4061277028, 2290661394, 2416832540, 1336762016, 1754252060, 3520065937, 3014181293, 791618072, 3188594551, 3933548030, 2332172193, 3852520463, 3043980520, 413987798, 3465142937, 3030929376, 4245938359, 2093235073, 3534596313, 375366246, 2157278981, 2479649556, 555357303, 3870105701, 2008414854, 3344188149, 4221384143, 3956125452, 2067696032, 3594591187, 2921233993, 2428461, 544322398, 577241275, 1471733935, 610547355, 4027169054, 1432588573, 1507829418, 2025931657, 3646575487, 545086370, 48609733, 2200306550, 1653985193, 298326376, 1316178497, 3007786442, 2064951626, 458293330, 2589141269, 3591329599, 3164325604, 727753846, 2179363840, 146436021, 1461446943, 4069977195, 705550613, 3059967265, 3887724982, 4281599278, 3313849956, 1404054877, 2845806497, 146425753, 1854211946], [1266315497, 3048417604, 3681880366, 3289982499, 290971E4, 1235738493, 2632868024, 2414719590, 3970600049, 1771706367, 1449415276, 3266420449, 422970021, 1963543593, 2690192192, 3826793022, 1062508698, 1531092325, 1804592342, 2583117782, 2714934279, 4024971509, 1294809318, 4028980673, 1289560198, 2221992742, 1669523910, 35572830, 157838143, 1052438473, 1016535060, 1802137761, 1753167236, 1386275462, 3080475397, 2857371447, 1040679964, 2145300060, 2390574316, 1461121720, 2956646967, 4031777805, 4028374788, 33600511, 2920084762, 1018524850, 629373528, 3691585981, 3515945977, 2091462646, 2486323059, 586499841, 988145025, 935516892, 3367335476, 2599673255, 2839830854, 265290510, 3972581182, 2759138881, 3795373465, 1005194799, 847297441, 406762289, 1314163512, 1332590856, 1866599683, 4127851711, 750260880, 613907577, 1450815602, 3165620655, 3734664991, 3650291728, 3012275730, 3704569646, 1427272223, 778793252, 1343938022, 2676280711, 2052605720, 1946737175, 3164576444, 3914038668, 3967478842, 3682934266, 1661551462, 3294938066, 4011595847, 840292616, 3712170807, 616741398, 312560963, 711312465, 1351876610, 322626781, 1910503582, 271666773, 2175563734, 1594956187, 70604529, 3617834859, 1007753275, 1495573769, 4069517037, 2549218298, 2663038764, 504708206, 2263041392, 3941167025, 2249088522, 1514023603, 1998579484, 1312622330, 694541497, 2582060303, 2151582166, 1382467621, 776784248, 2618340202, 3323268794, 2497899128, 2784771155, 503983604, 4076293799, 907881277, 423175695, 432175456, 1378068232, 4145222326, 3954048622, 3938656102, 3820766613, 2793130115, 2977904593, 26017576, 3274890735, 3194772133, 1700274565, 1756076034, 4006520079, 3677328699, 720338349, 1533947780, 354530856, 688349552, 3973924725, 1637815568, 332179504, 3949051286, 53804574, 2852348879, 3044236432, 1282449977, 3583942155, 3416972820, 4006381244, 1617046695, 2628476075, 3002303598, 1686838959, 431878346, 2686675385, 1700445008, 1080580658, 1009431731, 832498133, 3223435511, 2605976345, 2271191193, 2516031870, 1648197032, 4164389018, 2548247927, 300782431, 375919233, 238389289, 3353747414, 2531188641, 2019080857, 1475708069, 455242339, 2609103871, 448939670, 3451063019, 1395535956, 2413381860, 1841049896, 1491858159, 885456874, 4264095073, 4001119347, 1565136089, 3898914787, 1108368660, 540939232, 1173283510, 2745871338, 3681308437, 4207628240, 3343053890, 4016749493, 1699691293, 1103962373, 3625875870, 2256883143, 3830138730, 1031889488, 3479347698, 1535977030, 4236805024, 3251091107, 2132092099, 1774941330, 1199868427, 1452454533, 157007616, 2904115357, 342012276, 595725824, 1480756522, 206960106, 497939518, 591360097, 863170706, 2375253569, 3596610801, 1814182875, 2094937945, 3421402208, 1082520231, 3463918190, 2785509508, 435703966, 3908032597, 1641649973, 2842273706, 3305899714, 1510255612, 2148256476, 2655287854, 3276092548, 4258621189, 236887753, 3681803219, 274041037, 1734335097, 3815195456, 3317970021, 1899903192, 1026095262, 4050517792, 356393447, 2410691914, 3873677099, 3682840055], [3913112168, 2491498743, 4132185628, 2489919796, 1091903735, 1979897079, 3170134830, 3567386728, 3557303409, 857797738, 1136121015, 1342202287, 507115054, 2535736646, 337727348, 3213592640, 1301675037, 2528481711, 1895095763, 1721773893, 3216771564, 62756741, 2142006736, 835421444, 2531993523, 1442658625, 3659876326, 2882144922, 676362277, 1392781812, 170690266, 3921047035, 1759253602, 3611846912, 1745797284, 664899054, 1329594018, 3901205900, 3045908486, 2062866102, 2865634940, 3543621612, 3464012697, 1080764994, 553557557, 3656615353, 3996768171, 991055499, 499776247, 1265440854, 648242737, 3940784050, 980351604, 3713745714, 1749149687, 3396870395, 4211799374, 3640570775, 1161844396, 3125318951, 1431517754, 545492359, 4268468663, 3499529547, 1437099964, 2702547544, 3433638243, 2581715763, 2787789398, 1060185593, 1593081372, 2418618748, 4260947970, 69676912, 2159744348, 86519011, 2512459080, 3838209314, 1220612927, 3339683548, 133810670, 1090789135, 1078426020, 1569222167, 845107691, 3583754449, 4072456591, 1091646820, 628848692, 1613405280, 3757631651, 526609435, 236106946, 48312990, 2942717905, 3402727701, 1797494240, 859738849, 992217954, 4005476642, 2243076622, 3870952857, 3732016268, 765654824, 3490871365, 2511836413, 1685915746, 3888969200, 1414112111, 2273134842, 3281911079, 4080962846, 172450625, 2569994100, 980381355, 4109958455, 2819808352, 2716589560, 2568741196, 3681446669, 3329971472, 1835478071, 660984891, 3704678404, 4045999559, 3422617507, 3040415634, 1762651403, 1719377915, 3470491036, 2693910283, 3642056355, 3138596744, 1364962596, 2073328063, 1983633131, 926494387, 3423689081, 2150032023, 4096667949, 1749200295, 3328846651, 309677260, 2016342300, 1779581495, 3079819751, 111262694, 1274766160, 443224088, 298511866, 1025883608, 3806446537, 1145181785, 168956806, 3641502830, 3584813610, 1689216846, 3666258015, 3200248200, 1692713982, 2646376535, 4042768518, 1618508792, 1610833997, 3523052358, 4130873264, 2001055236, 3610705100, 2202168115, 4028541809, 2961195399, 1006657119, 2006996926, 3186142756, 1430667929, 3210227297, 1314452623, 4074634658, 4101304120, 2273951170, 1399257539, 3367210612, 3027628629, 1190975929, 2062231137, 2333990788, 2221543033, 2438960610, 1181637006, 548689776, 2362791313, 3372408396, 3104550113, 3145860560, 296247880, 1970579870, 3078560182, 3769228297, 1714227617, 3291629107, 3898220290, 166772364, 1251581989, 493813264, 448347421, 195405023, 2709975567, 677966185, 3703036547, 1463355134, 2715995803, 1338867538, 1343315457, 2802222074, 2684532164, 233230375, 2599980071, 2000651841, 3277868038, 1638401717, 4028070440, 3237316320, 6314154, 819756386, 300326615, 590932579, 1405279636, 3267499572, 3150704214, 2428286686, 3959192993, 3461946742, 1862657033, 1266418056, 963775037, 2089974820, 2263052895, 1917689273, 448879540, 3550394620, 3981727096, 150775221, 3627908307, 1303187396, 508620638, 2975983352, 2726630617, 1817252668, 1876281319, 1457606340, 908771278, 3720792119, 3617206836, 2455994898, 1729034894, 1080033504], [976866871, 3556439503, 2881648439, 1522871579, 1555064734, 1336096578, 3548522304, 2579274686, 3574697629, 3205460757, 3593280638, 3338716283, 3079412587, 564236357, 2993598910, 1781952180, 1464380207, 3163844217, 3332601554, 1699332808, 1393555694, 1183702653, 3581086237, 1288719814, 691649499, 2847557200, 2895455976, 3193889540, 2717570544, 1781354906, 1676643554, 2592534050, 3230253752, 1126444790, 2770207658, 2633158820, 2210423226, 2615765581, 2414155088, 3127139286, 673620729, 2805611233, 1269405062, 4015350505, 3341807571, 4149409754, 1057255273, 2012875353, 2162469141, 2276492801, 2601117357, 993977747, 3918593370, 2654263191, 753973209, 36408145, 2530585658, 25011837, 3520020182, 2088578344, 530523599, 2918365339, 1524020338, 1518925132, 3760827505, 3759777254, 1202760957, 3985898139, 3906192525, 674977740, 4174734889, 2031300136, 2019492241, 3983892565, 4153806404, 3822280332, 352677332, 2297720250, 60907813, 90501309, 3286998549, 1016092578, 2535922412, 2839152426, 457141659, 509813237, 4120667899, 652014361, 1966332200, 2975202805, 55981186, 2327461051, 676427537, 3255491064, 2882294119, 3433927263, 1307055953, 942726286, 933058658, 2468411793, 3933900994, 4215176142, 1361170020, 2001714738, 2830558078, 3274259782, 1222529897, 1679025792, 2729314320, 3714953764, 1770335741, 151462246, 3013232138, 1682292957, 1483529935, 471910574, 1539241949, 458788160, 3436315007, 1807016891, 3718408830, 978976581, 1043663428, 3165965781, 1927990952, 4200891579, 2372276910, 3208408903, 3533431907, 1412390302, 2931980059, 4132332400, 1947078029, 3881505623, 4168226417, 2941484381, 1077988104, 1320477388, 886195818, 18198404, 3786409E3, 2509781533, 112762804, 3463356488, 1866414978, 891333506, 18488651, 661792760, 1628790961, 3885187036, 3141171499, 876946877, 2693282273, 1372485963, 791857591, 2686433993, 3759982718, 3167212022, 3472953795, 2716379847, 445679433, 3561995674, 3504004811, 3574258232, 54117162, 3331405415, 2381918588, 3769707343, 4154350007, 1140177722, 4074052095, 668550556, 3214352940, 367459370, 261225585, 2610173221, 4209349473, 3468074219, 3265815641, 314222801, 3066103646, 3808782860, 282218597, 3406013506, 3773591054, 379116347, 1285071038, 846784868, 2669647154, 3771962079, 3550491691, 2305946142, 453669953, 1268987020, 3317592352, 3279303384, 3744833421, 2610507566, 3859509063, 266596637, 3847019092, 517658769, 3462560207, 3443424879, 370717030, 4247526661, 2224018117, 4143653529, 4112773975, 2788324899, 2477274417, 1456262402, 2901442914, 1517677493, 1846949527, 2295493580, 3734397586, 2176403920, 1280348187, 1908823572, 3871786941, 846861322, 1172426758, 3287448474, 3383383037, 1655181056, 3139813346, 901632758, 1897031941, 2986607138, 3066810236, 3447102507, 1393639104, 373351379, 950779232, 625454576, 3124240540, 4148612726, 2007998917, 544563296, 2244738638, 2330496472, 2058025392, 1291430526, 424198748, 50039436, 29584100, 3605783033, 2429876329, 2791104160, 1057563949, 3255363231, 3075367218, 3463963227, 1469046755, 985887462]]
    }
    function Sd() {
        var b = Rd();
        null == b && (b = Rd());
        var c = b[0]
          , d = b[1]
          , e = b[2]
          , h = b[3]
          , b = b[4]
          , l = new Qd;
        Ud(l, c, d, e, h, b);
        for (var p = Vd(Wd("Ba-qrf5@t%pf/;u^")), q = 0, t = 0; 18 > t; ++t) {
            for (var y = 0, E = 0; 4 > E; ++E)
                y = y << 8 | p[q],
                q += 1,
                q >= p.length && (q = 0);
            c[t] ^= y
        }
        p = [0, 0];
        for (t = 0; 18 > t; t += 2)
            l.Rp(p, 0),
            c[t] = p[0],
            c[t + 1] = p[1];
        for (t = 0; 4 > t; t++)
            for (c = [d, e, h, b][t],
            q = 0; 256 > q; q += 2)
                l.Rp(p, 0),
                c[q] = p[0],
                c[q + 1] = p[1];
        return l
    }
    function Xd(b) {
        var c = new Qd;
        Ud(c, b[0], b[1], b[2], b[3], b[4]);
        return c
    }
    function Ud(b, c, d, e, h, l) {
        b.Rp = function(b, q) {
            var t = b[q], y = b[q + 1], E, I;
            for (I = 0; 16 > I; ++I) {
                var N = t ^= c[I], U, pa;
                pa = N & 255;
                N >>= 8;
                E = N & 255;
                N >>= 8;
                U = N & 255;
                N >>= 8;
                N = d[N & 255] + e[U];
                N ^= h[E];
                N += l[pa];
                y ^= N;
                E = t;
                t = y;
                y = E
            }
            E = t;
            t = y;
            y = E ^ c[16];
            t ^= c[17];
            b[q] = t;
            b[q + 1] = y
        }
        ;
        b.TF = function(b, q) {
            var t = b[q], y = b[q + 1], E, I;
            for (I = 17; 1 < I; --I) {
                var N = t ^= c[I], U, pa;
                pa = N & 255;
                N >>= 8;
                E = N & 255;
                N >>= 8;
                U = N & 255;
                N >>= 8;
                N = d[N & 255] + e[U];
                N ^= h[E];
                N += l[pa];
                y ^= N;
                E = t;
                t = y;
                y = E
            }
            E = t;
            t = y;
            y = E ^ c[1];
            t ^= c[0];
            b[q] = t;
            b[q + 1] = y
        }
    }
    Qd.prototype.encrypt = function(b) {
        b = Wd(b);
        b = Vd(b);
        b = Yd(b);
        for (var c = 0; c < b.length; c += 2)
            this.Rp(b, c);
        b = Zd(b);
        for (var c = "", d = 0; d < b.length; d++)
            var e = b[d].toString(16)
              , c = 1 == e.length ? c + ("0" + e) : c + e;
        return c
    }
    ;
    Qd.prototype.decrypt = function(b) {
        b = String(b);
        b = $d(this, b);
        b = ae(b);
        return be(b)
    }
    ;
    function $d(b, c) {
        for (var d = [], e = 0; e < c.length; e += 2)
            d.push(parseInt(c.substr(e, 2), 16));
        d = Yd(d);
        for (e = 0; e < d.length; e += 2)
            b.TF(d, e);
        return Zd(d)
    }
    function Wd(b) {
        for (var c = [], d = 0; d < b.length; d++)
            c.push(b.charCodeAt(d));
        return c
    }
    function be(b) {
        for (var c = [], d = 0; d < b.length; d++)
            c.push(String.fromCharCode(b[d]));
        return c.join("")
    }
    function Vd(b) {
        for (var c = [], d = 0; d < b.length; ) {
            var e = b[d];
            d++;
            if (55296 <= e && 56319 >= e) {
                if (d == b.length) {
                    k.error("source exhausted");
                    break
                }
                var h = b[d];
                (56320 > h || 57343 < e) && k.error("unpaired high surrogate");
                e = (e - 55296 << 10) + (h - 56320) + 65536;
                d++
            } else
                56320 <= e && 57343 >= e && k.error("UTF-16 surrogate values are illegal in UTF-32");
            h = 0;
            128 > e ? h = 1 : 2048 > e ? h = 2 : 65536 > e ? h = 3 : 1114112 > e ? h = 4 : (h = 3,
            e = 65533);
            if (null == Nd[h]) {
                k.error("invalid bytesToWrite: " + h);
                break
            }
            var l = c.length;
            switch (h) {
            case 4:
                c[l + 3] = (e | 128) & 191,
                e >>= 6;
            case 3:
                c[l + 2] = (e | 128) & 191,
                e >>= 6;
            case 2:
                c[l + 1] = (e | 128) & 191,
                e >>= 6;
            case 1:
                c[l] = e | Nd[h]
            }
        }
        return c
    }
    function ae(b) {
        for (var c = [], d = 0; d < b.length; ) {
            var e = 0
              , h = Od[b[d]];
            if (d + h > b.length)
                return k.error("source exhausted"),
                c;
            if (!ce(b.slice(d, d + h + 1)))
                return k.error("not legal UTF-8"),
                c;
            switch (h) {
            case 5:
                e += b[d],
                d++,
                e <<= 6;
            case 4:
                e += b[d],
                d++,
                e <<= 6;
            case 3:
                e += b[d],
                d++,
                e <<= 6;
            case 2:
                e += b[d],
                d++,
                e <<= 6;
            case 1:
                e += b[d],
                d++,
                e <<= 6;
            case 0:
                e += b[d],
                d++
            }
            e -= Pd[h];
            65535 >= e ? 55296 <= e && 57343 >= e ? (k.error("UTF-16 surrogate values are illegal in UTF-32"),
            c.push(65533)) : c.push(e) : 1114111 < e ? (k.error("ch > UNI_MAX_UTF16"),
            c.push(65533)) : (e -= 65536,
            c.push((e >> 10) + 55296),
            c.push((e & 1023) + 56320))
        }
        for (; c.length && 8 >= c[c.length - 1]; )
            c.pop();
        return c
    }
    function ce(b) {
        var c;
        switch (b.length) {
        default:
            return !1;
        case 4:
            if (128 > (c = b[3]) || 191 < c)
                return !1;
        case 3:
            if (128 > (c = b[2]) || 191 < c)
                return !1;
        case 2:
            if (191 < (c = b[1]))
                return !1;
            switch (b[0]) {
            case 224:
                if (160 > c)
                    return !1;
                break;
            case 237:
                if (159 < c)
                    return !1;
                break;
            case 240:
                if (144 > c)
                    return !1;
                break;
            case 244:
                if (143 < c)
                    return !1;
                break;
            default:
                if (128 > c)
                    return !1
            }
        case 1:
            if (128 <= b[0] && 194 > b[0])
                return !1
        }
        return 244 < b[0] ? !1 : !0
    }
    function Yd(b) {
        var c = [], d = b.length, e = 0 == d % 4 ? d : d - d % 4, h;
        for (h = 0; h < e; h += 4)
            c[c.length] = b[h] << 24 | b[h + 1] << 16 | b[h + 2] << 8 | b[h + 3];
        if (h < d) {
            for (var l = e = 0; 4 > l; l++)
                h + l < d && (e |= b[h + l] << 8 * (3 - l));
            c[c.length] = e
        }
        return c
    }
    function Zd(b) {
        for (var c = [], d = 0, e = 0; e < b.length; e++) {
            var h = b[e];
            c[d] = h >> 24 & 255;
            d++;
            c[d] = h >> 16 & 255;
            d++;
            c[d] = h >> 8 & 255;
            d++;
            c[d] = h & 255;
            d++
        }
        return c
    }
    ;function r(b, c) {
        null != b && null != c || k.error("neither caller nor method may be null");
        var d = trackJs.watch(function() {
            return c.apply(b, arguments)
        });
        d._caller = b;
        return d
    }
    function de(b, c, d) {
        return setTimeout(r(b, c), d)
    }
    function ee(b) {
        null != b && 0 < b.length && (b = b.replace(/^.*\/xml\//, "/json/"));
        return b
    }
    function fe(b) {
        if (!_.isFunction(b))
            return k.error("Attempting to create a single call function but no backing function was provided."),
            $.noop;
        var c = !1;
        return function() {
            c ? k.warn("A function that should only be called once is being called again.") : (c = !0,
            b.apply(null , arguments))
        }
    }
    function ge(b, c, d) {
        var e = null ;
        2 < arguments.length && (e = _.rest(arguments, 2));
        var h = fe(b);
        c && setTimeout(function() {
            h.apply(null , e)
        }, c);
        return h
    }
    function he(b) {
        null != b && 0 < b.length && (b = b.replace(/\?dc=.*?$/, ""),
        b = b.replace("/music/artist", ""),
        b = b.replace("/music/composer", ""),
        b = b.replace("/music/album", ""),
        b = b.replace("/music/song", ""));
        return b
    }
    function ie(b) {
        return _.without(b.split("/"), "")
    }
    function je() {
        return (new Date).getTime() + "" + Math.floor(1E4 * Math.random())
    }
    function ke(b, c) {
        for (var d = 0; b && d < b.length; d++)
            if (b[d] == c)
                return !0;
        return !1
    }
    function le(b) {
        return null != b && "" != b + ""
    }
    function me(b) {
        return null == b || 0 == b.length
    }
    function ne(b) {
        return 100 * Math.random() < b
    }
    function oe(b, c, d) {
        var e = new Date;
        e.setTime(e.getTime() + 864E5 * d);
        b = b + "=" + c + "; path=/; " + ("expires=" + e.toGMTString() + "; ");
        null != document.domain && (document.domain.match(/pandora.com$/) ? b += "domain=.pandora.com;" : document.domain.match(/savagebeast.com$/) && (b += "domain=.savagebeast.com;"),
        "https:" == window.location.protocol && (b += " secure;"));
        document.cookie = b
    }
    function pe(b) {
        return null == b ? !1 : "true" == b.toLowerCase()
    }
    function qe(b, c, d, e) {
        var h = "Unknown";
        b.message ? h = b.message : rd(b) && (h = String(b));
        re({
            msg: h,
            url: c,
            num: d,
            ua: navigator.userAgent,
            browser: se(),
            site_version: window._pandoraVersion,
            flash_ver: te()
        }, e)
    }
    function ue(b, c) {
        var d, e = (new Date).format("yyyy-mm-dd HH:MM:ss", !0), h = null ;
        d || (d = ve ? ve.get("currentUser") : null );
        ve && ve.get("sequenceNumber") && (h = ve.get("sequenceNumber"),
        ve.set({
            sequenceNumber: h + 1
        }));
        s("mobile_view_mode", {
            page_view: b,
            view_mode: c,
            vendor_id: u,
            device_id: we,
            device_code: we,
            device_os: se(),
            client_timestamp: e,
            sequence_number: h
        }, d)
    }
    function xe(b, c, d, e) {
        var h, l = (new Date).format("yyyy-mm-dd HH:MM:ss", !0);
        h || (h = ve ? ve.get("currentUser") : null );
        s("onboarding_server_action", {
            page_view: b,
            view_mode: c,
            vendor_id: u,
            device_id: we,
            device_code: we,
            device_os: se(),
            client_timestamp: l,
            action: d,
            action_failure_reason: e
        }, h)
    }
    function ye(b, c, d) {
        var e = v.i && v.i.Ef();
        d && trackJs.console.warn("message: " + d);
        d = c && c.jPlayer && c.jPlayer.error && c.jPlayer.error.message || c;
        var h = c && c.jPlayer && c.jPlayer.error && c.jPlayer.error.formatType || ""
          , l = c && c.jPlayer && c.jPlayer.flash && c.jPlayer.flash.active || "";
        c = c && c.jPlayer && c.jPlayer.version && c.jPlayer.version.flash || "";
        trackJs.console.warn("adToken: " + e);
        trackJs.console.warn("trackToken: " + (b && b.Za()));
        trackJs.console.warn("stationId: " + (b && b.r && b.r().e()));
        trackJs.console.warn("message: " + d);
        trackJs.console.warn("format: " + h);
        trackJs.console.warn("using flash: " + l);
        l && trackJs.console.warn("flash ver: " + c);
        trackJs.track("Error during playback detected.")
    }
    function te() {
        var b = "unknown";
        try {
            if (swfobject)
                var c = swfobject.getFlashPlayerVersion()
                  , b = c.major + "." + c.minor + "." + c.release
        } catch (d) {}
        return b
    }
    function se() {
        return BrowserDetect.browser + " " + BrowserDetect.version + " (" + BrowserDetect.OS + ")"
    }
    function ze(b) {
        if (!me(window.location.hostname)) {
            $.cookie(b, null , {
                path: "/",
                domain: window.location.hostname
            });
            var c = window.location.hostname.indexOf(".");
            0 > c && (c = 0);
            $.cookie(b, null , {
                path: "/",
                domain: window.location.hostname.substring(c)
            })
        }
        $.cookie(b, null , {
            path: "/"
        })
    }
    function Ae() {
        return "Explorer" == BrowserDetect.browser && 8 >= BrowserDetect.version
    }
    function Be() {
        return "Explorer" == BrowserDetect.browser && 7 >= BrowserDetect.version
    }
    function Ce() {
        return "Firefox" == BrowserDetect.browser
    }
    function De(b, c) {
        for (var d = "", e = 0; e < b.length; e++)
            d += String.fromCharCode(b.charCodeAt(e) ^ c[e % c.length]);
        return d
    }
    window.emptySelection = function() {
        $.textSelect("clear")
    }
    ;
    var k = {
        enabled: !1,
        debug: function() {},
        info: function() {},
        warn: function(b) {
            null != window.console && null != window.console.warn && window.console.warn.apply(window.console, arguments)
        },
        error: function(b) {
            null != window.console && null != window.console.error && window.console.error.apply(window.console, arguments)
        }
    };
    "Explorer" == BrowserDetect.browser && 10 > BrowserDetect.version && null != window.console && (null != window.console.warn && (k.warn = window.console.warn),
    null != window.console.error && (k.error = window.console.error));
    var w = 0
      , Ee = w++
      , Fe = w++
      , Ge = w++
      , He = w++
      , Ie = w++
      , Je = w++
      , Ke = w++
      , Le = w++
      , Me = w++
      , Ne = w++
      , Oe = w++
      , Pe = w++
      , Qe = w++
      , Re = w++
      , Se = w++
      , Te = w++
      , Ue = w++
      , Ve = w++
      , We = w++
      , Xe = w++
      , Ye = w++
      , Ze = w++
      , $e = w++
      , af = w++
      , bf = w++
      , cf = w++
      , df = w++
      , ef = w++
      , ff = w++
      , gf = w++
      , hf = w++
      , jf = w++
      , kf = w++
      , lf = w++
      , mf = w++
      , nf = w++
      , of = w++
      , pf = w++
      , qf = w++
      , rf = w++
      , sf = w++
      , tf = w++
      , uf = w++
      , vf = w++
      , wf = w++
      , xf = w++
      , yf = w++
      , zf = w++
      , Af = w++
      , Bf = w++
      , Cf = w++
      , Df = w++
      , Ef = w++
      , Ff = w++
      , Gf = w++
      , Hf = w++
      , If = w++
      , Jf = w++
      , Kf = w++
      , Lf = w++
      , Mf = w++
      , Nf = w++
      , Of = w++
      , Pf = w++
      , Qf = w++
      , Rf = w++
      , Sf = w++
      , Tf = w++
      , Uf = w++
      , Vf = w++
      , Wf = w++
      , Xf = w++
      , Yf = w++
      , Zf = w++
      , $f = w++
      , ag = w++
      , bg = w++
      , cg = w++
      , dg = w++
      , eg = w++
      , fg = w++
      , gg = w++
      , hg = w++
      , ig = w++
      , jg = w++
      , kg = w++
      , lg = w++
      , mg = w++
      , ng = w++
      , og = w++
      , pg = w++
      , qg = w++
      , rg = w++
      , sg = w++
      , tg = w++
      , ug = w++
      , vg = w++
      , wg = w++
      , xg = w++
      , yg = w++
      , zg = w++
      , Ag = w++
      , Bg = w++
      , Cg = w++
      , Dg = w++
      , Eg = w++
      , Fg = w++
      , Gg = w++
      , Hg = w++
      , Ig = w++
      , Jg = w++
      , Kg = w++
      , Lg = w++
      , Mg = w++
      , Ng = w++
      , Og = w++
      , Pg = w++
      , Qg = w++
      , Rg = w++
      , Sg = w++
      , Tg = w++
      , Ug = w++
      , Vg = w++
      , Wg = w++
      , Xg = w++
      , Yg = w++
      , Zg = w++
      , $g = w++
      , ah = w++
      , bh = w++
      , ch = w++
      , dh = w++
      , eh = w++
      , fh = w++
      , gh = w++
      , hh = w++
      , ih = w++
      , jh = w++
      , kh = w++
      , lh = w++
      , mh = w++
      , nh = w++
      , oh = w++
      , ph = w++
      , qh = w++
      , rh = w++
      , sh = w++
      , th = w++
      , uh = w++
      , vh = w++
      , wh = w++
      , xh = w++
      , yh = w++
      , zh = w++
      , Ah = w++
      , Bh = w++
      , Ch = w++
      , Dh = w++
      , Eh = w++
      , Fh = w++
      , Gh = w++
      , Hh = w++
      , Ih = w++
      , Jh = w++
      , Kh = w++
      , Lh = w++
      , Mh = w++
      , Nh = w++
      , Oh = w++
      , Ph = w++
      , Qh = w++
      , Rh = w++
      , Sh = w++
      , Th = w++
      , Uh = w++
      , Vh = w++
      , Wh = w++
      , Xh = w++
      , Yh = w++
      , Zh = w++
      , $h = w++
      , ai = w++
      , bi = w++
      , ci = w++
      , di = w++
      , ei = w++
      , fi = w++
      , gi = w++
      , hi = w++
      , ii = w++
      , ji = w++
      , ki = w++
      , li = w++
      , mi = w++
      , ni = w++
      , oi = w++
      , pi = w++
      , qi = w++
      , ri = w++
      , si = w++
      , ti = w++
      , ui = w++
      , vi = w++
      , wi = w++
      , xi = w++
      , yi = w++
      , zi = w++
      , Ai = w++
      , Bi = w++
      , Ci = w++
      , Di = w++
      , Ei = w++
      , Fi = w++
      , Gi = w++
      , Hi = w++
      , Ii = w++
      , Ji = w++
      , Ki = w++
      , Li = w++
      , Mi = w++
      , Ni = w++
      , Oi = w++
      , Pi = w++
      , Qi = w++
      , Ri = w++
      , Si = w++
      , Ti = w++
      , Ui = w++
      , Vi = w++
      , Wi = w++
      , Xi = w++
      , Yi = w++
      , Zi = w++
      , $i = w++
      , aj = w++
      , bj = w++
      , cj = w++
      , dj = w++
      , ej = w++
      , fj = w++
      , gj = w++
      , hj = w++
      , ij = w++
      , jj = w++
      , kj = w++
      , lj = w++
      , mj = w++
      , nj = w++
      , oj = w++
      , pj = w++
      , qj = w++
      , rj = w++
      , sj = w++
      , tj = w++
      , uj = w++
      , vj = w++
      , wj = w++
      , xj = w++
      , yj = w++
      , zj = w++
      , Aj = w++
      , Bj = w++
      , Cj = w++
      , Dj = w++
      , Ej = w++
      , Fj = w++
      , Gj = w++
      , Hj = w++
      , Ij = w++
      , Jj = w++
      , Kj = w++
      , Lj = w++
      , Mj = w++
      , Nj = w++
      , Oj = w++
      , Pj = w++
      , Qj = w++
      , Rj = w++
      , Sj = w++
      , Uj = w++
      , Vj = w++
      , Wj = w++
      , Xj = w++
      , Yj = w++
      , Zj = w++
      , ak = w++
      , bk = w++
      , ck = w++
      , dk = w++
      , ek = w++
      , fk = w++
      , gk = w++
      , hk = w++
      , ik = w++
      , jk = w++
      , kk = w++
      , lk = w++
      , mk = w++
      , nk = w++
      , ok = w++
      , pk = w++
      , qk = w++
      , rk = w++
      , sk = w++
      , tk = w++
      , uk = w++
      , vk = w++
      , wk = w++
      , xk = w++
      , yk = w++
      , zk = w++
      , Ak = w++
      , Bk = w++
      , Ck = w++
      , Dk = w++
      , Ek = w++
      , Fk = w++
      , Gk = w++
      , Hk = w++
      , Ik = w++
      , Jk = w++
      , Kk = w++
      , Lk = w++
      , Mk = w++
      , Nk = w++
      , Ok = w++
      , Pk = w++
      , Qk = w++
      , Rk = w++
      , Sk = w++
      , Tk = w++
      , Uk = w++
      , Vk = w++
      , Wk = w++
      , Xk = w++
      , Yk = w++
      , Zk = w++
      , $k = w++
      , al = w++
      , bl = w++
      , cl = w++
      , dl = w++
      , el = w++
      , fl = w++
      , gl = w++
      , hl = w++
      , il = w++
      , jl = w++
      , kl = w++
      , ll = w++
      , ml = w++
      , nl = w++
      , ol = w++
      , pl = w++
      , ql = w++
      , rl = w++
      , sl = [];
    $.each({
        aW: Ee,
        $V: Fe,
        X1: Ge,
        H2: He,
        I2: Ie,
        b0: Je,
        c0: Ke,
        d0: Le,
        xV: Me,
        X_: Ne,
        Z_: Oe,
        Q1: Pe,
        P1: Qe,
        I1: Re,
        S1: Se,
        x1: Te,
        O1: Ue,
        n2: Ve,
        p2: We,
        q2: Xe,
        m2: Ye,
        o0: Ze,
        UR: $e,
        w0: af,
        VR: bf,
        t2: cf,
        s2: df,
        o2: ef,
        Y0: ff,
        Z0: gf,
        R0: hf,
        b1: jf,
        TR: kf,
        k1: lf,
        i2: mf,
        e1: nf,
        SU: of,
        TU: pf,
        RU: qf,
        k2: rf,
        D1: sf,
        C1: tf,
        g1: uf,
        a1: vf,
        T2: wf,
        U1: xf,
        u_: yf,
        v_: zf,
        t_: Af,
        v0: Bf,
        nV: Cf,
        e_: Df,
        y2: Ef,
        z2: Ff,
        IV: Gf,
        JV: Hf,
        HV: If,
        h1: Jf,
        i1: Kf,
        B2: Lf,
        C2: Mf,
        D2: Nf,
        s_: Of,
        i0: Pf,
        jT: Qf,
        vV: Rf,
        x2: Sf,
        A2: Tf,
        uS: Uf,
        w2: Vf,
        a0: Wf,
        N0: Xf,
        j2: Yf,
        M0: Zf,
        LV: $f,
        yV: ag,
        bW: bg,
        JT: cg,
        iS: dg,
        hS: eg,
        rV: fg,
        sV: gg,
        aS: hg,
        cW: ig,
        J1: jg,
        tV: kg,
        UU: lg,
        u0: mg,
        b2: ng,
        a2: og,
        g_: pg,
        h_: qg,
        NV: rg,
        MV: sg,
        D_: tg,
        E_: ug,
        kY: vg,
        US: wg,
        kV: xg,
        jV: yg,
        lV: zg,
        pV: Ag,
        mV: Bg,
        oV: Cg,
        R_: Dg,
        u2: Eg,
        v2: Fg,
        F2: Gg,
        m1: Hg,
        f1: Ig,
        Y1: Jg,
        YS: Kg,
        q0: Lg,
        g0: Mg,
        zW: Ng,
        AW: Og,
        SW: Pg,
        f0: Qg,
        p0: Rg,
        n0: Sg,
        wS: Tg,
        vS: Ug,
        oS: Vg,
        W1: Wg,
        x_: Xg,
        gS: Yg,
        iT: Zg,
        VZ: $g,
        jU: ah,
        iY: bh,
        mS: ch,
        OT: dh,
        iU: eh,
        hU: fh,
        nU: gh,
        KT: hh,
        YT: ih,
        uU: jh,
        vU: kh,
        ZT: lh,
        xU: mh,
        GU: nh,
        WT: oh,
        HU: ph,
        MT: qh,
        AU: rh,
        KU: sh,
        aU: th,
        QU: uh,
        VT: vh,
        tU: wh,
        LU: xh,
        zU: yh,
        MU: zh,
        NU: Ah,
        OU: Bh,
        lU: Ch,
        rU: Dh,
        mU: Eh,
        gU: Fh,
        wU: Gh,
        fU: Hh,
        yU: Ih,
        RT: Jh,
        QT: Kh,
        PU: Lh,
        eU: Mh,
        pU: Nh,
        qU: Oh,
        IU: Ph,
        kU: Qh,
        JU: Rh,
        dS: Sh,
        DU: Th,
        TT: Uh,
        cU: Vh,
        BU: Wh,
        CU: Xh,
        ST: Yh,
        sU: Zh,
        EU: $h,
        UT: ai,
        LT: bi,
        NT: ci,
        XT: di,
        EZ: ei,
        iX: fi,
        DZ: gi,
        FZ: hi,
        BZ: ii,
        AZ: ji,
        QW: ki,
        PW: li,
        TX: mi,
        yZ: ni,
        vZ: oi,
        BY: pi,
        FY: qi,
        pW: ri,
        MX: si,
        NX: ti,
        cY: ui,
        jY: vi,
        UZ: wi,
        xW: xi,
        uY: yi,
        AY: zi,
        xY: Ai,
        WX: Bi,
        VX: Ci,
        XX: Di,
        WW: Ei,
        eX: Fi,
        sX: Gi,
        BW: Hi,
        FW: Ii,
        DW: Ji,
        EW: Ki,
        OW: Li,
        kX: Mi,
        qY: Ni,
        rY: Oi,
        UX: Pi,
        zZ: Qi,
        IX: Ri,
        vX: Si,
        TW: Ti,
        hW: Ui,
        gW: Vi,
        wY: Wi,
        TZ: Xi,
        UW: Yi,
        CZ: Zi,
        lZ: $i,
        QX: aj,
        tY: bj,
        sY: cj,
        TB: dj,
        fY: ej,
        KY: fj,
        dY: gj,
        yY: hj,
        DY: ij,
        HX: jj,
        BX: kj,
        zX: lj,
        hY: mj,
        HY: nj,
        GY: oj,
        ZW: pj,
        $W: qj,
        cX: rj,
        YW: sj,
        nW: tj,
        KX: uj,
        KZ: vj,
        UB: wj,
        oX: xj,
        LZ: yj,
        nX: zj,
        vY: Aj,
        OZ: Bj,
        PZ: Cj,
        QZ: Dj,
        PX: Ej,
        $X: Fj,
        NZ: Gj,
        oY: Hj,
        jX: Ij,
        JZ: Jj,
        kW: Kj,
        IZ: Lj,
        HW: Mj,
        MW: Nj,
        fX: Oj,
        XW: Pj,
        oW: Qj,
        bU: Rj,
        $T: Sj,
        PT: Uj,
        bY: Vj,
        VB: Wj,
        dW: Xj,
        nY: Yj,
        KW: Zj,
        GZ: ak,
        JX: bk,
        RX: ck,
        eY: dk,
        yW: ek,
        LX: fk,
        VW: gk,
        zY: hk,
        qZ: ik,
        rZ: jk,
        uW: kk,
        vW: lk,
        qX: mk,
        rX: nk,
        mZ: ok,
        nZ: pk,
        oZ: qk,
        pZ: rk,
        sW: sk,
        tW: tk,
        GX: uk,
        gX: vk,
        hX: wk,
        CY: xk,
        EY: yk,
        aY: zk,
        sZ: Ak,
        tZ: Bk,
        wW: Ck,
        SZ: Dk,
        nS: Ek,
        SX: Fk,
        Y_: Gk,
        oU: Hk,
        G2: Ik,
        lT: Jk,
        mT: Kk,
        h0: Lk,
        GV: Mk,
        t0: Nk,
        s0: Ok,
        jS: Pk,
        kS: Qk,
        lS: Rk,
        Y2: Sk,
        X2: Tk,
        Z2: Uk,
        U2: Vk,
        V2: Wk,
        W2: Xk,
        a3: Yk,
        FR: Zk,
        RW: $k,
        FX: al,
        YX: bl,
        EX: cl,
        eW: dl,
        qW: el,
        rW: fl,
        h2: gl,
        uZ: hl,
        FU: il,
        S2: jl,
        R2: kl,
        Q2: ll,
        F1: ml,
        E1: nl,
        GW: ol,
        tX: pl,
        dU: ql,
        KV: rl
    }, function(b, c) {
        sl[c] = b
    });
    function tl(b) {
        switch (b) {
        case hi:
            return "128";
        case ii:
            return "129";
        case ji:
            return "130";
        case pi:
            return "133";
        case Zi:
            return "168";
        case dj:
            return "173";
        case nj:
            return "183";
        case oj:
            return "184";
        case uj:
            return "188"
        }
        k.error("AppEvent.getPersistable could not map event ", b, sl[b]);
        return "0"
    }
    ;function ul(b, c, d, e, h, l) {
        this.error = b;
        this.message = c;
        this.dr = d;
        this.gL = e;
        this.Al = h;
        this.Jg = l
    }
    function x(b, c, d, e, h) {
        z.b(Sh, new ul(b,b.hg,c,d,e,h))
    }
    ;var vl, wl, xl = [];
    function yl(b) {
        xl.push(b);
        return b
    }
    var zl = yl({
        key: "AnonAuthToken",
        G: !1
    })
      , Al = yl({
        key: "psn",
        G: !1
    })
      , Bl = yl({
        key: "lastUserId",
        G: !1
    })
      , Cl = yl({
        key: "storedUserIds",
        G: !1
    })
      , Dl = yl({
        key: "hasLoggedIn",
        G: !1
    })
      , El = yl({
        key: "Volume",
        G: !1
    })
      , Fl = yl({
        key: "Muted",
        G: !1
    })
      , Gl = yl({
        key: "Username",
        G: !0
    })
      , Hl = yl({
        key: "Password",
        G: !0,
        Ni: !0
    })
      , Il = yl({
        key: "KeepLoggedIn",
        G: !0
    })
      , Jl = yl({
        key: "isAnonymous",
        G: !0
    })
      , Kl = yl({
        key: "PlayTimeMapSeconds",
        G: !0
    })
      , Ll = yl({
        key: "LastPlayTimeSeconds",
        G: !0
    })
      , Ml = yl({
        key: "DeltaListeningTimeSeconds",
        G: !0
    })
      , Nl = yl({
        key: "ListeningTimestamp",
        G: !0
    })
      , Ol = yl({
        key: "LastPlayedStationId",
        G: !0
    })
      , Pl = yl({
        key: "StationSortOrderAlpha",
        G: !0
    })
      , Ql = yl({
        key: "SkipResetTimestamps",
        G: !0
    })
      , Rl = yl({
        key: "StationSkipCounts",
        G: !0
    })
      , Sl = yl({
        key: "DailySkipCount",
        G: !0
    })
      , Tl = yl({
        key: "CurrentTrack",
        G: !0
    })
      , Ul = yl({
        key: "CurrentTrackOnDemandAAM",
        G: !0
    })
      , Vl = yl({
        key: "ElapsedTime",
        G: !0
    })
      , Wl = yl({
        key: "ElapsedTimeOnDemandAAM",
        G: !0
    })
      , Xl = yl({
        key: "ContextualHelpIntents",
        G: !0
    })
      , Yl = yl({
        key: "DisplayedTips",
        G: !0
    })
      , Zl = yl({
        key: "CurrentSkinPath",
        G: !0
    })
      , $l = yl({
        key: "AlbumArtSize",
        G: !0
    })
      , am = yl({
        key: "DeclinedRenewalOffer",
        G: !0
    })
      , bm = yl({
        key: "lowQualityAudio",
        G: !0
    })
      , cm = yl({
        key: "shuffleType",
        G: !0
    })
      , dm = yl({
        key: "shuffleStations",
        G: !0
    })
      , em = yl({
        key: "shareOnTwitter",
        G: !0
    })
      , fm = yl({
        key: "shareOnFacebook",
        G: !0
    })
      , gm = yl({
        key: "SeenFbConnected",
        G: !0
    })
      , hm = yl({
        key: "deviceId",
        G: !0
    })
      , im = yl({
        key: "LiveStreamListeningStart",
        G: !0
    })
      , jm = yl({
        key: "LiveStreamListeningSeconds",
        G: !0
    })
      , km = yl({
        key: "flaggedMsgs",
        G: !0
    })
      , lm = yl({
        key: "TimeoutDialogImpressions",
        G: !0
    })
      , mm = yl({
        key: "SessionStartDialogLastShown",
        G: !0
    });
    function nm() {
        for (var b = om(Cl) || [], c = 0; c < b.length; c++) {
            var d = pm("U" + b[c], Xl)
              , e = qm(d);
            if (null != e && rd(e)) {
                var h = {};
                _.each(("" + e).split(","), function(b) {
                    le(b) && (null == h[b] ? h[b] = 1 : h[b]++)
                });
                rm(d, h)
            }
        }
    }
    function sm() {
        k.info("post message to iframe");
        var b = window.localStorage.getItem("jStorage")
          , c = window.frames.lsDataAccess
          , b = JSON.stringify(b);
        if ("Explorer" == BrowserDetect.browser && 9 < BrowserDetect.version) {
            var d = new MessageChannel;
            c.postMessage(b, "*", [d.port2])
        } else
            c.postMessage(b, "*")
    }
    function om(b) {
        return qm(tm(b), b.Ni)
    }
    function um(b, c, d) {
        rm(tm(b), c, d, b.Ni)
    }
    function vm(b) {
        wm(tm(b), b.Ni)
    }
    function tm(b, c) {
        if (b.G) {
            if (wl)
                return pm("U" + wl, b, c);
            k.warn("PersistenceManager.currentUserId is null for key " + b.key);
            return "zorro"
        }
        return b.key
    }
    function pm(b, c, d) {
        return null == d ? b + "." + c.key : b + "." + c.key + "." + d
    }
    function xm(b, c) {
        return c || !Be() ? vl.encrypt(b) : b
    }
    function qm(b, c) {
        var d;
        if (d = "ttls" != b)
            d = (qm("ttls") || {})[b],
            d = null != d && d < (new Date).getTime();
        if (d)
            return wm(b, c),
            null ;
        d = $.jStorage.get(xm(b, c));
        try {
            return null == d || 0 == d.length ? d : JSON.parse(c || !Be() ? vl.decrypt(d) : d)
        } catch (e) {
            return trackJs.track(e),
            k.error("Could not parse encrypted value: ", d),
            null
        }
    }
    function rm(b, c, d, e) {
        null != c ? ($.jStorage.set(xm(b, e), xm(JSON.stringify(c), e)),
        null != d && (c = qm("ttls") || {},
        c[b] = d + (new Date).getTime(),
        rm("ttls", c))) : wm(b, e)
    }
    function wm(b, c) {
        $.jStorage.deleteKey(xm(b, c));
        var d = qm("ttls") || {};
        null != d[b] && (delete d[b],
        rm("ttls", d))
    }
    function ym() {
        $.jStorage.flush();
        k.info("PersistenceManager wipe is complete")
    }
    function zm() {
        var b = qm("ttls") || {}
          , c = [];
        $.each(b, function(b, e) {
            e < (new Date).getTime() && c.push(b)
        });
        $.each(c, function(b, c) {
            wm(c)
        })
    }
    function Am() {
        var b = om(Il);
        return null == b || !0 === b
    }
    function Bm(b) {
        um(zl, b);
        if (wl) {
            um(Jl, null != b);
            b = [];
            for (var c = om(Cl) || [], d = 0; d < c.length; d++)
                if (c[d] != wl && qm(pm("U" + c[d], Jl)))
                    for (var e = c[d], h = 0; h < xl.length; h++)
                        xl[h].G && wm(pm("U" + e, xl[h]));
                else
                    b.push(c[d]);
            c.length != b.length && um(Cl, b)
        }
    }
    function Cm() {
        var b = om(Jl);
        return null == b ? !1 : !0 === b
    }
    function Dm() {
        if (!wl)
            return 0;
        var b = om(Kl);
        null == b && (b = {});
        var c = 0, d;
        for (d in b) {
            var e = b[d];
            if (null == e || isNaN(Number(e)))
                return 0;
            c += Number(e)
        }
        return c
    }
    function Em(b) {
        var c = om(Ll);
        null == c && (c = {});
        c[b] = Math.floor((new Date).getTime() / 1E3);
        um(Ll, c)
    }
    function Fm() {
        if (!wl)
            return 0;
        var b = om(Ml);
        return null == b || isNaN(Number(b)) ? 0 : Number(b)
    }
    function Gm() {
        if (!wl)
            return 0;
        var b = om(Nl);
        return null == b || isNaN(Number(b)) ? 0 : Number(b)
    }
    function Hm() {
        var b = om(em);
        return null == b || !0 === b
    }
    function Im() {
        var b = om(fm);
        return null == b || !0 === b
    }
    function Jm() {
        var b = om(El);
        return null == b || isNaN(Number(b)) ? 80 : Number(b)
    }
    function Km() {
        return !0 === om(Fl)
    }
    function Lm(b) {
        if (!wl)
            return null ;
        var c = om(Ql);
        return c && c[b] ? c[b] : null
    }
    function Mm(b) {
        if (!wl)
            return 0;
        var c = om(Rl);
        return c && c[b] ? c[b] : 0
    }
    function Nm(b, c) {
        var d = wl ? om(Rl) : null ;
        null == d && (d = {});
        d[b] = c;
        um(Rl, d)
    }
    function Om() {
        if (!wl)
            return null ;
        var b = om(Sl);
        if (null != b && b.date == Pm())
            return b.skips;
        Qm(0);
        return 0
    }
    function Rm(b, c, d, e, h) {
        0 >= d || !wl || (0 == e && (e = 600),
        b = b + "," + d,
        d = 1E3 * (e - d),
        e = Vl,
        h && (e = Wl),
        rm(tm(e, c), b, d))
    }
    function Sm(b, c, d) {
        var e = Vl;
        d && (e = Wl);
        c = qm(tm(e, c));
        return null == c || (c = c.split(","),
        2 != c.length || c[0] != b || (b = parseInt(c[1], 10),
        isNaN(b))) ? null : b
    }
    function Qm(b) {
        um(Sl, {
            date: Pm(),
            skips: b
        }, 864E5)
    }
    function Tm() {
        if (!wl)
            return {};
        var b = om(Xl);
        return null != b && td(b) ? b : {}
    }
    function Um(b) {
        b = Tm()[tl(b)];
        return null != b ? b : 0
    }
    function Vm(b) {
        var c = Wm();
        c.push(b);
        um(Yl, c.join(","))
    }
    function Wm() {
        if (!wl)
            return [];
        var b = om(Yl);
        return null == b ? [] : ("" + b).split(",")
    }
    function Xm() {
        if (!wl)
            return 215;
        var b = om($l);
        if (null == b || isNaN(Number(b)))
            return 215;
        b = Math.max(b, 134);
        b = Math.min(b, 450);
        return Number(b)
    }
    function Ym() {
        if (!wl)
            return "all";
        var b = om(cm);
        return null == b ? "all" : "" + b
    }
    function Zm() {
        if (!wl)
            return "";
        var b = om(dm);
        return null == b ? "" : "" + b
    }
    function Pm() {
        var b = new Date;
        return "" + b.getDate() + (b.getMonth() + 1) + b.getFullYear()
    }
    function $m(b) {
        b.Ni = !0;
        var c = om(b);
        b.Ni = null ;
        return c
    }
    function an() {
        if (Be()) {
            var b = $m(Bl);
            if (null != b) {
                var c = wl;
                wl = b;
                var d = $m(Gl)
                  , e = om(Hl) || "";
                null != d && null != e && 0 < d.length && 0 < e.length && ($.jStorage.flush(),
                um(Bl, b),
                um(Gl, d),
                um(Hl, e),
                k.info("+++ ie 7 updated +++"));
                wl = c
            }
        }
        b = om(Bl);
        return null != b ? (c = wl,
        wl = b,
        d = om(Gl),
        (d = null != d && 0 < d.length) ? um(Bl, b) : wl = c,
        d) : !1
    }
    function bn(b) {
        um(Bl, b);
        if (wl = b) {
            for (var c = om(Cl) || [], d = 0; d < c.length; d++)
                if (b == c[d])
                    return;
            c.push(b);
            um(Cl, c)
        }
    }
    function cn() {
        if (!wl)
            return null ;
        var b = om(hm);
        b && "" != b || (b = hex_md5(wl + "-" + BrowserDetect.browser + "-" + BrowserDetect.OS + "-" + (new Date).getTime()),
        um(hm, b));
        return b
    }
    function dn(b) {
        um(im, b)
    }
    function en(b) {
        um(jm, b)
    }
    function fn(b) {
        var c = gn();
        c.push(b);
        um(km, c.join(","))
    }
    function hn(b) {
        return _.contains(gn(), b)
    }
    function gn() {
        var b = []
          , c = om(km);
        c && (b = c.split(","));
        return b
    }
    function jn() {
        var b = (om(lm) || 0) + 1;
        um(lm, b)
    }
    ;var z = {};
    z.IC = [ef, dg, eg, qi, Ek];
    z.cr = !1;
    z.Es = !1;
    z.Ao = {};
    z.zo = {};
    z.yo = {};
    z.c = function(b, c) {
        z.No(b, c, z.Ao)
    }
    ;
    z.yh = function(b, c) {
        z.No(b, c, z.zo)
    }
    ;
    z.gb = function(b, c) {
        z.No(b, c, z.yo)
    }
    ;
    z.No = function(b, c, d) {
        var e = d[b] || [];
        e.push(c);
        d[b] = e;
        c = c._caller;
        null != c && (d = c._eventTypes || [],
        d.push(b),
        c._eventTypes = d)
    }
    ;
    z.pa = function(b, c) {
        if (void 0 !== c)
            for (var d = [z.zo, z.Ao, z.yo], e = 0; e < d.length; e++) {
                var h = d[e][c];
                if (h)
                    for (var l = 0; l < h.length; l++)
                        h[l]._caller == b && h.splice(l--, 1)
            }
        else
            for (var d = b._eventTypes, e = 0; d && e < d.length; e++)
                z.pa(b, d[e])
    }
    ;
    z.Yy = function(b) {
        if (td(b)) {
            var c = $.extend({}, b);
            _.each(["password", "username"], function(b) {
                c[b] && (c[b] = "*****")
            });
            return c
        }
        return b
    }
    ;
    z.iD = function(b, c, d) {
        try {
            b(c, d)
        } catch (e) {
            trackJs.track(e),
            qe(e)
        }
    }
    ;
    z.b = function(b, c) {
        if (-1 === z.IC.indexOf(b)) {
            var d = BrowserDetect.browser;
            void 0 !== c ? "Chrome" == d || "Firefox" == d ? k.info("%cEVENT:", "color:blue", sl[b], z.Yy(c)) : k.info("EVENT:", sl[b], z.Yy(c)) : "Chrome" == d || "Firefox" == d ? k.info("%cEVENT:", "color:blue", sl[b]) : k.info("EVENT:", sl[b])
        }
        for (var d = [], e = [z.zo, z.Ao, z.yo], h = 0; h < e.length; h++) {
            var l = e[h][b];
            if (l)
                for (var p = 0; p < l.length; p++)
                    d.push(l[p])
        }
        for (h = 0; h < d.length; h++)
            z.iD(d[h], c, b)
    }
    ;
    z.Hk = {
        li: 10,
        hw: "/js/libs/jquery.jplayer-2.3.9",
        $k: "html, flash"
    };
    z.pe = function() {
        return z.Hk
    }
    ;
    z.zQ = function() {
        $.ajax({
            type: "GET",
            url: kn() + "ssl-test.jsonp",
            dataType: "jsonp",
            jsonpCallback: "callback",
            timeout: 5E3
        }).fail(function(b, c, d) {
            "parsererror" != c && s("ssl_error", {
                ua: navigator.userAgent,
                site_version: window._pandoraVersion,
                browser: se(),
                textStatus: c,
                errorThrown: d
            })
        })
    }
    ;
    z.pP = function() {
        z.ba = 0;
        setInterval(function() {
            $.get("/appstamp.txt", {
                cachebuster: "" + (new Date).getTime()
            }, function(b) {
                b = parseInt($.trim(b), 10);
                if (b > z.ba) {
                    var c = z.ba;
                    z.ba = b;
                    0 < c && setTimeout(function() {
                        z.b(ck)
                    }, 6E4)
                }
            })
        }, 3E5)
    }
    ;
    z.nP = function() {
        function b() {
            ln = "AT-" + (new Date).getTime() + "-" + Math.floor(1E3 * Math.random());
            "undefined" != typeof $.cookie && null != $.cookie && $.cookie("atn", ln);
            z.paused = !1
        }
        setInterval(function() {
            null == ln || "undefined" == typeof $.cookie || null == $.cookie || $.cookie("atn") == ln || z.paused || (z.paused = !0,
            z.b(gi, !0))
        }, 1E3);
        z.c(ei, b);
        z.c(Ve, b);
        z.c(Pi, b)
    }
    ;
    z.mr = function() {
        var b = mn()
          , c = $(this).attr("href")
          , c = c.replace("#!", "#");
        -1 != c.indexOf("#") ? c = c.substr(c.indexOf("#") + 1) : 0 == c.indexOf(b) && (c = c.substr(b.length - 1));
        return c
    }
    ;
    z.ES = "/profile/ /stations/edit/ /station/ /music/song/ /music/album/ /music/artist/ /music/composer/ /music/ /everywhere/".split(" ");
    z.qP = function() {
        $('a[href^="#"][rel!="external"]:not([target])').address(z.mr);
        $('a[href^="/"][rel!="external"]:not([target])').address(z.mr);
        $('a[href^="' + mn() + '"][rel!="external"]:not([target])').address(z.mr)
    }
    ;
    z.EE = function() {
        return null != $.cookie && null != $.jPlayer
    }
    ;
    z.start = function() {
        k.info("Starting Pandora");
        nn();
        z.zQ();
        z.cr || (z.Iy = setTimeout(function() {
            s("not_loaded", {
                ua: navigator.userAgent,
                site_version: window._pandoraVersion,
                browser: se()
            });
            z.b(eg, "splash");
            $("#splash .cantload.normal").fadeIn();
            on()
        }, 4E4),
        z.c(Ee, function() {
            clearTimeout(z.Iy);
            clearTimeout(z.Hy)
        }));
        z.nP();
        z.pP();
        z.qP();
        pn("persistence");
        vl = Xd(qn());
        zm();
        $.jStorage.storageAvailable() || k.error("No persistence mechanism available");
        k.info("PersistenceManager initialized using " + $.jStorage.currentBackend());
        wl = null ;
        nm();
        z.c(ri, ym);
        pn("persistence-done");
        rn() && ze("lsc");
        Ld() || sm();
        new sn;
        new tn;
        pn("start-done")
    }
    ;
    window._trackJs || (window.onerror = function(b, c, d) {
        qe(b, c, d);
        return !0
    }
    );
    window.flashLoaded = function() {
        z.Es && (z.Hy = setTimeout(function() {
            clearTimeout(z.Iy);
            s("not_loaded", {
                ua: navigator.userAgent,
                site_version: window._pandoraVersion,
                browser: se()
            });
            z.b(eg, "splash");
            $("#splash .cantload.flash").fadeIn();
            on()
        }, 1E4))
    }
    ;
    window.flashEnabled = function() {
        z.Es = !1;
        clearTimeout(z.Hy)
    }
    ;
    $(function() {
        $.ajaxPrefilter(function(b, c, d) {
            c.url && "" != c.url || (d.abort(),
            trackJs.track(Error("Attempt to make an AJAX request without a URL.")))
        });
        setTimeout(function() {
            z.EE() || $("#depedencyNotLoaded").fadeIn()
        }, 5E3);
        var b = /(webkit)[ \/]([\w.]+)/.exec(navigator.userAgent.toLowerCase());
        if (b)
            var c = parseFloat(b[2]);
        b = pe(A._data.forceFlash);
        if ("Explorer" == BrowserDetect.browser && 7 > BrowserDetect.version || "Opera" == BrowserDetect.browser && 10.5 > BrowserDetect.version || "Mozilla" == BrowserDetect.browser && 2 > BrowserDetect.version || 0 < c && 528.16 > c)
            $("#oldbrowser").fadeIn();
        else {
            var d = 0 < swfobject.getFlashPlayerVersion().N3 || 0 < deconceptFlashVersionMajor
              , e = swfobject.hasFlashPlayerVersion("10") || 9 < deconceptFlashVersionMajor || 9 == deconceptFlashVersionMajor && 115 <= deconceptFlashVersionRelease
              , h = Modernizr.audio && "" != Modernizr.audio.m4a && "no" != Modernizr.audio.m4a && "" != Modernizr.audio.mp3 && "no" != Modernizr.audio.mp3
              , l = h || e;
            if (window._isInAudioJplayerHTML5Experiment || window._isInAudioMediaElementExperiment) {
                if (0 < window._listenerIdFromCookie) {
                    var p = "no"
                      , q = "no";
                    Modernizr.audio && (p = Modernizr.audio.m4a,
                    q = Modernizr.audio.mp3);
                    s("browser_has_audio", {
                        has_html5_audio: h,
                        has_flash: e,
                        has_m4a: p,
                        has_mp3: q,
                        browser: se(),
                        user_agent: navigator.userAgent,
                        listener_id: window._listenerIdFromCookie,
                        vendor_id: u,
                        device_code: we
                    }, null )
                }
                z.Hk.hw = "/js/libs/jquery.jplayer-2.9.2";
                if (h && !b) {
                    z.Hk.$k = "html";
                    z.start();
                    return
                }
            }
            if (b = (b = b || 0 < c || "Windows" == BrowserDetect.OS && "Firefox" == BrowserDetect.browser || "Mac" == BrowserDetect.OS && "Firefox" == BrowserDetect.browser && 37 <= BrowserDetect.version) && !pe(A._data.disableForceFlash))
                d && e ? (z.Hk.$k = "flash",
                z.Es = !0) : l = !1;
            l ? z.start() : d ? ($("#splash").hide(),
            $("#topnav").hide(),
            $("#flash_upgrade").show(),
            swfobject.showExpressInstall({
                data: "/js/libs/swfobject-2.2/expressInstall.swf",
                width: "" + $(document).width(),
                height: "240"
            }, {}, "flash_upgrade", function(b) {
                b.success ? window.location.reload() : $("#noaudio").fadeIn()
            })) : 0 < c ? $("#noaudio_webkit").fadeIn() : $("#noaudio").fadeIn()
        }
    });
    function un(b) {
        this._isCreator = b.isCreator;
        this._stationId = b.stationId;
        this._stationIdToken = b.stationIdToken;
        this._originalCreatorId = b.originalCreatorId;
        this._originalStationId = b.originalStationId;
        this._stationName = b.stationName;
        this._stationArt = b.stationArt;
        this._fbShareArt = b.fbShareArt;
        this._transformType = b.transformType;
        this._isQuickMix = b.isQuickMix;
        this._quickMixStationIds = b.quickMixStationIds;
        this._quickMixType = b.quickMixType;
        this._chronologicalSequence = b.chronologicalSequence;
        this._isThumbprintStation = b.isThumbprint || !1;
        this._thumbCount = b.thumbCount || "";
        this._originalStationShareName = this._stationShareName = b.stationShareName || "";
        this._initialSeed = b.initialSeed;
        this._originalSeed = b.originalSeed;
        this._adGenre = b.adGenre;
        this._genre = b.genre;
        this._genreSponsorship = b.genreSponsorship;
        this._antiTarget = b.antiTarget;
        this._comedy = b.isComedy;
        this._isNew = b.isNew;
        this._isOnDemandStation = b.isOnDemandStation;
        this._canShuffleStation = b.canShuffleStation;
        this._advertisingKey = vn(b);
        this._advertiserStation = b.advertiserStation;
        this._canAutoshare = !!b.canAutoshare;
        this._description = b.description;
        this._recommendedStation = b.recommendedStation;
        this._promotedStationCampaignId = b.promotedStationCampaignId;
        this._promotedStationAdId = b.promotedStationAdId;
        this._promotedTrackingUrls = b.promotedTrackingUrls;
        this._promotedImpressionUrls = b.promotedImpressionUrls;
        this._promotedSponsorText = b.promotedSponsorText;
        this._promotedStationCorrelationId = b.adServerCorrelationId;
        this._impressionTracked = b.impressionTracked;
        this._stationNameWithTwitterHandle = b.stationNameWithTwitterHandle;
        this._enableArtistAudioMessages = b.enableArtistAudioMessages;
        this._processSkips = b.processSkips || !1;
        this._hasLiveStream = b.hasLiveStream;
        this._artistMessageArtistUid = b.artistMessageArtistUid;
        this._artistMessageId = b.artistMessageId
    }
    f = un.prototype;
    f.update = function(b) {
        this._stationId = b.stationId;
        this._stationIdToken = b.stationIdToken;
        this._stationName = b.stationName;
        this._isQuickMix = b.isQuickMix;
        this._isCreator = b.isCreator;
        this._initialSeed = b.initialSeed;
        this._adGenre = b.adGenre;
        this._genre = b.genre;
        this._genreSponsorship = b.genreSponsorship;
        this._antiTarget = b.antiTarget;
        this._quickMixStationIds = b.quickMixStationIds;
        this._quickMixType = b.quickMixType;
        this._artistMessageArtistUid = b.artistMessageArtistUid;
        this._artistMessageId = b.artistMessageId
    }
    ;
    function wn(b) {
        return b._promotedStationAdId
    }
    function xn(b) {
        return b._promotedStationCorrelationId
    }
    f.Db = function() {
        return this._promotedStationCampaignId
    }
    ;
    f.Tb = function() {
        return this._recommendedStation
    }
    ;
    f.Z = function() {
        return "true" === this._isCreator || !0 === this._isCreator
    }
    ;
    f.e = function() {
        return this._stationId
    }
    ;
    f.Jd = function() {
        return this._stationIdToken
    }
    ;
    f.Zg = function() {
        return this._originalCreatorId
    }
    ;
    f.Qi = function() {
        return this._originalStationId
    }
    ;
    f.re = function() {
        return this._transformType
    }
    ;
    f.ca = function() {
        return this._stationName
    }
    ;
    f.Wm = function(b) {
        this._stationName = b
    }
    ;
    f.D = function() {
        return "true" === this._isQuickMix || !0 === this._isQuickMix
    }
    ;
    f.Ha = function() {
        return "true" === this._isThumbprintStation || !0 === this._isThumbprintStation
    }
    ;
    f.qq = function() {
        return this._thumbCount
    }
    ;
    function yn(b) {
        return b.Ha() ? b._stationShareName : b._stationName
    }
    f.qe = function() {
        return this._quickMixStationIds
    }
    ;
    f.Vm = function(b) {
        this._quickMixStationIds = b
    }
    ;
    f.Vl = function() {
        return this._quickMixType
    }
    ;
    f.wa = function() {
        return this._initialSeed
    }
    ;
    function zn(b) {
        return b._originalSeed
    }
    f.Df = function() {
        return this._adGenre
    }
    ;
    f.Gf = function() {
        return this._genre
    }
    ;
    f.Ql = function() {
        return this._genreSponsorship
    }
    ;
    f.Ll = function() {
        return this._antiTarget
    }
    ;
    f.gr = function() {
        return "true" === this._comedy || !0 === this._comedy
    }
    ;
    f.Ra = function() {
        return "true" === this._isOnDemandStation || !0 === this._isOnDemandStation
    }
    ;
    function An(b) {
        return "true" === b._canShuffleStation || !0 === b._canShuffleStation
    }
    f.La = function() {
        return this._advertisingKey
    }
    ;
    f.qc = function() {
        return this._advertiserStation
    }
    ;
    f.lm = function() {
        return this._enableArtistAudioMessages
    }
    ;
    function Bn(b) {
        return "true" === b._isNew || !0 === b._isNew
    }
    function vn(b) {
        var c = b.advertisingKey;
        /\*$/.test(b.stationName) && (c = b.originalStationId);
        return c
    }
    f.Cb = function() {
        return !1
    }
    ;
    f.Ol = function() {
        return this._description
    }
    ;
    function Cn(b) {
        return b.isCustomContentStation ? new Dn(b) : new un(b)
    }
    f.jp = function() {
        return this._canAutoshare
    }
    ;
    f.Vs = function() {
        return this._processSkips
    }
    ;
    f.bm = function() {
        return this._hasLiveStream
    }
    ;
    f.bj = function() {
        return null != this._artistMessageArtistUid && null != this._artistMessageId
    }
    ;
    f.nq = function() {
        return this._artistMessageArtistUid
    }
    ;
    f.oq = function() {
        return this._artistMessageId
    }
    ;
    f.Os = function(b) {
        this._artistMessageArtistUid = b
    }
    ;
    f.Ps = function(b) {
        this._artistMessageId = b
    }
    ;
    function Dn(b, c) {
        un.call(this, b);
        this._isQuickMix = !1;
        this._isOnDemandStation = !0;
        this._advertisingKey = vn(b);
        this._adIntervalMinutes = b.adIntervalMinutes;
        this._delayedInStationAd = b.delayedInStationAd;
        this._tracks = c;
        this._expiration = new Date;
        this._expiration.setTime(b.expirationTimeMillis)
    }
    vd(Dn, un);
    Dn.prototype.update = function(b) {
        this._stationId = b.stationId;
        this._stationIdToken = b.stationIdToken;
        this._stationName = b.stationName;
        this._isCreator = b.isCreator;
        this._initialSeed = b.initialSeed;
        this._adGenre = b.adGenre;
        this._genre = b.genre;
        this._genreSponsorship = b.genreSponsorship;
        this._antiTarget = b.antiTarget;
        this._quickMixType = b.quickMixType
    }
    ;
    function En(b, c) {
        b._tracks = c
    }
    Dn.prototype.Cb = function() {
        return !0
    }
    ;
    function Fn(b, c) {
        this.ie = -1;
        this.Ja = b.songTitle;
        this.Wh = b.artistSummary;
        this.wo = b.composerName;
        this.jb = b.albumTitle;
        this.Po = b.stationId || "";
        this.cc = b.musicId;
        this.Bv = b.musicIdToken;
        this.MC = b.albumIdToken;
        this.Ye = b.artistMusicId;
        this.Lc = b.rating;
        this.Cv = b.narrative;
        this.Io = b.lyricSnippet;
        this.Zh = b.lyricId;
        this.yv = b.lyricChecksum;
        this.QC = ee(b.artistExplorerUrl);
        ee(b.songExplorerUrl);
        this.bv = he(b.artistDetailURL);
        this.Zu = he(b.albumDetailURL);
        this.Jv = he(b.songDetailURL);
        this.bi = b.songDetailToken;
        this.Pk = b.shareLandingURL;
        this.jD = b.isFeatured;
        this.Dv = null ;
        this.hE = b.userSeed;
        this.cv = b.audioSkipUrl;
        this.qo = b.amazonUrl;
        this.oo = b.albumAmazonDigitalAsin;
        this.Fo = b.itunesUrl;
        this.Sk = !1;
        this.vo = b.audioIntroductoryMessage;
        this.Ic = b.nonMusicTrack;
        this.dE = b.trackToken;
        this.cE = b.trackLength;
        this.Ro = b.trackType;
        this.aE = null != b.streaming;
        this.Kc = b.programDescriptor;
        this.rb = b.categoryDescriptor;
        this.nD = Gn(b.firstThumbed && b.firstThumbed.timestamp);
        this.rv = b.firstThumbed ? b.firstThumbed.station : null ;
        this.FD = Gn(b.lastThumbed && b.lastThumbed.timestamp);
        this.xv = b.lastThumbed ? b.lastThumbed.station : null ;
        this.ID = b.numThumbs;
        this.Pb = b.artRadio || "/img/no_album_art.png";
        this.Pb || (this.Pb = "/img/no_album_art.png");
        this.LC = document.createElement("img");
        this.LC.src = this.Pb;
        this.gv = b.compilation;
        this.Co = this.di = this.Rk = !1;
        this.po = b.allowStartStationFromTrack;
        this.av = b.allowTiredOfTrack;
        this.OC = b.allowSkipTrackWithoutLimit;
        this.$u = b.allowFeedback;
        this.je = b.templatePath;
        this.Gc = b.artistTwitterHandle;
        this.VC = c;
        this.uo = b.audioEncoding;
        "aacplus" == this.uo && (this.uo = "m4a");
        this.Xh = b.fileGain;
        this.Xh = "" == this.Xh || isNaN(Number(this.Xh)) ? null : Number(this.Xh)
    }
    function Gn(b) {
        if (!b)
            return null ;
        var c = new Date;
        c.setTime(b);
        return c
    }
    f = Fn.prototype;
    f.Y = function() {
        return this.Wh
    }
    ;
    f.ub = function() {
        return this.Pb
    }
    ;
    f.e = function() {
        return this.Po
    }
    ;
    f.o = function() {
        return this.cc
    }
    ;
    f.Za = function() {
        return this.dE
    }
    ;
    f.Vg = function() {
        return this.bv
    }
    ;
    f.Kl = function() {
        return this.Zu
    }
    ;
    f.$g = function() {
        return this.Jv
    }
    ;
    f.hh = function() {
        return this.jD
    }
    ;
    f.Ox = function() {
        return this.hE
    }
    ;
    f.My = function() {
        return null != this.Fo || null != this.qo || null != this.oo
    }
    ;
    f.Sj = function(b) {
        this.Sk = b
    }
    ;
    f.eb = function() {
        return this.Sk
    }
    ;
    f.Vc = function() {
        return this.cE
    }
    ;
    f.ye = function() {
        return this.aE
    }
    ;
    f.Ul = function() {
        return !1
    }
    ;
    f.Ml = function() {
        return this.VC
    }
    ;
    f.Sc = function() {
        return this.uo
    }
    ;
    f.nc = function() {
        return this.Xh
    }
    ;
    f.Ix = function() {
        return ""
    }
    ;
    function Hn(b) {
        this.Fa = b.gain;
        this.uf = b.clickthrough;
        this.pc = b.impression;
        this.tracker = b.tracker;
        this.pn = b.tile_tracker_urls;
        this.vf = b.companion;
        this.nl = b.companion_web ? b.companion_web : b.banner_html;
        this.kb = b.type;
        this.cg = !0;
        this.cc = "V1";
        this.Pb = b.image;
        this.ie = -1;
        this.jb = this.Ja = "ad";
        this.Jv = this.Zu = this.bv = this.Wh = ""
    }
    vd(Hn, Fn);
    f = Hn.prototype;
    f.pH = function() {
        return this.pc
    }
    ;
    f.MH = function() {
        return this.tracker
    }
    ;
    f.LH = function() {
        return this.pn
    }
    ;
    f.ub = function() {
        var b = this.Pb;
        if (null == b || "" == b)
            b = "/img/ads/generictile.png";
        if (b && "/img/ads/generictile.png" != b && -1 == b.indexOf("mediaserverPublicRedirect.jsp") && -1 == b.indexOf("_500x500")) {
            var c = b.match(/(?:\.([^.]+))?$/);
            c[1] && (b = b.substr(0, b.lastIndexOf(".")) + "_500x500." + c[1])
        }
        return b
    }
    ;
    f.om = function() {
        return this.cg
    }
    ;
    f.Qs = function(b) {
        this.cg = b
    }
    ;
    function In(b, c) {
        Fn.call(this, b, c);
        this.cc = b.musicId;
        this.Pb = b.tileImageURL;
        this.ie = b.trackNumber;
        this.Ja = b.trackName;
        this.Wh = b.categoryName;
        this.jb = b.programName;
        this.je = b.templatePath;
        this.rb = b.categoryDescriptor;
        this.Kc = b.programDescriptor
    }
    vd(In, Fn);
    f = In.prototype;
    f.Vg = function() {
        return this.Xl()
    }
    ;
    f.Kl = function() {
        return this.Xl()
    }
    ;
    f.$g = function() {
        return this.Xl()
    }
    ;
    f.Xl = function() {
        return "/station/" + this.Po
    }
    ;
    f.Ul = function() {
        return !0
    }
    ;
    function Jn(b) {
        Fn.call(this, b, null );
        this.cc = b.musicId;
        this.je = b.templatePath;
        this.rb = b.categoryDescriptor;
        this.Kc = b.programDescriptor;
        this.vD = b.hlsLiveStreamPath;
        this.uv = b.hdsLiveStreamPath;
        this.XD = b.shortLink;
        this.Gv = Ed()
    }
    vd(Jn, Fn);
    f = Jn.prototype;
    f.Xl = function() {
        return "/station/" + this.Po
    }
    ;
    f.Ul = function() {
        return !0
    }
    ;
    f.ye = function() {
        return !1
    }
    ;
    f.My = function() {
        return !1
    }
    ;
    f.Ix = function() {
        return this.XD
    }
    ;
    var Kn = {}
      , Kn = {
        StationKeyType: {
            AMG_ARTIST: "ar",
            MUSIC_ID: "mi",
            QUICKMIX: "qm",
            SHARED: "sh",
            MUSIC_ID_AC: "mc",
            GIFTED: "sg",
            AUTOPLAY_FACEBOOK: "af",
            FACEBOOK_SUGGEST: "fa",
            FRIENDS_STATION: "fs",
            FRIENDS_BOOKMARK: "fb",
            ARTIST_SUGGEST: "as",
            GENRE_SUGGEST: "gs",
            FACEBOOK_SUGGEST_SEARCH_VIEW: "fv",
            EXTENDED_SEARCH: "es",
            RECOMMENDATION: "re"
        }
    };
    var Ln, Mn, Nn, On;
    Ln = function(b) {
        if ("true" === window.sessionStorage.getItem("redesign-client-reload"))
            return k.error("Unable to reload into 2016 redesign client. Staying on current client."),
            !1;
        oe("pwc-2016", "true", 365);
        window.sessionStorage.setItem("redesign-client-reload", "true");
        if ("true" !== window.sessionStorage.getItem("redesign-client-reload"))
            return k.error("Unable to reload into 2016 redesign client since reload flag is not getting set!."),
            !1;
        "ANONYMOUS" !== b.listenerState && (window.sessionStorage.setItem("redesign-client-reload-uname", b.Ka || ""),
        window.sessionStorage.setItem("redesign-client-reload-authToken", b.jw || ""),
        window.sessionStorage.setItem("redesign-client-reload-keep-logged-in", String(Am() || !1)));
        s("change_version_of_website", {
            action: "switch_to_new",
            vendor_id: u,
            device_id: we,
            browser: se(),
            submitted_feedback: "NULL"
        }, b);
        window.location.reload(!0);
        return !0
    }
    ;
    Mn = function() {
        return "false" === $.cookie("pwc-2016")
    }
    ;
    Nn = function() {
        var b = window.sessionStorage.getItem("classic-client-reload-uname");
        return b ? {
            username: b
        } : null
    }
    ;
    On = function() {
        window.sessionStorage.removeItem("classic-client-reload-uname")
    }
    ;
    var Pn = {}
      , Qn = g([[-668617326, -1489172681, 1065101486, -115379946, -278200290, -746248963, 1417609708, -372646020, 635342487, -1622802655, -2025352635, 1957035642, -1656086821, 2129644150, 1488000962, 243217342, 478415738, 367978584], [1242278845, 1186421985, -632397609, 1658687266, 1720545937, 1882393713, -1899091612, -724446641, 575132671, 868035971, 712898834, -1176038968, 241517787, 977647203, -1969572901, -777943246, 309332310, 635037017, -1706926976, -833502787, 1943558205, 582565347, 1072930735, 992875E3, -1567149616, 1328296287, -1268677942, -1299425746, -1015376167, -1963962233, 1952430114, -339479800, 792775040, -513386591, -1108553382, -913014509, -784386903, 1382684063, -174576567, 1440883213, 246053430, -1871242693, -2060622435, -198495282, -1135236240, -712731143, -1608903574, 342755680, -591140101, 1163271072, -1752422059, 68052641, 1419848668, -2031388476, 830175929, -1055711368, -1134050495, -125498832, 652979891, -1575244906, -229455478, -390523918, -1841832974, -985010095, -1283540245, -507787403, -1050321547, 1661602118, -1360752569, 1321570751, -1319781990, 787241843, -563004666, 312882359, 332303031, -1819448167, 899084E3, 1343197286, -151517417, 1087987224, -1043039698, -1913774587, -478267742, 1422393299, 1258273231, 558691768, -1419201209, -1211361247, 1551738969, -1294303777, -2073783046, -1934602987, 441086370, 1609600394, -2023170203, -1840369693, 79171738, -468159446, 1489862931, 251112137, -1833906311, -1340096814, 1306775074, 1803001376, 485566159, 394897300, -1471791706, -204675156, -769297654, 756748830, 1059850320, -483983093, 1457084545, -2043038802, 28560107, 527405828, 2102129511, -454287143, 1829087825, -2010418931, -62875593, 1709314758, -1530312057, -1323659090, -1250613908, -1676497131, 1747940074, -993473015, 1140244836, 1271928281, -1684332594, -1676639195, 1084808976, -1329822157, -1756447878, -563098084, -536517811, 1888250270, 2103180335, -1131586608, -255008730, -1242231292, -2079175737, -1707837428, 887679316, 1692493219, 805803421, -1918612472, -1441736639, 2122803936, -1241381839, 1207233130, -192786348, 381955035, -778676894, 930592272, 1958048798, -703840039, 979300739, -2028591859, -1854309299, 27429221, -115991108, 1151985154, -1410535675, -1433355626, 1986035133, 1220500409, 629410442, -777234778, 1872446068, -983021869, -1999696533, 844033984, -360512289, -1568781695, -1700044421, 855753881, 1357446935, 1739886399, 1526414210, -216598573, -1170056268, 138285812, 486192091, 2025883817, 1858614789, -1267912471, 2051396862, 439466712, 690236786, 1911551839, 1842326680, 2040604186, 946204405, 1637114275, -1034288591, 1963225810, 2071022781, 2119671992, -1280888417, 1071496875, -995680635, 1154712361, -1575286703, -1119572330, -96800304, 1030186681, -1501016443, -741760832, -890863364, 1103305260, 153018157, -1633360315, 480261324, -519194088, -1842697764, 767760587, -996315376, -286808216, -2123113066, -1772804712, -1423619086, -1514152216, -1987164010, 77450682, 1472056436, 255039908, 1670419492, 1877941830, 916747140, 1374697182, -1368359264, -628935364, -73502056, -102960770, 1332735810, 708950080, 2110596706, 941617040, 393471574, -167600447, -1319556549, 279336660, 1843080801, -1912410626, -483949846, -1757595659, 362071593, -1955346894, 377528632, 1062933032, -1943410382, 1238598818, 41501845, 294646501], [-1373445067, -1082964757, -67935922, -1255475590, 367820427, 102092148, 822686134, 110981783, 1163094176, -290455049, 244470097, -558809758, -1819250194, 198365906, 581955716, -204096907, -390626189, -513494702, -1915545596, 447478324, -243041253, -183692085, 1156992454, 633653959, 1503854155, 211705894, -1767337844, 1237341470, 1821716439, 616229538, 1805501216, 1920143533, 159858151, -1474997189, 275203014, -187830222, -83752785, -712296528, -1198429253, -216151758, -1306052491, -1799365258, 560301979, -1504528354, 1481021668, -1272254306, 1308571891, 696540119, 351516199, 1590318464, -69346381, -667341645, -155911195, -36757467, 834017617, -1638363747, 631275061, -592916160, -1936247919, 1892169876, 456068549, 613293728, 123745130, -1886669809, 219833870, 219562230, -1557455082, 940149007, -2097680150, 1825346575, -1175272402, -1235114922, 1493298357, 1991847414, 568022808, -499172627, -112555421, -1980348828, 1932904320, -1611071253, -1403174184, -167469628, -1180963542, 1072158552, -613816163, -862178509, 942387775, -1333808767, -1692354748, 1313787485, -309445736, 1253468242, 2025637473, -1042767220, 1910542E3, -1630870511, -1526897811, -1604020582, 408618476, 1418292627, -2129595381, -724048516, 512920646, -103932119, 1047722833, -1482947508, -1380367266, 1252234489, 311768274, -551478972, 1650963674, -181098760, -732091586, 1595446500, -869801098, -24744625, -1787921266, 174263527, 1194616635, -1081427855, 1126977887, -1562922113, -817301E3, 838279323, -1226337575, 1578329600, -175920827, -1428918177, -387775629, -1511675097, -892929462, 1223926025, -1306891909, 1169799152, 779858323, -1778126405, -524649920, -830556626, 860562629, 39944574, 1320653483, -1201945930, 1833423065, -761183429, 1965265963, 968842471, 1914845989, -1030813421, -1071841724, 1343170533, 89356747, 2020375304, 2088053082, 1653904173, -240115984, -409773834, -1983585121, -403227385, -277879753, -221402817, -1332130200, -1376343015, 9590136, 105204472, -834262869, -1617412468, 960387492, 949404040, 1779064565, -1170764813, -764047123, -808316935, 388506490, -1918117517, -500393918, 698426955, -3647844, 400419754, -103405224, 285376919, -1003759537, 1870759243, 102748823, -764696686, 1677138858, -1388921396, 103162473, 1460773365, -1435213501, 1965305741, 1477945421, 1671352758, 1830344388, 1342111233, 109704916, 1503123218, -681455781, -1844371092, 1568671475, -572370966, 509671019, 416553660, -596462389, -1615021443, -358086715, 1879801394, -817794090, -480992098, 317412454, 1675412708, 499273070, 480193155, 1039594257, -5695919, 974820933, 819292324, -988129868, -301784537, 252324012, 1159121330, -684572776, 1417427832, 1539978209, -225831486, -536937811, -689407043, -400506339, -82012221, -469210633, -727619600, 2040721404, -696644205, -396165370, 1421671191, 874554992, -1843850645, 1418921527, 1441287891, -1463495738, -64214062, 1940985584, -408776692, -2145511048, -965469418, -86307231, -1255055416, 1993466557, 741626603, -1623004809, -1142704129, 1046088575, 1310623322, 617875974, 539979483, -1683047686, 1651692925], [1924355171, -206760028, 1446110878, 1081851253, 889757828, -2002062898, 1258590303, 791669728, 162171282, -568416902, 534510333, 942129417, 1984822584, 1548365744, -1578565320, -192856013, -796459990, -1282886816, -22686926, 1193290357, -853161062, -1554925756, -1208703306, -300525376, 1343651963, 307711866, -1256737732, 1947362037, 1862333257, -626768519, -443842416, 1874874196, -2075012790, -2067574092, 1896622168, 266926156, -1352760840, 140855675, 1428568313, 822733805, 331521396, 661435715, -1935253866, -377241192, -1201873832, -1255998515, 558919673, -1938803056, 841625638, -1199858779, 1241472079, 993956477, -862027225, 105704041, -1997401277, 1323087596, 259892920, 717025180, -2038013597, -1085596849, -1797201689, -1929486858, 1250756411, 1133601648, -1125316543, 764343866, -17011992, 2050131149, 1375397533, 882467377, 358193559, 1519201778, -594587035, 723751261, -1403549626, 194758789, -441519256, -481123605, 1731397408, -48797160, 2025543567, -1253954991, 1760777991, 1196884E3, -1974512863, -1233696075, 114168684, -1376959417, -1366679570, -1183077587, -1783097594, 1228800044, 228444464, -150211475, 580686072, -1354431679, 314022336, -1738185464, -1936890857, 1226645204, 452145750, -215523871, 138758488, 840600910, 1330737125, 487022727, -1808721063, -315188039, 1341738853, -2028822604, -1928965600, 2064773845, -1755236176, 50946811, -1905726113, -496283022, 73124843, -1823411935, 1378738155, 518746290, -869356552, 582635223, 816890812, 1692371532, -175423502, 1454619622, 1047635712, 1708615111, -2019228107, -1856632757, -2050130774, 2080346111, 2071570745, 1764195786, 1518099954, 931686965, 394043827, -1769529388, -1201030595, 472291233, -711915043, 1804013381, -911361387, -612162600, 175600401, 635625261, 415663319, 1683300784, 1487656700, 2127163181, 297065239, -1374015767, -2065079900, 371717891, -1943802771, -257383652, -1907120381, -1324148976, 1461964562, -1726091009, -1559979848, 49220985, 725472239, -745789135, -445361274, -199564465, 273260092, -141202994, -1898505054, -1733239760, -1620159711, 1122723770, 658685164, -1913000112, -1432314969, -110537466, -1567300113, -602748603, 259685610, -1642472042, -1412271052, -764527553, 330588144, -813467161, -127929197, -1739556394, -1112009470, -1564079012, 582365868, 1027180270, 1166169189, -1360307975, -226240437, -2142146557, -1809113998, -471396475, 1066304573, 1951719533, 833754523, 1451918181, 601670718, 931601240, 1623627875, -779578814, 1376339650, -1835322746, -648024788, 706773824, -1836191182, -1071063207, 221618751, 15583516, 964275929, -1440104441, -2068153545, 2117904843, 1425017603, 1634279292, 1479817341, 1997256584, -1318913600, 1130465025, -1643800204, 115734566, 217519677, -1142882739, 2131782563, 1906691491, 1883553078, 1423678573, -826883353, 1306697646, 325892400, -364869035, 2061199728, -930064422, 1890745429, -39988065, 1905545865, 704051402, -539749121, 973552762, 1628223491, -163728653, -625666554, 496550603, -1901145629, 655605251, -1485567849, 1099234599, -184841722, 1119219236, 382492833, 1489500752, 221924532, 1086418682], [-256481494, 801110085, -119872799, 509783513, -477712071, -835558330, 528867490, -2023045500, -123770387, -1178470037, 255132311, 1566332711, -456057122, -881236788, -513511868, 1094564244, 1343657617, 712344639, -445847980, 813451752, -1413515874, 417532772, 498960643, -308531879, 769650731, 1861403677, 1072729325, 1548451633, -1301707574, -1330515990, -1676577970, 1745587046, -597222330, 797825474, -892389003, -1007232805, 954071072, 1109263954, -1614914822, -1259062557, -1786789371, -5930123, 1428709893, 2129228981, 836684532, 1047799277, -1395475429, -72114665, -375593368, -1008834401, -390317511, -1020792698, -1275926380, 332253257, -1478960433, 696775528, 2143627797, 739108967, -1013964626, 1805278187, 286714636, 1459279357, -516006855, 377449538, 342030324, 1561884148, -2103087240, 771459302, -803663482, 139514954, -822472764, 1069121035, 841333120, 1026806815, 1499441365, 1068602459, -1797920262, -571528245, 1278583513, -818773995, 2112796988, -144046283, 1824430040, -505204782, 1918073884, 1766199580, 1754925400, 713223085, 1517335798, -903046961, 1342917813, -453565134, 830127918, -1693036242, 1630506763, -1087226906, 2056931367, -469650104, 1198940782, -882892537, -333931753, -1801229127, 13133446, -636336561, 24306924, -1753618462, 1161075520, 1921432801, 420725813, -1947081664, 381375699, -419371469, -182159270, -1300283639, 632701037, -1583614324, 991186338, -2123665216, -7948842, 511044531, 1471476290, 1182211882, 1400335455, 1649921741, 668443243, 1957524639, 244183410, -92517850, -1885895304, -215591065, -1602133765, -1978449123, 572600933, 1241616114, 1382791416, 1606939532, -88724270, 1357874804, 1045415649, 139803957, 734817238, 114434326, 636579560, -1256384725, -1905954686, -788381430, 1804460125, 581871470, 191442317, -974667535, -1287023496, -1422204417, -1049768011, -1242139543, 834672046, 2013782783, 1742830664, 1455109779, -1323647487, 1254242362, 1423359967, -1172351986, -187761029, 2140983554, -2101236972, 1295161230, -477941790, 509847978, -887375925, 1200516205, -658453656, -1190667728, 96224156, 2038902535, 1946423187, 1592191677, -956250560, -495710990, 2106986918, 683885619, -1793478912, -1397870406, -772970640, 1918205058, 1356446925, -1126242162, -1746702593, -868733192, 1907826626, 1861026577, 397436354, 951998886, 1833378346, -1723810851, 874800112, -1737343646, 1508666377, 333477819, 1826433159, 1983728277, 1373086304, 1981139135, 2074745613, -2048724808, 698437559, -1866716593, 362904801, -1782855718, -1741141157, -1773245672, 323091746, 1690064669, -2056374979, -1836816376, -1111732351, 298166591, -1694443349, -372771188, 2900670, 2042098408, -867889354, 275585313, -2096698177, -1277127965, -79026157, -999457889, 2096427848, 468404578, -20429582, -704742134, -225830798, -1595657218, 1591443597, 22617057, -615642893, 696913403, -969360586, 1509515652, -1555772127, 968555219, -2096027108, 412286088, -2056348324, 335367958, -2122306889, 2046519694, -1416956959, -1737723199, -245999303, 858718077, -791186324, -587740658, 1642500890, -175974298, 741609689, 567739491]]);
    Pn.Em = g([-660494265, 2176313116, 1416121723, -839045805, -1381132614, 3076489317, -1750824686, -1445620563, 1800353587, 106414398, -55703929, 1879595236, 878713105, 3179226769, -472871663, 699586219, -916098940, -77882640, 1323584925, -856773873, -664499978, 637393335, -1327613289, 1726668591, 2808002686, -294476294, 1409764844, -877821011, 2056906976, -651500219, -1241716425, 648910553, 1566661992, -224834686, -429337790, 1627725132, -810378076, -1958601416, -633647431, -651335083, -136757049, -1715159933, -1417056647, 2009531291, 303411786, 202292237, -370113870, 1803419292, 2873522889, -1859646072, -1541233823, 1046957386, 794964064, 2966019713, -1159437909, -385950441, -271129120, 1762475667, 855301808, 463072772, -1096833063, 2039996358, -48529371, 467959268, 764451222, -28803088, 1653329889, -1523268064, 655389626, -1946606739, 1054903350, -194947497, 1616727936, 3840716642, 198674121, -45434397, 1525356784, 2056092818, 1822690470, -659734215, -899776830, 2126957776, 1430932950, -1169732143, -518826133, -880171331, -211358708, -2023333461, -664906879, 2041131815, 1515085202, -483385565, -233710239, 1862353104, -610192193, 1013067784, -704845450, 1860068494, 3091911084, 3119450164, 299612349, 3240767786, 994040417, -850368446, 1656681537, 321177603, 1491205056, 956821095, 1201043762, -1010568576, -995084615, 1589798068, -1803244996, 1609538643, -1044839665, -395547718, 988061102, -1146338788, 2347657914, -1173118286, 825424519, 3377836921, 3886022750, 1532589967, -268816798, 1518035669, -403833827, -817012773, -969864230, 212765583, 1394175023, -1399513825, 3379970447, 2107464022, 782642322, 871032245, -460202943, 2682112307, 1164455951, 2306022311, -1231550135, 24380903, 1828150735, 1152934902, -543783606, -91585648, 875290618, -1828101296, -854654845, -1104584739, 1419422153, -2058038501, 4197682403, 820561805, -312461517, 1263006914, 64258524, -1947973732, 4222574493, 906732075, 476690067, 1440359941, 751401112, 334548079, 1597046497, -161663280, 1822787204, -1230905565, 782692251, 315859216, -238511334, 1378593311, -476395597, -1346284591, 710300276, 1364396870, 311507069, 364653411, 836777756, 2384582612, 4235264591, 2449487292, 1124899333, 631187694, 418743758, 3873107894, -1181382411, 1831622427, -109755364, 323523197, -1335247390, 124887960, 3352741505, 1008103971, -1011101729, 1086588634, -2117572687, -350174254, 611773780, -1249775550, 291547320, -1130255089, -655258465, 1888208838, 91871292, 700097208, 1169704430, -1518381703, -449951094, 1211520120, -959660108, 3015658171, 888110206, -186638233, 1065846889, 1484390204, 517974799, 2186627181, 1661651296, -1412001646, 3630597186, -238406889, -1660991278, -1880932477, 638328291, -1982133493, -249044509, 2107966463, 29992993, 811022951, -1974044114, -461666609, -1200579874, -1315250886, 1185116276, 323805572, 527636763, -500483594, -372024003, -1721528145, 367692793, 2965109502, -733867907, 189843210, -1179202420, 1621433870, -1593351101, 559878802, 1515439684, -359208402, -369904452, -1168161326, 1162569174, 753946012, 99556623, -853885970, -395929680, 2875064567, -336745025, 3785102970, 1707679501, 1645587281, -2014855690, 2097938744, 1861518926, 3365531406, 934715964, -852402451, 3689597016, 3933564480, 943938819, -2079630206, 600685706, 3377771497, -338959859, 167434988, -1728077981, 382787553, 1421238184, -1940336516, -357777760, -359938633, -750536467, 1188304636, 38263995, 3948986193, 584774019, 1719979903, -1563043338, -989338565, 2067172070, 1551136012, 1206475204, 2681187148, -1830518459, -640702285, -1796077080, 2295612680, 1001060277, 2193961019, -404328488, 446138072, 514850637, 69467365, -396311030, 1997779636, 1751019254, 1124598223, 1180777079, -86062826, 4282598120, -301611745, -725208289, -1681254079, 364839967, -1011855731, 1825585071, 298327635, -1283222561, -1311737006, 108856055, -1444578933, 1314656422, 2030950498, -559801647, 1007456447, -1336049088, -22536359, -2094065153, 387517724, 347999945, 2269588877, -32732626, 560468902, -264075480, -1043194417, 1410374347, 1761300923, 1062923881, 1434446356, 127294998, 1491247620, 1853250316, 999133711, -579788416, -586192950, 939119733, -1853793073, -1021692741, -1888416014, -220582014, 2343090016, 1173638787, 2136517820, 451646459, 151909683, -1056102474, -135388413, -131461424, 1459818802, -2001734575, 1115607068, -240343824, -581603511, 221752402, 588280411, -921217668, 2618231172, 1389199953, 2088687670, 881388889, -989042165, 1733563373, 1667782717, 1472075823, 452301409, 1180237858, -1530461817, 1180234731, -2136600503, 2987450999, -1096021544, 425381193, 1809964613, 1861346093, -1197164522, -1048094536, 1579775421, -730480671, -868566865, 1168874199, 2349917682, -1699906002, -1176995742, 687066406, -1604879858, 1971691214, 1248746374, -434227533, -1609691996, 1043122588, 2397584272, -834619493, 398112309, 1945223810, 2080414944, 445365338, -1145536819, 372166828, -1917358246, -710077900, 2767245172, 1103879931, 1905766388, 3423083954, 3358274879, 4194228464, -1527749415, 1255965834, -371290099, -1082969597, 3049994580, 157108079, 662340189, 1265263059, 1668011067, -481884736, 1710765868, 1232781665, 305252938, -80195530, 615735632, 1824127533, -877972583, 942826142, 465049070, 1789555911, -1879432520, 1678327592, -1757693291, -2095414891, 1219662397, 3724783702, 381309764, 1753740122, -1129259060, -859683293, -95404371, 1904842092, 1703805866, -90225019, 3622866487, 2402060604, -1515930247, 410705037, -1964005706, -162531798, -2002415430, -485722690, -1547715385, 2726462587, -995184654, -2110929414, -1435254315, 1110375827, 3707025876, -278774202, 607738417, -225446776, 466849138, 661665028, -1623651469, -1499884200, -1965012448, -579868709, 3268953145, -806391621, 1888265847, -2142439541, -710140766, 2064722377, 1608537823, 632525034, 290785349, 363170827, 2083860643, 609551684, -745148976, -352032894, 2117914225, 631792652, -1767287330, 1274503502, 806681864, -492036562, 497266354, -1237535332, -1634544639, -2053428156, 529086784, -293488197, 2135098761, -1356021012, 262304738, 1046245290, 1988297319, 1691828198, -406478198, -1716035396, 1628646192, -615375754, -607665672, 3790886060, -728593129, 1841024095, 1746843240, -1020866887, 2302010665, -260980333, 1556521100, -95709717, 200094813, 377835361, 843090564, 1999855405, -872321307, 1289869302, 850477211, 1703192522, 1942852851, 1457100782, -1829097321, -1582363235, 301775772, 1430088660, 3352254470, -1296627143, 1539899779, 3989048382, 2848677958, -769546492, 176647396, 2592676081, -2133600140, 1768582397, -1182142479, -358223566, -1566651555, 1732998016, 195916383, 1507153160, -1917579734, 4111634, -2028285938, 2060329129, -428819835, 1138047383, 66941171, 2710136E3, -1307363395, 2031387624, 737273789, 1625363889, -1920526739, -90989064, -1327162914, 201931177, 3207880130, -1921330742, 2424363103, -822995138, -1268099087, -1646672011, 1419456093, 1738765445, 955776024, -1570114143, 453308750, 1162928134, -1889661420, 1589221676, 2227695182, 1561995678, 1195013569, 3872805224, 2108776840, -426133752, -1999599622, 115625294, -886446823, 2013727577, -1133202947, -637058752, 1434163510, -2135206530, 1112681764, -1868654977, 2102889E3, 2138631127, -1215046581, 139038471, -1971848184, -155455, 785006883, -1237818916, -653696914, 698697188, 1511757714, 690990227, -1111046925, -624439803, 3920210200, -527579526, -520420569, 391466338, 1668124736, 101896863, -1356528523, -1198123200, -1103215608, 988899046, 991349895, 768045377, 4124428921, 239113763, -950572166, 902494170, 178892502, 1818176704, 598391055, 1956912209, -626936489, 1093583906, 3505452946, 4033786148, -1839816397, -201513415, 3525196195, -1308260124, 859020292, -878996736, -861824791, -2070269953, 1055124755, -763608609, -247120679, 2235744095, -1662605666, 358728125, -1970307577, 530815132, 1612461120, 71344115, -1292718444, -2095339581, 1748100077, 1549536216, 1653214857, 656856995, -2101943244, -1222007353, 3002295244, -1542349594, 1146741764, 188646794, 135015929, 1857961979, -1042920498, 984177156, -1718950649, -1051555942, 834248483, 930519416, -171473304, 731201812, 3556284681, -1080136067, 1103019065, 901538749, 2011766546, -1987012976, -887638115, -859878875, 1046373694, 994390513, 833577225, 41795647, 860545703, -1972872592, -668191907, 2104738195, -265216903, -402055505, 2362776736, -2050049626, 1076541385, -1453439674, 4203818537, 1067458257, 138862871, -762267512, -836204292, -487384847, 2809824723, 2049799098, -494323739, 1837462581, -1976629766, -1583638929, 938420607, 1831532847, -1480335846, -1735575472, 604010387, -1186170580, 1302955830, -1605454480, 1252282244, 1898244038, 330891886, 665595157, -71717485, 798272028, -1739032003, -1667384938, 2117371861, -1474746580, 2421164745, -522489099, 1303676220, 1934673900, -1318949773, 118688351, 1130973230, -700307659, -2057756659, 273082460, 846003028, 2107938573, -1370700956, 3051084201, -193791840, 1006642308, 19949502, -930475241, 1279008923, 2092665779, 1107004847, 593858995, -594064827, -2043025608, -1748792551, -671131867, 1031094131, 672302424, -147028085, 1897272260, 1391983881, 1248205622, 1652641166, -1143137002, 1795652157, 1454471812, -2019348041, 1804141881, -1345607787, 1325328814, -354179855, -1009460787, 1593670706, -1313661340, -1792780666, 564648466, 1901453377, 1935848565, 910715861, -1451336324, 1172862241, -1827037870, 611291550, 1515721561, 3353018398, 1017710988, 1457149716, -1442093238, 147364445, 3907446828, -227498236, 1908355546, 995587886, -68612277, -2013518858, -817808015, 1342089452, -273014590, -346824511, -1612994, -2058475288, 542591014, -1971830338, -1796630176, -1545170844, 912021419, -1091995956, 1500222658, -1939959582, 122371156, 3569776105, 4076660380, 3962251101, 1739124204, 616450329, -2115265398, -38718351, -295590751, 518219998, -1940536747, -764174336, 374560197, 581333134, 1807008154, 4226050524, 3975859667, -581467815, 526806814, 761623905, 1189298362, -1954716528, -430188675, -1525734782, 1262837027, -1688385429, -1781620317, 3432301303, 773242498, 4018764681, 2194958628, 515511589, -2063747213, -730013373, -1054523385, 484756414, -2142683091, 290290521, 1691836589, 1794035273, -2082695065, 922721320, 1878749341, -1305513215, 1852616082, 127892, 2699268385, -368902694, 1080070758, 2136578945, 462411162, -1520238756, -1609084730, 2023969044, 139506436, -194669384, -12971330, 702409552, -472950228, -1908143328, -1077985832, 1688057226, -997553583, -1745798717, 196114755, 554134367, -2125202191, 2871444998, -2127649646, -66403193, -974461686, 2105288958, 761182035, 1506525513, 1790153750, 959651354, 591127819, 2131345853, -322888082, -1503363837, 113062829, -686307435, -528601753, 646501387, -499239777, -1937812066, 1000773826, -346043076, -380752411, 1007674591, 1430602838, 4148396122, 565139671, 3852311073, 398181959, -255434734, 716828220, 873312462, 1923315311, -495825839, 909551101, -1037646823, 275479761, 4019233708, 193268365, -710477685, -835250760, -1220994910, 1791569505, 4236285125, -178655522, 880984896, 621717038, -111317326, -1305580433, -1822998318, 2080682536, -1190478566, -1919090231, 1136016173, -521409108, 2082575876, -2072414865, -1233955330, -1604955237, -1357030910, 3893568590, -778020548, 1521217351, 2940154802, -1428467119, 2026539754, 1542736860, 3819288606, 518318201, 1366018198, -843374102, -183255804, -1809418464, 1797905089, 494374247, -1775900094, 596929468, -230871542, 1846523, -284028413, -1774580693, 447649291, 334681480, -1368654162, 1233373661, 504048287, 1734651128, 2793038906, -128739999, 2885388799, -661807186, 744246375, 744733413, -1714621237, 3857683291, 216506644, -880199469, 859368867, -417881250, -1231210446, 1478989228, -708193271, 2098837965, -972115330, -1317439242, 2009906410, 3341623989, 1507828598, 920347090, -1769789163, -867954189, 3334228589, 743761377, -583210684, 47787561, 491230641, 670630064, -1750788404, 3118382098, 431486917, -1086006153, 3200818831, 1615284733, 638728558, -1581322112, 1888187443, 1564832304, -318520085, -1471319122, -1982506963, -1779382278, -279856951, 208552588, -886158851, -1054127395, 1629264597, 902944718, 1588274806, 545004424, 490201106, 1263876993, 1228970266, 601487829, 844423E3, -1188763182, -1079632624, -2044731633, -1143797743, 191556422, -1833663692, 459429406, 1536464179, 479813011, -1724672447, 3860650814, 1362014812, 1413514054, -1601132546, 496805369, 1191975396, 3031537019, -1469938605, 911026636, 1122267871, 4070339594, 1820083946, 548214811, 2104971925, -999654350, 1775142240]);
    var qn = g([[229897818, 849839868, -332487530, -907383437, -1140707779, 1654199944, 1768821727, 652357015, 623000070, 1470604882, -1700802255, 325928445, 1032404949, 1187458971, 1923722567, -1203655686, -1390756482, 697642389], [-838202984, 1582992320, -1714076669, 679877749, 189010644, 1849391637, 1294974997, -1459294, -1488742285, -1267499271, 726168914, 2094845591, 754773706, -1978458060, -964803934, 127750555, 475421891, -1954094281, 1930533718, 1804524105, 394085593, -2051681430, 1657887374, -1897984338, -15890258, -495691821, -1572079538, -1249123943, 1045945831, -1502595007, 1833385681, 1320753672, -704191285, -1083120076, 99601038, -2126564410, -844996408, -471190585, -95833021, -642258511, -13931089, 204284672, 363505287, 350301540, 2096251266, 1373144888, 630788670, -1816153472, -401154963, -97762171, 1780264345, -463978616, -247249674, -1749504896, 1661023437, 907615021, -12831512, 397335952, -1786395721, 993476149, -1289892824, -1486484666, -1637501503, 1675351685, 956816708, -391449187, 1892156646, -1927668726, 534517972, -2067356029, 1379383480, -1110405008, -1415767431, -297252165, -827208828, 1370363882, -977108484, 1148411618, -424551702, 2063167191, 174620934, -1391584961, 745393472, -333539626, -524786491, -2117597493, -1848292203, 161065330, -1666287795, -629597872, -1515716318, 279188318, 837684612, 1390580413, 1470418347, -1721969561, 1616928068, 819446181, 113011226, -1137116088, 1893567469, 1270822224, -1942858657, 780944747, -764992437, -5230105, 2052542001, -999992473, -1537640841, 650047489, 1734205268, 824706066, -788513771, 957925301, -374186585, 1533109320, -1173745566, -826461704, 2145721040, -357151714, 841612069, 2114269302, 1241753843, -1049389401, 2142940283, -1838067471, -1324159491, 1905776214, -157297790, -201054091, -540165134, -709698336, -1016771856, -1488430653, -594563498, 1731530846, -1798530146, -1606210681, -120326099, -638304073, 162704055, 1158793164, -1080616086, 1632271664, -953274094, 1725021944, 690842045, 1739639665, -44622681, -1967781309, -641513874, -761373643, 65745658, -1214426411, -1813964993, 645427078, 1338844898, -2050732116, 1578591624, 1083724660, 590026151, 374619257, -1119927069, 919795828, -1845588850, 949741829, 1681149992, 2078866991, 27836027, 991084966, 1816575850, 588384585, -1794583888, -1101425630, 1569299599, -958842176, 1540325237, -888719722, 1539346640, 509413950, 1355091328, 969898415, 249646189, -297327243, 449063944, -701365741, 1107499286, -1381919827, -680597934, -778804932, 1098355179, 921066823, -1666097852, 1340413236, 1635380422, 2096582952, 767918068, -2000835789, -1834546588, -1280335848, -278303333, -780249545, 461588273, -667101715, -401949267, -1858128041, 1434456423, -1750756032, -374815067, 195467630, 2099495900, -1597721624, -1903156491, -1493112415, -78449633, 246041414, 252275050, 75487554, 924386488, -134584506, -1983745120, 149251714, -2087652145, 1622942259, 505617848, 587788700, 1687633870, 841560575, 2549740, 1514529746, -1765142328, -167150553, 1778487572, 444538353, 4769090, 154804769, -760448134, -718437660, 1384148803, -823751116, 1125707753, -464419398, -597630465, 1284194762, -1132703057, -382861132, 8794989, 623742166, -728917168, 102274724, -1816409486, -776347168, -75071976, -440781865, 1682065087, 2078723742], [-21733635, -306381912, -744029967, -176378044, 1429039436, -1164660022, -381547734, -1299991660, 1607009042, -402998702, -754759649, -439166825, -710246648, 1827069566, 95384152, -641266701, 1622567497, -1349685950, 349194347, -65540781, -294482240, -809162226, 1024527238, -2048819911, -1414777854, -1706213789, 2015358012, 1154205471, -727150729, 1910149322, -220239283, 1094825782, -684452274, 1939354503, -277056907, -494300589, 916538274, 892016842, -742209427, -1484685128, -1017654794, 847680589, 932969587, 142238672, 1099215356, 1985912574, -886341855, 696524866, 2145491540, 1058435670, 1159229527, 999079252, 86553755, 805114715, 1787566030, -91209740, -829271227, 1839351800, 1401981608, -139328093, 1934503773, -1434150918, 1964025873, 1804658669, -608913682, -921334185, -15173140, -2124493524, -1988743674, 1137069043, -177302877, -2040222398, 423375948, -481425272, -569706283, 206961364, -1995276609, -271767082, 703822755, -427391440, -185040687, 2128784808, 196339784, 1762627017, 2069139401, -1843691302, 736819839, 1542164659, -1512726270, 1458966678, -385056603, 1024786372, 1010105275, 824382034, -2068651977, 477383174, 791412835, 28915243, -1389343508, 577668759, -673413218, 1342015518, 250058625, 246215074, -216638913, 414242972, -289953053, -1820650324, 1832775439, 111065849, -1237666466, 1577571453, 1826822183, 243112583, 372960343, -1937708138, 2103358009, 763214910, 1800183795, -1992244437, -478430059, 1210796593, 1184941843, -1205185367, 159027875, -1041734734, -1829498500, 2107083548, 1717162088, -1973878467, -979334533, -1793931378, 85668082, 1777533755, 981628988, 1650968752, 695069126, -1039023194, 49931267, -82940838, 1189597009, 28043600, 380817357, 1018153443, -1258808613, 1477041890, -1102691390, 817007353, -85096175, 1369063118, 641924991, -1297538737, 466052501, 1236104331, 1283110662, 525901675, -595677004, 1267730858, -1311074061, -1367762857, 1162231097, -24262407, 979403729, -1629480743, 943319477, 1346742362, 1842491538, 684231818, 1644633962, -734924384, -418702453, -2017213300, -188901916, -2093017368, 1433345104, -1469387383, 202250897, 636101491, 926093488, -1073854191, -1275868552, -697868318, -679652007, -439843226, -969688977, 260882203, 137526431, -705670178, -735332500, -898570095, -202874621, 1951633522, 1251469271, 1358944081, 1854037419, -952514179, -221850763, -615500027, -7901447, -1842188195, 796332468, -1820356461, 1042145500, 300996451, 985124197, 685221834, -333293243, 1437878022, -1378933693, 307092097, -2052507185, -149857939, -1781671066, 294895386, 433559162, 1422069771, -1738410930, -1239801250, 1639309903, -723122509, 1546543226, 1627266706, -1531749319, 1934841867, -334231859, -1926427978, -1592311471, 717274623, 404420987, 1893525710, -1529537637, -917170529, 936436263, -1450703610, 2047953531, 70803453, 1124273233, 1284478630, 1799480282, -905101325, 438026463, -59942803, 1430045468, -155909065, 916399199, 1391353235, 385801221, -850529431, 806123563, 39169159, -1463583305, 1078258570, 1679455913, -249910367, -573522649, -71380760], [1982223603, -1914120326, 1673119344, -168093710, 1947706464, -934868568, 2011192205, -161518924, 1095646864, 1078536813, 1518513073, 680733802, 868705769, -1164672567, -907727792, -195111916, -723872473, -53086897, -797237490, -1310522730, 135608533, -1864755069, 505723833, 340204661, 126389924, -779012581, -1414928074, -1999261634, 1626444430, 265750136, 952664295, 1814671453, 136123214, -1148729170, -2102244111, -1744560770, 166251269, 2019206348, 675536010, 2033139586, 1664460932, 867947356, 415015563, -1949352336, 1934943806, 1097729844, -215743455, 1152939329, -1230477738, -1062002250, -1646094734, -745966900, -1113255229, -1045012556, 1898513641, 815662513, -1209695412, -1474435823, -759507396, -872643116, -108293793, -572780926, 2022587303, -26207250, 2045611257, -31016004, -1067849877, -1746594747, -1595407948, 445118195, -2022755727, -467239754, -2142137154, 1647650691, -492521712, 1924021825, -451120621, 1007593429, 1585867336, 566249380, 167652736, -997230851, -820510928, 1987537237, -77322129, 262455164, 274897663, 1452723459, 253350837, 1993954181, 311086899, 415511719, 172713492, 1598988379, 933809783, -464840682, -1782212473, -2022230711, 1837947820, 1746531791, -206384375, 1552574670, 1930803788, -195613728, -254531863, 2100839943, 404263737, 2076054570, -1257047081, 1122290846, 947256648, -357075167, 1653644953, -1558596525, 479604551, 1668133562, 472305059, -1332310297, -931671832, -198191009, 257794323, 1840067446, 1332484586, -1686394935, 836568977, 1059869891, 124574933, -1157811146, 759298928, -1853108948, 1750828, -2054155681, 926532184, 349063367, 737772888, -1935143471, 2055341648, -5740653, 1123272834, 1403698003, 427644913, 2084653420, 53827208, -556580955, -622974526, -718538160, 777066131, 10642179, -1473927485, 42961280, 733402084, -1298075695, -330803213, 716645118, 991501217, 1804621255, 295909446, 699884413, -502219415, -303184296, -983523053, -1926299132, -1270671729, 1764727330, -985542033, 1070783554, -449455124, 950733955, 1144604746, -213809266, 2113881892, 289964390, 667808448, -205094838, 1829894736, -237492343, 1714574299, 452117068, 687998055, -344931971, 473450841, -240555773, 921904454, -1947709052, 716848713, -923746189, 1655336916, -1361111575, 1374401370, 1351735416, -503841965, -210662912, 28550606, -1013775971, -1627755881, -1956449285, -1231132106, -1798511564, 1839607845, 1333480181, 828920720, -550535857, -79200818, -2072427763, -92182117, -1007537560, -531634013, 597078630, 1019601208, 427553351, 1358839937, 1295606149, 1253698240, 1321359326, 1827036120, -96297979, 1961035071, -1449129387, 1906218152, -1852074724, 830126831, 259976739, -480649884, 562280542, -849465299, 1526639975, 1025967841, 1384043246, 2123956991, -206097982, 373358100, -1299736234, -287411656, 1139982495, 780957194, 982178842, 1868585192, -342016983, -201343E3, 1529621679, -1608908150, -1201917255, 1653588554, -236943630, 160438843, -1639974092, -1312483576, -359232666, 1179000579, -1991728832, -168800292, -195944685, 1440643255, -1784478805, 1294228634, 231058942], [346310866, -760785108, -255773812, 462402975, -1991838300, 240492811, 382342214, -535902431, -1506588573, 227308918, -1235754389, 1744325636, 1494196796, -81336513, -1254187923, 1131677180, 618125740, -1255254505, -1029117223, 1746489860, -400793256, -1790807970, 447773130, 897514369, 1839734262, 1931953313, 2039336191, 250787664, -2025426637, 1326940614, -929563768, 1936457968, 750315571, 807450175, 1324985591, 1730186793, 574834892, 446538401, -461826422, -1804212375, 1272844656, -1597838884, 609411969, -918395893, -1091983950, 2034242906, -687308265, 588920300, 1900791685, -1750628192, 1141924258, 2075806930, 1916119262, -1924883801, -1793833298, -744070970, 1751868198, -1068060208, -551272117, 1934334331, -2122147844, 420717243, -1740382679, 635830970, -1464421974, -611800772, -1879975247, 899221619, 235128823, 1385409654, 76799203, 816779713, -926092397, 1649034526, 1731428310, -1566667886, -544352885, 848104315, 2068987801, -1501879997, -971648040, 597634660, 1011756967, -816256336, 509827742, 2105236561, -2073381484, 535587639, 1442863916, -259688764, 1154162298, -1329147873, 1242116280, -674309101, -2129691236, -1590254342, -1776959195, -185688384, 149638103, 30587288, 283319883, -2086106302, 1382586556, 713320120, 159643440, 2087908061, 1707758771, 1408264143, -798412373, 1313073328, -980735637, 426682037, -1786021936, -1598979960, 149656261, -1074946190, 562266820, 1071849995, 203272844, 928777036, -1746950025, -738917907, -1864172749, -1027921778, 808351611, 115564112, 451258030, 1391532245, 974074225, 1052258170, 1500394287, 7472814, -2133625261, 864640902, -1996258910, -1513661669, 1086557597, 835755723, 869467621, -663168492, 1650292399, -1193685367, -1423305959, -1082638598, 604520037, -355064967, -317184772, 789017940, -775204512, -449424947, 685481445, 1875371481, 949742154, -1563315671, 828175252, -1712992024, -2125014394, -94286895, 139800385, -1914750551, -1591004111, 1727600768, -70726198, 157276910, 983607038, 1854715835, 587547850, 71192417, 1202500605, 313054625, 1332967648, 2096005486, 1915131330, -91820094, -544224602, -292927581, -1335047682, -336867977, -625557152, 2072714926, 2079774434, 769210250, -859846950, -38963052, -1473111984, -1396332027, -559123088, 245192377, 1430587735, 807115516, -1797967089, -605290717, -1832360828, 735521680, -119714850, -2041009803, -225999952, -52361340, 1532219385, -1753338216, 1482882949, -729913722, 526862483, 1344697426, -1879713815, 1420857364, 178749626, 348151218, 1024138671, 73407581, 201150095, 258443307, -1880539428, 922289345, -1726210854, -569095356, -1212013925, 593943551, 1877108094, -1369467026, 756404946, 1671239417, -1038910312, 1028722355, -1464597671, 1588106857, -1194587045, -1745622080, 408802864, -307788967, -1238595610, 1953339802, -175053189, 323314842, -1729050542, 488025824, 846074955, -1859913371, 1139433929, -909139537, -400097536, 1669572363, 348222980, 713310757, 181818277, -1736954573, -1728472916, -1450741757, -2092843115, -1230542315, -184772168, -1280578355, -1536881661, 1341851270, -1756297125, -915020579]]);
    function Rn() {
        this.bw = !1;
        this.Kg = {};
        this.Lg = {};
        this.Hd = null ;
        this.DD = this.Id = !1;
        this.TD = [];
        this.Vy = !1
    }
    function Sn(b) {
        var c = new Rn;
        c.jf = b.adCookieValue;
        c.Uk = b.adToken;
        c.uF = b.cmAdParams;
        c.jw = b.authToken;
        c.u = b.listenerState;
        c.sb = b.alertCode;
        c.Ka = b.username;
        c.s = b.listenerId;
        c.Vb = b.hasExplicitContentFilterEnabled;
        c.$v = b.allowExplicitContentManagement;
        c.Sq = b.hasExplicitPINSet;
        c.jg = b.webAuthToken;
        c.X = b.webName;
        c.Il = b.fullName;
        c.of = b.autoRenew;
        c.A = b.billingFrequency;
        c.ds = b.paymentMethod;
        c.od = b.subscriptionDaysLeft;
        c.zt = b.subscriptionHasExpired;
        c.To = b.accountMessageKey;
        c.ih = b.isGiftee;
        c.Cf = b.gender;
        c.vR = b.zipcode;
        c.ri = b.birthYear;
        c.kh = b.isProfilePrivate;
        c.Hp = b.disallowProfileNotes;
        c.zl = b.emailOptIn;
        c.Mr = b.notifyOnNote;
        c.Lr = b.notifyOnFollow;
        c.S3 = b.proxyHostname;
        c.T3 = b.proxyPort;
        c.PK = b.homepageUrl;
        c.zr = b.monthlyListeningCapHours;
        c.DE = b.antidote;
        c.ol = b.complimentarySponsor;
        c.OK = b.highQualityTrialAudio;
        c.XN = b.pingAndo;
        c.hk = b.timeoutCredits;
        c.Sa = b.isUserAUNZ;
        c.SL = b.monthlyPrice;
        c.le = b.annualPrice;
        c.kl = b.businessMonthlyPrice;
        c.jl = b.businessAnnualPrice;
        c.q3 = b.isBusinessEligible;
        c.wQ = b.isSuspectedBusinessMoreLikely;
        c.e4 = b.isSuspectedBusinessLessLikely;
        c.Xb = b.canSubscribeToBusiness;
        c.KA = b.timeoutDialogBusinessOfferFreqImpressions;
        c.XO = b.sessionStartDialogFrequencyDays;
        c.uD = b.hasReceipts;
        c.wz = b.paymentBackedTrialDuration;
        c.gh = b.inPaymentBackedTrial;
        c.tj = b.isMultiDayPassSubscriber;
        c.rh = b.offerPaymentBackedTrial;
        c.TN = b.payToPlayPrice;
        c.dk = b.subscriptionName;
        c.Mw = b.currentSubscriptionName;
        c.lL = b.allowPromotedStations;
        c.hR = b.promotedStationsRecommendedFallback;
        c.Mh = b.svnTimeoutReward;
        c.fk = b.svnTimeoutCredit;
        c.Dn = b.valueExchangeContext;
        c.En = b.valueExchangeRewards;
        c.mm = b.isEligibleForProgrammaticAds;
        c.DD = b.isThumbprintRadioAvailable || !1;
        c.TD = b.reasonsThumbprintRadioUnavailable || [];
        c.Vy = b.logTimeToMusicEnabled;
        c.lr = b.isWebClientAvailable || !1;
        Tn(c, b);
        c.un = b.tsck;
        c.vn = b.tscs;
        c.Ci = b.customSkin;
        var d = b.twShareUserTokens;
        le(d) ? (d = d.split("|"),
        c.$d = d[0],
        c.Rh = d[1]) : (c.$d = null ,
        c.Rh = null );
        c.d4 = b.subscriberVendor;
        c.ck = b.subscriberVendorDisplayName;
        c.tQ = b.subscriberVendorHidePrice;
        c.vF = b.collectTrackLifetimeStats;
        c.es = b.paypalDisabled;
        c.OL = b.mdid;
        c.lh = b.isStreamLimited;
        c.pE = b.adPodEligible;
        c.Qq = b.useChronos ? b.useChronos : !1;
        c.Bg = b.dailySkipLimit;
        c.wt = b.stationSkipLimit;
        c.Ce = b.offerAnnualSub;
        c.hB = parseFloat(b.volumeNormalizationMultiplier) || 1;
        c.fw = b.artistAnalyticsHomeURL;
        c.iL = b.isAdvertiser;
        c.Ft = b.timeToStartAudioAds;
        c.Dt = b.timeBetweenAudioAds;
        c.qG = b.enableArtistAudioMessages;
        c.zf = b.enableArtistPromoEmails;
        c.HB = b.isGPTSampleEnabled;
        c.sB = b.isAsyncGPTEnabled;
        c.UK = parseInt(b.inactivityTimeoutSubscribed, 10) || 10800;
        c.Ey = parseInt(b.inactivityTimeoutRegistered, 10) || 3600;
        c.TK = parseInt(b.inactivityTimeoutBusiness, 10) || 18E5;
        c.Fy = 420;
        c.Mm = b.propAdsExperiments;
        c.yL = b.kruxToken;
        c.Pq = !!b.hasBusinessInformation;
        c.vP = !!b.shouldLogVideoAdUrl;
        return c
    }
    function Tn(b, c) {
        b.Pg = c.fbDisconnected;
        b.Ea = c.fbId;
        b.lc = c.fbName;
        b.El = c.autoShareEnabled;
        b.Mg = c.autoShareFollows;
        b.Ng = c.autoShareLikes;
        b.Og = c.autoShareTrackPlay;
        b.dq = c.fbShowAutoShare;
        b.Qc = c.fbAccessToken;
        b.nx = c.facebookSettingChecksum;
        b.mx = c.fbReauthorize;
        b.Hd = null ;
        b.Kg = {};
        b.Lg = {};
        b.Qg = null
    }
    function Un(b, c) {
        b.Jr = c.Jr;
        b.Ea = c.Ea;
        b.lc = c.lc;
        b.Kg = c.Kg;
        b.Lg = c.Lg;
        b.Hd = c.Hd;
        b.Qg = c.Qg
    }
    f = Rn.prototype;
    f.rH = function() {
        return this.u
    }
    ;
    function Vn() {
        return v.i.jw
    }
    f.lm = function() {
        return this.qG
    }
    ;
    f.Ef = function() {
        return this.Uk
    }
    ;
    function Wn(b) {
        b.Sq = !0
    }
    f.p = function() {
        return this.u == m.v.In()
    }
    ;
    f.ab = function() {
        return this.u == m.v.Ln() || this.u == m.v.td() || this.u == m.v.Th() || this.u == m.v.lg() && this.gh
    }
    ;
    f.S = function() {
        return this.u == m.v.Th()
    }
    ;
    function Xn(b) {
        return b.u == m.v.Eu() || b.u == m.v.Au()
    }
    function Yn(b) {
        var c = !0;
        if (b.u == m.v.td() || b.rH == m.v.Th()) {
            if (30 < b.od || b.of && b.sb != m.sa.Zn())
                c = !1
        } else
            Zn(b) ? c = !1 : b.gh && (c = !1);
        return c
    }
    function $n(b) {
        return !(b.u == m.v.In() || b.u == m.v.Lu() || b.u == m.v.EB() || b.u == m.v.lg() && !b.gh && !b.ih)
    }
    function ao(b) {
        if (b.lh) {
            var c = bo(A._data.streamNagTimeout);
            return !isNaN(c) && c < b.Fy ? 1E3 * c : 1E3 * b.Fy
        }
        c = bo(A._data.timeout);
        !isNaN(c) && c < b.Ey || (c = b.UK,
        b.J() ? c = b.Ey : b.S() && (c = b.TK));
        return 1E3 * c
    }
    function co(b) {
        return b.s
    }
    f.Eb = function() {
        return this.vR
    }
    ;
    function eo(b) {
        var c = "";
        0 < b.Cf.length && (b = b.Cf.charAt(0),
        "M" == b || "F" == b) && (c = b);
        return c
    }
    function fo(b, c) {
        c != b.Pg && (b.Id = !0);
        b.Pg = c
    }
    f.lH = function() {
        return this.Ea
    }
    ;
    function go(b, c) {
        null != c && c != b.Ea && (b.Id = !0);
        b.Ea = c;
        null == c && (b.Id = !1,
        b.lc = null ,
        b.Hd = null ,
        b.Kg = {},
        b.Lg = {},
        b.Pg = !0,
        b.Qc = null ,
        b.Qg = null )
    }
    function ho(b, c, d) {
        c != b.Qc && (b.Id = !0);
        b.Qc = c;
        b.AG = d ? d + "" : null
    }
    function io(b, c) {
        b.Qg = c;
        c.publish_actions && (b.Qg.publish_stream = 1)
    }
    function jo(b, c) {
        c != b.lc && (b.Id = !0);
        b.lc = c
    }
    function ko(b) {
        return b.lc
    }
    function lo(b, c) {
        null == c && (c = []);
        for (var d = {}, e = [], h = [], l = 0; l < c.length; l++) {
            var p = c[l];
            d[p.name] = p.id;
            e.push(p.name)
        }
        e.sort();
        p = {};
        for (l = 0; l < e.length; l++) {
            var q = e[l]
              , t = d[q];
            p[t + "f"] = q;
            h.push(t)
        }
        b.Kg = p;
        b.Hd = h
    }
    f.lq = function(b) {
        var c = this.Kg[b + "f"];
        null == c && (c = this.Lg[b + "f"]);
        return c
    }
    ;
    function mo(b) {
        return b.Sa
    }
    function no(b) {
        return b.SL.toString()
    }
    f.ry = function() {
        return this.uD
    }
    ;
    f.Ny = function() {
        return ("V1" === this.dk || "ANNUAL48" === this.dk) && !("V1" === this.Mw || "ANNUAL48" === this.Mw)
    }
    ;
    f.lr = function() {
        return !!this.lr
    }
    ;
    function oo(b) {
        return b.J() || null != b.ol && 0 < b.ol.length && !b.OK || !0 == om(bm) ? "aacplus" : "mp3-hifi"
    }
    function po(b) {
        return qo(b) && b.sb == m.sa.tB()
    }
    f.Ya = function() {
        return this.A
    }
    ;
    f.J = function() {
        return this.u != m.v.td() && this.u != m.v.Th() && this.u != m.v.Ln() && this.u != m.v.Uu() && !(this.u == m.v.lg() || this.u == m.v.Su())
    }
    ;
    function ro(b, c, d) {
        if (!b.ab()) {
            var e;
            wl ? (e = om(Kl),
            null == e && (e = {}),
            e = e[c],
            e = null == e || isNaN(Number(e)) ? 0 : Number(e)) : e = 0;
            e += d;
            var h = om(Kl);
            null == h && (h = {});
            h[c] = e;
            um(Kl, h);
            c = Fm();
            um(Ml, c + d);
            so(b)
        }
    }
    function so(b) {
        !b.p() || to(b) || b.bw || (b.bw = !0,
        z.b(qh))
    }
    function to(b) {
        if (b.ab())
            return !0;
        b = 600;
        var c = bo(A._data.playtime);
        isNaN(c) || (b = Math.min(b, c));
        return Dm() < b
    }
    function Zn(b) {
        return b.u == m.v.Uu() || b.u == m.v.Su()
    }
    function uo(b) {
        return b.vF
    }
    function qo(b) {
        return b.u == m.v.ju() || b.u == m.v.Eu() && b.zt
    }
    f.ue = function() {
        return !0 === this.pE
    }
    ;
    function vo() {
        var b = v.i;
        return b.hB ? b.hB : 1
    }
    f.ir = function() {
        return !0
    }
    ;
    f.ve = function() {
        return this.sB
    }
    ;
    function wo(b, c) {
        this.ff = b;
        this.Jc = c
    }
    function xo(b) {
        var c = new wo;
        c.ff = b.attr("data-like-type");
        c.Jc = b.attr("data-like-objectid");
        c.df = b.attr("data-like-id");
        return c
    }
    function yo(b) {
        var c = new wo;
        c.df = b.id;
        c.l3 = b.listenerId;
        c.ff = b.likeType;
        c.Jc = b.objectId;
        c.n3 = b.stationName;
        c.m3 = b.stationImgUrl;
        c.k3 = b.contextType;
        c.i3 = b.contextId;
        c.j3 = b.contextName;
        return c
    }
    wo.prototype.Hf = function() {
        return this.ff
    }
    ;
    function zo(b) {
        this.Fa = b.gain;
        this.uf = b.clickthrough_web ? b.clickthrough_web : b.clickthrough;
        this.pc = b.impression;
        this.tracker = b.tracker;
        this.pn = b.tile_tracker_urls;
        this.vf = b.companion;
        this.nl = b.companion_web ? b.companion_web : b.banner_html;
        this.RL = b.minutesToNext;
        this.Ow = b.delayedInStationAd ? "true" == (b.delayedInStationAd + "").toLowerCase() : !1;
        this.kb = b.type;
        this.cg = !0;
        this.Jm = Ao(b.adToken);
        this.cc = "0";
        this.Pb = b.image;
        this.ie = -1;
        /* #TAG */
        this.jb = this.Ja = "audioad";
        this.Wh = "";
        this.Ro = "AudioAd";
        this.qE = b.adRequestMetaData;
        this.xD = b.isInStationAd;
        this.Yh = b.lineId;
        this.Hc = b.creativeId
    }
    vd(zo, Hn);
    zo.prototype.oL = function() {
        return this.xD
    }
    ;
    zo.prototype.om = function() {
        return this.cg
    }
    ;
    function Bo(b, c) {
        Fn.call(this, b, c);
        this.RC = b.artistMessageButtonText;
        this.SC = b.artistMessageButtonUrl;
        this.Qb = b.artistMessageId;
        this.he = b.artistUid;
        this.tv = !1;
        this.AD = b.artistMessageIsOnDemand;
        this.TC = b.artistMessageDeepLink;
        this.CD = b.artistMessageIsSharable;
        this.eD = b.artistMessageDeliveryType
    }
    vd(Bo, Fn);
    Bo.prototype.we = function() {
        return this.AD
    }
    ;
    function Co(b, c) {
        Fn.call(this, b, c);
        this.oo = this.qo = this.Fo = null
    }
    vd(Co, Fn);
    function Do(b, c, d, e) {
        this.h = b;
        this.Yb = c;
        this.description = d;
        this.context = e
    }
    Do.prototype.r = function() {
        return this.h
    }
    ;
    Do.prototype.o = function() {
        return this.Yb
    }
    ;
    Do.prototype.Ol = function() {
        return this.description
    }
    ;
    Do.prototype.getContext = function() {
        return this.context
    }
    ;
    function A() {}
    function Eo() {
        return !(me(Fo()) && me(Go()) && isNaN(bo(A._data.tip)) && $.isEmptyObject(Ho()))
    }
    var Io = !1;
    function Jo() {
        if (!Io) {
            Io = !0;
            var b = Fo();
            if (b && 0 < b.length) {
                var c = Ko()
                  , d = Lo();
                z.b(Ji, {
                    stationCode: b,
                    stationName: A._data.sn,
                    source: A._data.site || "",
                    artistMessageArtistUid: "" == c ? null : c,
                    artistMessageId: "" == d ? null : d
                })
            }
            (b = Go()) && 0 < b.length && (b = "/search/" + escape(b),
            (c = Mo()) && 0 < c.length && (b += "/" + escape(c)),
            $.address.value(b));
            b = bo(A._data.tip);
            isNaN(b) || z.b(Mi, b);
            b = Ho();
            _.each(b, function(b, c) {
                z.b(lg, [c, b])
            })
        }
    }
    function bo(b) {
        return null != b && 0 < b.length ? parseInt(b, 10) : NaN
    }
    function No(b, c) {
        b = bo(b);
        return isNaN(b) || !b || b > c ? c : b
    }
    function Ho() {
        var b = {};
        _.each(A._data, function(c, d) {
            0 == d.indexOf("ext_") && (b[d] = c)
        });
        return b
    }
    function Fo() {
        var b = A._data.sc;
        return "sh" != b ? b : null
    }
    function Go() {
        return A._data.search
    }
    function Mo() {
        var b = A._data.searchfilter;
        return null != b ? (b = b.toLowerCase(),
        "track" == b ? "song" : b) : null
    }
    function Oo() {
        return A._data.tc || ""
    }
    function Po() {
        return A._data.accountBirthYear
    }
    function Qo() {
        return "175" == A._data.dc || 0 == A._data.autoplay || null != Fo() && 0 < Fo().length
    }
    function mn() {
        return "http://" + A._data.host + ("80" != A._data.port ? ":" + A._data.port : "") + "/"
    }
    function Ro() {
        return "https://" + A._data.host + ("80" != Kd() ? ":" + Kd() : "") + "/"
    }
    function kn() {
        var b = A._data.shost
          , c = Kd();
        return null == b || null == c || A._data.nossl ? mn() : "https://" + b + ":" + c + "/"
    }
    function Kd() {
        return A._data.sport
    }
    function So() {
        return A._data.facebookShareAppId
    }
    function To() {
        var b = A._data.facebookTrackShareBaseUrl;
        return b ? b : kn()
    }
    function Uo() {
        return A._data.createStationHintPath
    }
    function Vo() {
        var b = "true" == A._data.tdlFullLyrics;
        setTimeout(function() {
            A._data.tdlFullLyrics = null
        }, 2500);
        return b
    }
    function Wo() {
        var b = "true" == A._data.tdlFullTraits;
        setTimeout(function() {
            A._data.tdlFullTraits = null
        }, 2500);
        return b
    }
    function Xo() {
        return !0 == A._data.paypalShowOrderConfirmScreen
    }
    function Yo() {
        var b = A._data.companionAd;
        -1 != document.location.search.indexOf("onlyFirstForced") && (A._data.companionAd = null );
        return b
    }
    function Zo() {
        return A._data.audioAd
    }
    function $o() {
        return A._data.videoAd
    }
    function ap() {
        return null == A._data.maxAdInitiatedRefreshDelaySeconds ? 60 : A._data.maxAdInitiatedRefreshDelaySeconds
    }
    function bp() {
        return A._data.useHttpsForceCodeUrls
    }
    function cp() {
        return A._data.adTestMode
    }
    function rn() {
        return !0 === A._data.lsiCookieDisabled || "true" === A._data.lsiCookieDisabled
    }
    function dp() {
        return No(A._data.timeToStartAudioAds, 420)
    }
    function ep() {
        return No(A._data.timeBetweenAudioAds, 900)
    }
    function fp() {
        try {
            return pe(A._data.canDisplayLyrics)
        } catch (b) {
            return !0
        }
    }
    function gp() {
        return me(A._data.countryCode) ? "US" : A._data.countryCode
    }
    function hp() {
        return "US" === gp()
    }
    function ip() {
        return me(A._data.postalCodeValidationRegex) ? "^d{5}$" : A._data.postalCodeValidationRegex
    }
    function jp() {
        return me(A._data.postalCodeValidationErrorMessage) ? "You must have a valid 5 digit U.S. zip code." : A._data.postalCodeValidationErrorMessage
    }
    function kp() {
        return A._data.rt
    }
    function Lo() {
        var b = A._data.am;
        return b && 2 == b.split(":").length ? b.split(":")[1] : ""
    }
    function Ko() {
        var b = A._data.am;
        return b && 2 == b.split(":").length ? b.split(":")[0] : ""
    }
    function mp(b) {
        return A._data[b]
    }
    window.TunerVars = A;
    var np = !1
      , op = !1;
    function pp(b) {
        z.b(lg, b)
    }
    window.Pandora_onExternalEvent = pp;
    window.Pandora.sendTunerCommand = function(b, c, d) {
        pp([b, c, d])
    }
    ;
    function qp() {
        if (np && op) {
            var b = Pandora.getSecretary();
            if (null != b && Pandora.eiWorking)
                b.onTunerReady();
            else
                k.error("ExternalEventService: could not communicate with secretary (onTunerReady)")
        }
    }
    function rp(b, c, d) {
        var e = Pandora.getSecretary();
        null != e && Pandora.eiWorking ? e.sendToLocalConnection(b, c, d) : k.error("ExternalEventService: could not communicate with secretary (" + b + ":" + c + ")")
    }
    Pandora.waitForSecretary(function(b) {
        b ? (np = !0,
        qp()) : k.warn("ExternalEventService: can't communicate with secretary")
    });
    z.c(Ee, function() {
        op = !0;
        qp()
    });
    $(window).bind("unload", function() {
        var b = Pandora.getSecretary();
        null != b && null != b.shutdown && b.shutdown()
    });
    function sp(b, c, d) {
        this.position = b;
        this.size = c;
        this.Um = d
    }
    var tp = /^pod:(\d+)\/(\d+)\/(\d+)$/;
    function Ao(b) {
        var c = null ;
        if (b = tp.exec(b))
            if (c = new sp(Number(b[1]),Number(b[2]),Number(b[3])),
            c.position > c.size || 1 > c.position)
                c = null ;
        return c
    }
    sp.prototype.Ef = function() {
        return "pod:" + this.position + "/" + this.size + "/" + this.Um
    }
    ;
    sp.prototype.toString = function() {
        return "[AdPodLocation: " + this.Ef() + "]"
    }
    ;
    var up = {}
      , up = {
        SLOT_SIZE_AUTOPLAY_VIDEO: "442x188",
        SLOT_SIZE_USER_INITIATED_VIDEO: "2000x7",
        AUDIO_AD_SIZE: "2000x12",
        AUDIO_IN_STATION_AD_SIZE: "2000x14",
        PRELOAD_SECONDS: 10,
        PRELOAD_PERCENTAGE: 97
    };
    var B = {};
    (function(b) {
        function c(b) {
            k.debug("AdUrlBuilder : " + b)
        }
        function d(b, c) {
            return null != b && b != B.O && (b == B.ge || b == q || b == t || b == y || b == l || b == p || b == E || b == I || b == B.Wn || b == N || b == pa) && null != c && c !== B.O
        }
        function e(b, c, d, e) {
            var h = B.O;
            if (null != b)
                for (var l in b) {
                    var p = b[l];
                    if (B.jr(l, p))
                        if (c && (l = encodeURIComponent(l)),
                        p = p.toString(),
                        e && -1 < p.indexOf(B.ee))
                            for (var q = p.split(B.ee), t = 0; t < q.length; t++)
                                null != q[t] && q[t] !== B.O && (p = q[t],
                                h += d + l + U + p);
                        else
                            h += d + l + U + p
                }
            return h
        }
        function h(b, c, d) {
            var e = {};
            b = b.split(B.Ti());
            for (var h = 0; h < b.length; h++) {
                var l = b[h].split(U);
                if (1 < l.length) {
                    var p = l[0]
                      , l = l[1];
                    c && (p = decodeURIComponent(p),
                    l = decodeURIComponent(l));
                    if (d(p, l)) {
                        var q = e[p];
                        q ? (_.isArray(q) || (e[p] = [q]),
                        e[p].push(l)) : e[p] = l
                    }
                }
            }
            return e
        }
        var l = "mdid"
          , p = "ppid"
          , q = "sz"
          , t = "ord"
          , y = "c"
          , E = "ref"
          , I = "dc_ref"
          , N = "ss_req"
          , U = "="
          , pa = "iu";
        B.O = "";
        B.zu = "pand";
        B.ge = "tile";
        B.Wn = "ip";
        B.hC = "msa";
        B.mg = "d_imp";
        B.ee = ",";
        B.$n = ";";
        B.vk = "http://";
        B.IB = "https://";
        B.init = function(b) {
            B.Ba = !1;
            B.Rw = b
        }
        ;
        B.ir = function() {
            return B.Ba
        }
        ;
        B.XQ = function(b) {
            b && (B.Ba = b.ir())
        }
        ;
        B.Ti = function() {
            return B.Ba ? "&" : B.$n
        }
        ;
        B.Ri = function() {
            return B.Ba ? "adx" : "pfadx"
        }
        ;
        B.Ex = function() {
            return B.Ba ? "adx" : "adj"
        }
        ;
        B.oH = function() {
            return B.Ba ? "adx" : "adi"
        }
        ;
        B.$G = function(b) {
            var c = B.O
              , c = c = B.O;
            B.Ba ? (c = /^.+?iu=(\/\d+\/.+?\/.+?)&.*/,
            c = c.exec(b),
            c = c[1]) : (c = /^.+?click\.net\/.+?(\/.+?\/.+?);.*/,
            c = c.exec(b),
            c = "/" + B.Rw + c[1]);
            return c
        }
        ;
        B.jr = function(b, c) {
            return null != b && b != B.O && b != B.ge && b != q && b != t && b != y && b != l && b != p && b != E && b != I && b != B.Wn && b != N && b != pa && "t" != b && b != B.mg && null != c && c !== B.O
        }
        ;
        B.Ky = function(b, c) {
            var d = c;
            if (B.Ba) {
                var e = B.Ti();
                0 == b.indexOf(e) && (b = b.substring(1));
                for (d += e + "t" + U + encodeURIComponent(b); -1 < d.indexOf("%2C"); )
                    d = d.replace("%2C", B.ee)
            } else
                d += b;
            return d
        }
        ;
        B.zG = function(b) {
            var c = !1;
            B.Ba ? (c = /&t=(.*?)&/.exec(b),
            b = decodeURIComponent(c[1]),
            c = !0) : b = b.replace(/^.+?click\.net\/.+?(\/.+?\/.+?);/, B.O);
            return h(b, c, B.jr)
        }
        ;
        B.yG = function(b) {
            b = b.replace(B.Ba ? /^.+?click\.net\/.+?\/.+?\/\?/ : /^.+?click\.net\/.+?\/.+?\/.+?;/, B.O);
            return h(b, !1, d)
        }
        ;
        B.$E = function(b) {
            b = b.split(B.Ba ? "|" : B.ee);
            for (var c = [], d = 0; d < b.length; d++) {
                var e = b[d].split("x");
                c.push([parseInt(e[0], 10), parseInt(e[1], 10)])
            }
            return c
        }
        ;
        B.Dx = function(b, c) {
            var d = Ld() && window._migrateUserToHttps ? B.IB : B.vk
              , d = B.Ba ? d + String.fromCharCode(112) + "ubads.g.doublec" + String.fromCharCode(108) + "ick.net/gampad/" : d + String.fromCharCode(97) + "d.doublec" + String.fromCharCode(108) + "ick.net/"
              , d = d + b;
            return d = B.Ba ? d + ("?" + pa + U + "/" + B.Rw + "/" + c) : d + ("/" + c)
        }
        ;
        B.Ac = function(b, c) {
            var d = B.Ti(), e = b.split(d), h;
            for (h in c)
                for (var l = 0; l < e.length; l++)
                    0 == e[l].indexOf(h + U) && (e[l] = h + U + c[h]);
            return e.join(d)
        }
        ;
        B.Nx = function() {
            return B.Ba ? p : l
        }
        ;
        B.nw = function(b, d, h, l, p, N, pa, Bb, tb) {
            var Td = C.Uv
              , bb = B.Ti();
            null == l && (l = {});
            l.sz = N;
            tb = B.yx(l, B.Ba, bb, Td, tb, !B.Ba);
            null != p && (tb += e(p, B.Ba, bb, !B.Ba));
            p = C.wH();
            p = p + "." + C.IH();
            p += "/";
            p += C.PH();
            p += ".";
            p += d;
            p += h;
            b = B.Dx(b, p);
            /* #TAG */
            c("Base Ad URL : " + b);
            b = B.Ky(tb, b);
            c("Base Ad URL with Targeting Parameters : " + b);
            b += bb + (B.Ba ? E : I) + U + B.zu;
            d = B.Nx();
            null != l[d] && l[d] != B.O && (b += bb + d + U + l[d]);
            B.Ba && null != l[B.mg] && !0 === l[B.mg] && (b += bb + B.mg + U + "1");
            Bb && null != l[B.ge] && l[B.ge] != B.O && (b += bb + B.ge + U + l[B.ge]);
            l = b;
            Bb = bb + q + U;
            if (B.Ba)
                for (; -1 < N.indexOf(B.ee); )
                    N = N.replace(B.ee, "|");
            b = l + (Bb + N) + (bb + (B.Ba ? y : t) + U + pa);
            c("Final Ad URL : " + b);
            return b
        }
        ;
        B.yx = function(b, c, d, h, l, p) {
            var q = B.O;
            if (null != b) {
                if (h)
                    for (h = h.split(B.$n),
                    l = 0; l < h.length; l++) {
                        var t = h[l].split(U);
                        if (1 < t.length) {
                            q = t[0];
                            t = c ? encodeURIComponent(t[1]) : t[1];
                            if (q in b)
                                var y = b[q]
                                  , y = null != y && void 0 != y && y !== B.O ? y + B.ee + t : t;
                            else
                                y = t;
                            b[q] = y
                        }
                    }
                else
                    b.d1 = l;
                q = e(b, c, d, p)
            }
            return q
        }
        ;
        b.AdUrlBuilder = B;
        b.AdUrlBuilder_getBaseAdUrl = B.Dx;
        b.AdUrlBuilder_getAdUnit = B.$G;
        b.AdUrlBuilder_isTargetingKeyValue = B.jr;
        b.AdUrlBuilder_getUrlSeparator = B.Ti;
        b.AdUrlBuilder_isSimpleUrlEnabled = B.ir;
        b.AdUrlBuilder_getJsCreativeRequestType = B.Ex;
        b.AdUrlBuilder_getIFrameCreativeRequestType = B.oH;
        b.AdUrlBuilder_insertUrlTargetingParameters = B.Ky;
        b.AdUrlBuilder_extractUrlTargetingParameters = B.zG;
        b.AdUrlBuilder_extractUrlNonTargetingParameters = B.yG;
        b.AdUrlBuilder_buildSlotSizesArray = B.$E
    })(this);
    var C = {};
    (function(b) {
        function c(b, c, d, e, h, l) {
        	/* #TAG */
            k.debug("Chronos enabled - Ad response");
            k.debug("Chronos Response - " + JSON.stringify(l));
            l = l.adList;
            if (void 0 == l || null == l)
                k.debug("Chronos Web Ad is null or empty"),
                vp("Ad was blocked", c, "Chronos Web Ad is null or empty", d, C.vd.i),
                b(null );
            else if (0 === l.length)
                k.debug("Chronos says it's not time for an ad."),
                b(null );
            else {
                k.debug("Chronos says it's time to play " + l.length + " ads");
                var p = !1
                  , q = [];
                _.each(l, function(b) {
                    k.debug("Chronos - commence parsing of Ad response");
                    var h = b.success;
                    if (h && "false" !== h)
                        if (h = b.adType,
                        "AUDIO_AD" === h || "VIDEO_AD" === h) {
                            p = "AUDIO_AD" === h;
                            var h = {}
                              , l = b.content
                              , t = b.adType;
                            "AUDIO_AD" === t && (h = C.Cj(l, d, c));
                            k.debug("Chronos - commence parsing of ad: " + t);
                            void 0 != b[nb] && (h[nb] = b[nb]);
                            h.adRequestMetaData = b.adRequestMetaData;
                            k.debug("Chronos adRequestMetaData - " + b.adRequestMetaData);
                            k.debug("Chronos adToken - " + b[nb]);
                            h.isInStationAd = e;
                            b = {
                                parsedContent: h,
                                content: l,
                                response: b
                            };
                            k.debug("Chronos Got Ad - pushing onto array ", b);
                            q.push(b)
                        } else
                            k.info("Unknown adType...ignoring: " + h);
                    else
                        k.info("Success is false, don't process current ad")
                });
                0 === q.length ? b(null ) : "VIDEO" === h && p ? (k.info("Audio Ad was received but the callback does not know how to handle it. Handing it off to AudioAdManager directly for inclusion into queue."),
                z.b(Rk, {
                    ads: q,
                    callback: _.bind(b, null , q)
                })) : b(q)
            }
        }
        function d(b, c, d, h, l, p, q, t, y, E) {
            if (b = e(b, c, d, l, p, q, t, y, E))
                c = null != Zo() || "true" == cp() || "true" == A._data.audioAdTestMode,
                d = null != $o() || "true" == cp() || "true" == A._data.videoAdTestMode,
                _.extend(b, {
                    chronosOptions: h,
                    testMode: c && d ? "all" : c ? "audio" : d ? "video" : ""
                }),
                z.b(Mk, b)
        }
        function e(b, c, d, e, h, l, p, q, t) {
            h = {
                subzone: c,
                options: d,
                slotSize: e,
                adToken: h,
                stationId: l,
                successCallback: p,
                errorCallback: q
            };
            if (t) {
                b = t.split(Bb, 2);
                if (2 != b.length)
                    return q({
                        message: "audioAd tunerVar form is: ?audioAd=AdId:CreativeId"
                    }),
                    null ;
                h[bb] = "/util/dartCreative.jsp?ad=" + b[0] + "&c=" + b[1];
                h.secondsUntilAd = ta;
                bp() && (h[bb] = Ro() + h[bb])
            } else
                d[B.Nx()] = C.OA,
                h[bb] = E(b, c, d, e, !0);
            return h
        }
        function h(b) {
            b && (q(b.jf),
            C.p = b.p(),
            C.Uk = b.Ef(),
            C.Uv = b.uF,
            C.OA = b.OL,
            C.ue = b.ue(),
            C.Dn = b.Dn || B.O,
            C.mm = b.mm,
            C.ve = b.ve(),
            C.Mm = b.Mm,
            B.XQ(b))
        }
        function l() {
            C.Yk = 1
        }
        function p(b) {
            k.debug("AdService : " + b)
        }
        function q(b) {
            var c = new Date;
            c.setTime(c.getTime() + 2592E6);
            c = "v3ad=" + b + "; " + ("expires=" + c.toGMTString() + "; ");
            c += "path=/; ";
            null != document.domain && document.domain.match(/pandora.com$/) && (c += "domain=.pandora.com;");
            "https:" == window.location.protocol && (c += " secure;");
            document.cookie = c;
            b = b.split(Bb);
            C.Sw = String(b[0]) == T;
            C.ap = b[1];
            C.Px = b[2];
            C.zip = b[3];
            C.Ei = b[4];
            C.By = b[5];
            C.Ew = b[6];
            C.ez = String(b[7]) == T;
            C.lx = b[8];
            C.Ww = b[9];
            14 <= b.length && (C.az = b[10],
            C.state = b[11],
            C.county = b[12],
            C.ex = b[13]);
            17 <= b.length && (C.Nv = b[14],
            C.Ay = b[15],
            C.ty = b[16]);
            18 <= b.length && (C.$w = b[17]);
            19 <= b.length && (C.Dy = b[18])
        }
        function t(b, c) {
            if (b.D()) {
                var d = {};
                if (c)
                    for (var e = 0; e < c.length; e++) {
                        var h = c[e];
                        d[h.e()] = h
                    }
                e = b.qe() || [];
                for (h = 0; h < e.length; h++) {
                    var l = d[e[h]];
                    if (l) {
                        if (l.Ll())
                            break;
                        if (N(l) || t(l, c))
                            return !0
                    }
                }
            }
            return !1
        }
        function y(b) {
            if (null != b)
                for (var c = 0; c < b.length; c++) {
                    var d = b[c].Df();
                    if ("toddler" == d)
                        return 1;
                    if ("kids" == d)
                        return 2;
                    if ("tween" == d)
                        return 3
                }
            return -1
        }
        function E(b, c, d, e, h) {
            if (C.cp && "comedy" == C.$t)
                return null ;
            var l = C.Jl()
              , p = C.$t;
            C.ue && h && (p = tb + p,
            l = Td);
            return B.nw(b, c, p, d, null , e, l, !0, I().toString())
        }
        function I() {
            var b = C.ap
              , c = 0;
            if ("number" === typeof b)
                c = b;
            else
                try {
                    c = parseInt(b, 10)
                } catch (d) {
                    c = 0
                }
            return 13 <= c && 18 > c ? 1 : 18 <= c && 21 > c ? 2 : 21 <= c && 25 > c ? 3 : 25 <= c && 30 > c ? 4 : 30 <= c && 35 > c ? 5 : 35 <= c && 40 > c ? 6 : 40 <= c && 45 > c ? 7 : 45 <= c && 50 > c ? 8 : 50 <= c && 55 > c ? 9 : 55 <= c && 60 > c ? 10 : 60 <= c && 65 > c ? 11 : 65 <= c && 80 > c ? 12 : 0
        }
        function N(b) {
            if (b = b.Gf())
                for (var c = 0; c < b.length; c++)
                    if ("comedy" == b[c].toLowerCase())
                        return !0;
            return !1
        }
        function U(b) {
            var c = {};
            b.each(function() {
                var b = $(this).find("> name")[0];
                if (b) {
                    var b = $(b).text()
                      , d = $(this).find("value string");
                    1 == d.length ? c[b] = $(d[0]).text() : 1 < d.length && (c[b] = d.map(function() {
                        return $.trim($(this).text())
                    }))
                }
            });
            return c
        }
        function pa(b, c, d) {
            var e = b
              , h = e.indexOf("?>");
            -1 < h && (e = e.substr(h + 3));
            e = e.replace(/<\!\[CDATA\[|\]\]>/g, B.O);
            (e = U($("member", e))) && 0 != _.size(e) ? (fb(b, e),
            gb("_selectorParse", e)) : (p("selector XML parse error"),
            e = Ia(b, c, d));
            return e
        }
        function Ia(b, c, d) {
            var e = b
              , h = e.indexOf("?>");
            -1 < h && (e = e.substr(h + 3));
            for (var h = {}, l = $.trim(e.replace(/<\!\[CDATA\[|\]\]>/g, B.O)), e = "type audio creative_token gain company_name image dimmed tracker companion impression clickthrough minutesToNext gain movie uif aspectRatio logoimage richmedia_companion followon_companion banner_image banner_html delayedInStationAd tile_tracker_urls".split(" "), q = ["clickthrough", "tracking", "tracker"], l = $.trim($(l).text()).split(/\s+/), t = 0, y = l.length; t < y; t++) {
                var E = l[t]
                  , I = l[t + 1];
                if (_.contains(e, I) || ua(q, I))
                    h[E] = B.O;
                else if ("tile_tracker_urls" == E) {
                    var N = $($.trim(I).split(B.vk)).filter(function(b) {
                        return !!b
                    });
                    if (1 < N.length)
                        h[E] = $.map(N, function(b) {
                            return B.vk + b
                        }),
                        t++;
                    else {
                        h[E] = [I];
                        for (t += 2; t < y && 0 == l[t].indexOf(B.vk); )
                            h[E].push(l[t++]);
                        t -= 1
                    }
                } else
                    h[E] = I,
                    t++
            }
            h && 0 != _.size(h) ? (fb(b, h),
            gb("_bruteForceParse", h)) : (p("brute force XML parse error"),
            vp(b, d, "AdService : XML parse failed", c, C.vd.i));
            return h
        }
        function fb(b, c) {
            var d = /\x3c!-- *[0-9]+ *: *([0-9]+) *--\x3e/.exec(b);
            d && 2 == d.length && (c.creativeId = d[1])
        }
        function gb(b, c) {
            try {
                s("web_audio_ad_parse", {
                    ua: navigator.userAgent,
                    site_version: window._pandoraVersion,
                    browser: se(),
                    method: b,
                    creative_id: c && c.creativeId ? c.creativeId : null ,
                    ad_type: c && c.type ? c.type : null
                }),
                wp(null )
            } catch (d) {
                trackJs.track(d)
            }
        }
        function ua(b, c) {
            for (var d = !1, e = 0; e < b.length; e++) {
                if (d)
                    return;
                d = c && 0 == c.indexOf(b[e])
            }
            return d
        }
        var ta = "0"
          , T = "1"
          , nb = "adToken"
          , Bb = ":"
          , tb = "__POD__"
          , Td = "__CACHEBUST__"
          , bb = "adUrl";
        C.Uh = "REQUESTFAILED";
        C.init = function(b, c) {
            C.Sw = !0;
            C.Qk = b;
            C.vd = c;
            C.ap = ta;
            C.Px = ta;
            C.zip = B.O;
            C.Ei = B.O;
            C.By = ta;
            C.Ew = ta;
            C.exp = ta;
            C.lx = ta;
            C.zx = null ;
            C.ez = !1;
            C.cp = !1;
            C.$t = B.O;
            C.Ww = ta;
            C.LN = A._data.organization || B.zu;
            C.lt = A._data.pub || "default";
            C.wR = A._data.zone || "prod";
            C.p = !1;
            C.az = ta;
            C.state = "CA";
            C.county = ta;
            C.ex = ta;
            C.Nv = ta;
            C.Ay = ta;
            C.ty = ta;
            C.$w = ta;
            C.Dy = ta;
            C.OA = B.O;
            C.Dn = B.O;
            C.ue = !1;
            C.mm = !1;
            C.ve = !1;
            C.Mm = "";
            C.Yk = 1;
            B.init(A._data.dfpNetworkCode || "4204");
            var d = $.cookie("v3ad");
            d && q(d);
            null != document.cookie && document.cookie.match(/v2pub=(\w+)/) && (C.lt = RegExp.$1);
            z.c(He, h);
            z.c(Ie, h);
            z.c(He, l)
        }
        ;
        C.VK = function() {
            C.Yk++
        }
        ;
        C.$O = function() {
            C.exp = "1"
        }
        ;
        C.Gf = function() {
            return C.zx
        }
        ;
        C.G3 = function() {
            return C.p
        }
        ;
        C.H3 = function() {
            return C.ve
        }
        ;
        C.wH = function() {
            return C.LN
        }
        ;
        C.IH = function() {
            return C.lt
        }
        ;
        C.PH = function() {
            return C.wR
        }
        ;
        C.Jl = function() {
            return (new Date).getTime() + B.O + Math.floor(1E6 * Math.random())
        }
        ;
        C.Oe = function(c) {
            if (!C.Sw)
                return null ;
            null == c && (c = {});
            var d;
            C.Uk ? d = C.Uk : (d = C.Jl(),
            14 < d.length && (d = d.substring(0, 14)));
            c.l = d;
            c.ag = C.ap;
            c.gnd = C.Px;
            c.zip = C.zip;
            c.hours = C.By;
            c[B.ge] = c[B.ge] || 1;
            c.comped = C.Ew;
            c.exp = C.exp;
            c.fb = C.lx;
            c.dma = C.Ww;
            c.clean = C.ez || C.cp ? T : ta;
            c[B.hC] = C.az;
            c.st = C.state;
            c.co = C.county;
            c.et = C.ex;
            c.pin = !_.isUndefined(b.external) && _.isFunction(external.msIsSiteMode) && external.msIsSiteMode() ? T : ta;
            c.aa = C.Nv;
            c.hisp = C.Ay;
            c.hhi = C.ty;
            c.dse = C.$w;
            c.iat = C.Dy;
            c.abx = C.Mm;
            c.vxc = C.Dn;
            c.prg = C.mm ? T : ta;
            c.async = C.ve ? T : ta;
            C.Ei = C.Ei.replace(/^\W*/, B.O).replace(/\W*$/, B.O);
            if (0 < C.Ei.length) {
                d = C.Ei.split(B.ee);
                for (var e = 0; e < d.length; e++) {
                    var h = d[e];
                    h == B.Wn && (h = "ios");
                    c[h] = "1"
                }
            }
            return c
        }
        ;
        C.fg = function(c, d, e) {
            null == c && (c = {});
            c.fam = y(e);
            if (null != d) {
                e = N(d) ? !0 : t(d, e);
                c.station = d.La();
                d.La() && (c.stationId = d.e());
                var h = d.wa();
                c.artist = null == h ? B.O : h.musicId;
                if (C.p)
                    c.gcat = "none";
                else if (!c.gcat) {
                    var l = d.Ql();
                    c.gcat = l ? l : "none"
                }
                h = d.Df();
                C.zx = h;
                c.genre = h ? h : l;
                C.cp = d.Ll();
                C.$t = e ? "comedy" : B.O;
                c = zn(d) ? zn(d).key : B.O;
                b.gStationSeed = c;
                b.gStationArtistId = zn(d) && "artist" == zn(d).type ? c : null ;
                c = B.O;
                zn(d) && (zn(d).artistName ? c = zn(d).artistName : zn(d).stationName && (c = zn(d).stationName));
                b.gStationArtistName = c;
                b.gStationSongName = zn(d) && zn(d).songName ? zn(d).songName : B.O;
                c = B.O;
                zn(d) && (zn(d).artistDetailUrl ? c = zn(d).artistDetailUrl : zn(d).songDetailUrl && (c = zn(d).songDetailUrl));
                b.gStationSeedUrl = c;
                b.gGenreSponsorship = d.Ql()
            }
        }
        ;
        C.za = function(b) {
            if (!b)
                return !1;
            var c = b.La()
              , d = !!b.Ra()
              , e = !!b.qc();
            return !b.Z() && le(c) || d || e
        }
        ;
        C.qH = function(b) {
            var c = D.Mx()
              , d = {};
            C.fg(d, b, c);
            d = C.Oe(d);
            return B.yx(d, !1, B.$n, C.Uv, I().toString(), !1)
        }
        ;
        C.bA = function(b, c, d) {
            C.ov = E(B.Ex(), b, c, d, !1)
        }
        ;
        C.Wg = function() {
            return C.ov
        }
        ;
        C.hA = function(b) {
            C.jE = b
        }
        ;
        C.OH = function() {
            return C.jE
        }
        ;
        C.AQ = function(b) {
            return E("adx", "radio", b, "2000x2,300x250,300x600", !1)
        }
        ;
        C.Ns = function(b) {
            C.fD = b
        }
        ;
        C.Bx = function() {
            var b = C.fD;
            C.Ns(null );
            return b
        }
        ;
        C.ZO = function(b) {
            C.nv = b
        }
        ;
        C.aH = function() {
            var b = C.nv;
            C.nv = null ;
            return b
        }
        ;
        C.EO = function(b, c, d, h, l, q) {
            (b = e(b, F.ci, c, F.$e, d, h, l, function(b) {
                p("AudioAd fetch failed: " + b.message);
                q(C.Uh)
            }, F.sv)) && z.b(Lk, b)
        }
        ;
        C.Pm = function(b, c, d, e, h, l) {
            z.b(Nk, {
                creativeId: b,
                secondsPlayed: c,
                adLength: d,
                isHouseAd: e,
                successCallback: h,
                errorCallback: l
            })
        }
        ;
        C.Vf = function(b, c, d, e, h, l, q) {
            var t = E(b, c, d, e, h);
            null != t && (p("Fetch Ad Url (requestAd) : " + t),
            xp(t, function(b) {
                l(b, t)
            }, function(b) {
                vp(b.name + " : " + e, e, "proxy get failure", c, C.vd.i);
                q(b)
            }))
        }
        ;
        C.DO = function(b, c, d, e, h, l) {
            var q = B.nw(B.Ri(), b, "", c, d, e, C.Jl(), !1, I().toString());
            null != q && (p("Fetch Ad Url (requestAdForZone) : " + q),
            xp(q, function(b) {
                h(b, q)
            }, function(c) {
                vp(q, e, c.name, b, C.vd.i);
                l(c)
            }))
        }
        ;
        C.qx = function(b, c, d, e) {
            b = "/sponsorship/?feature=p1TrialSponsor&sponsor=" + b;
            c && (b += "&st=true");
            xp(b, function(b) {
                b = C.Cj(b, "p1trial", "sponsorship");
                d(b)
            }, e)
        }
        ;
        C.wb = function(b, c, d) {
            var e = C.Qk.V()
              , h = -1;
            e && (h = e.n.e());
            z.b(Ok, {
                adData: b,
                stationId: h,
                onImpressionSuccess: c,
                onImpressionFailure: d
            })
        }
        ;
        C.Cj = function(b, c, d) {
            var e = {};
            b && (b = $.trim(b));
            if (null == b || 0 == b.length)
                return p("Ad content is null or empty - Ad blocked?"),
                vp($.trim(b), d, "Ad content is null or empty - Ad blocked?", c, C.vd.i),
                e;
            e = null ;
            try {
                e = $.parseXML(b)
            } catch (h) {
                return pa(b, c, d)
            }
            if (0 < $(e).find("parsererror").length)
                return k.debug("AdService : ", "Failed to parse", b),
                pa(b, c, d);
            e = U($(e).find("member"));
            fb(b, e);
            gb("$.parseXML", e);
            return e
        }
        ;
        C.cP = function() {
            var b = B.Ac(C.Wg(), {
                tile: 2,
                sz: "2000x24"
            });
            C.ov = b
        }
        ;
        C.Xz = function(b) {
            var e = b.currentStationData
              , h = b.options
              , l = b[nb]
              , p = b.callback
              , q = b.forcedAudioAd
              , t = b.lastDisplayAdTime
              , y = b.requestType
              , E = b.subZone
              , I = b.currentSize
              , N = b.isInStationAd
              , U = b.currentStationTrack
              , T = b.currentStationTrackType
              , pa = b.isUserInitiated;
            b = b.handlerType;
            var ua = Ed()
              , ta = 0
              , Ia = 0;
            U && ((e = Sm(U.o(), e.e())) && (ta = e),
            U.Vc() && (Ia = U.Vc()));
            e = Ia - ta;
            0 > e && (e = up.PRELOAD_SECONDS);
            t = {
                secondsUntilAd: pa ? 0 : e,
                secondsPlayed: null == ta ? 0 : ta,
                currentStationId: U ? U.r().e() : B.O,
                trackToken: U && U.Za() ? U.Za() : B.O,
                trackType: T ? T : B.O,
                userInitTrackEnd: pa,
                secondsSinceDisplayAd: ua - t
            };
            k.debug("chronos elapsed time - " + ta);
            k.debug("chronos total track length - " + Ia);
            k.debug("chronos secondsUntilAd - " + e);
            k.debug("chronos - trackType - " + T);
            k.debug("chronos - trackToken - " + t.trackToken);
            (U = C.Qk.V()) ? (T = B.O,
            (pa = C.Qk.t) && (T = pa.r().n.e()),
            U = U.n,
            T = U.D() ? T : U.e(),
            N = _.bind(c, null , p, I, E, N, b),
            d(y, E, h, t, I, l, T, N, function(b) {
                k.debug("GetAdList fetch failed: " + b.message);
                p(C.Uh)
            }, q)) : (k.error("Missing next station data! Skipping call to Chronos service."),
            p(C.Uh))
        }
        ;
        C.Ca = function() {
            var b = C.Qk.V()
              , c = C.vd.i && C.vd.i.Qq && !0 != b.Db() && !0 != b.Ra() && !0 != b.Tb();
            k.debug("Can use chronos - " + c + " \n isChronosEnabled: " + (C.vd.i && C.vd.i.Qq) + " \n isPromotedStation: " + b.Db() + " \n isOnDemandStation: " + b.Ra() + " \n isAdvertiserStation: " + b.qc() + " \n isRecommendedStation: " + b.Tb());
            return c
        }
        ;
        var Cb = {};
        Cb.getGenre = C.Gf;
        b.Patron = Cb;
        b.AdService = C;
        b.AdService_getDisplayAdUrl = C.Wg;
        b.AdService_getVxDisplayAdUrl = C.OH;
        b.AdService_getAndClearDisplayAdContent = C.Bx;
        b.AdService_getAndClearDisplayAdCompanionUrls = C.aH;
        b.AdService_generateCorrelationId = C.Jl
    })(this);
    function vp(b, c, d, e, h) {
        if (null != b)
            try {
                var l = {};
                512 < b.length && (b = b.replace(/\s/g, ""),
                b = b.substr(0, 512));
                l.adUrl = b + " : " + se();
                l.adType = c;
                l.reason = d;
                l.client = e;
                yp(l, h);
                zp(l)
            } catch (p) {
                k.warn("Exception in BrokenAdManager", p),
                trackJs.track(p)
            }
    }
    function Ap(b, c, d, e, h, l, p, q) {
        if (null != b)
            try {
                var t = {}
                  , y = b
                  , E = b.indexOf(";u=");
                0 < E && (y = b.substr(0, E));
                512 < y.length && (y = y.replace(/\s/g, ""),
                y = y.substr(0, 512));
                t.adUrl = y + " : " + se();
                t.adType = c;
                t.reason = d;
                t.client = "radio";
                t.requestUrl = e;
                t.creativeId = h;
                t.lineId = l;
                t.browserInfo = p;
                t.hiveRecord = null != e ? "1" : "0";
                yp(t, q);
                zp(t);
                "1" == t.hiveRecord && s("web_broken_ad_error", t, q)
            } catch (I) {
                k.warn("Exception in BrokenAdManager recordWebBrokenAd", I),
                trackJs.track(I)
            }
    }
    function yp(b, c) {
        c && b && (b.lid = c.s,
        b.asyncGPT = c.ve() ? "1" : "0")
    }
    function zp(b) {
    	/* #TAG */
        k.debug("brokenAdManager :/radio/services/brokenAd.jsp", b);
        $.ajax({
            cache: !1,
            type: "POST",
            data: b,
            error: Bp,
            success: Cp,
            timeout: 1E4,
            url: "/radio/services/brokenAd.jsp"
        })
    }
    function Bp(b, c) {
        k.warn("BrokenAdManager.error: " + c)
    }
    function Cp(b, c) {
        "success" != c && k.warn("BrokenAdManager: unexpected status: " + c)
    }
    ;function Dp(b, c, d) {
        d = new flensed.flXHR({
            instancePooling: !0,
            noCacheHeader: !1,
            xmlResponseText: !1,
            onerror: d,
            onreadystatechange: function(b) {
                if (4 == b.readyState)
                    try {
                        c(b.responseText)
                    } catch (d) {
                        trackJs.track(d),
                        k.debug("FlashProxy : Error in handler", d)
                    }
            }
        });
        d.setRequestHeader = Ep;
        d.open("GET", b);
        d.send()
    }
    function Ep(b, c) {
        k.debug("FlashProxy defeating header " + b + " with value " + c)
    }
    ;function xp(b, c, d) {
        Dp(b, c, d)
    }
    function Fp(b, c, d) {
        try {
            k.debug("CrossDomainProxy :  fallback image pingUrl called : " + b);
            var e = new Image(1,1);
            e.onload = function() {
                e.onerror = e.onload = null ;
                c && c()
            }
            ;
            e.onerror = function() {
                e.onerror = e.onload = null ;
                d && d(null )
            }
            ;
            e.src = b
        } catch (h) {
            trackJs.track(h),
            vp(b, "impression", "fallback image ping failed", "ads", v.i)
        }
    }
    ;var Gp = {}
      , Hp = !1
      , Ip = 0
      , Jp = !1
      , u = 100
      , we = "1880";
    setInterval(function() {
        Ip = 0
    }, 1E3);
    setInterval(function() {
        Jp = !1
    }, 6E4);
    var Kp = {};
    $(window).bind("beforeunload", function() {
        wp(null )
    });
    function re(b, c) {
        Lp();
        s("script_error", b, c);
        null !== b.msg && "" !== b.msg && trackJs.track(Error(b.msg))
    }
    var Mp = null ;
    function on() {
        pn("page_failed");
        $.cookie("errorCookieInfo", "start")
    }
    function nn() {
        "start" == $.cookie("errorCookieInfo") && (ne(5) ? (z.c(Ug, function() {
            $.cookie("errorCookieInfo", null )
        }),
        Mp = "" + (new Date).getTime() + "." + (1E3 * Math.random() | 0),
        $.cookie("errorCookieInfo", "log")) : $.cookie("errorCookieInfo", null ));
        pn("start")
    }
    function pn(b) {
        "log" == $.cookie("errorCookieInfo") && s("cant_load_site", {
            ua: se(),
            flash_ver: te(),
            checkpoint: b,
            site_version: window._pandoraVersion,
            ticket: Mp
        })
    }
    function s(b, c, d) {
        var e = Np() + "/v2";
        Kp[e] || (Kp[e] = setTimeout(function() {
            wp(e)
        }, A._data.statsInterval));
        try {
            if (null != b && "" != b) {
                var h = {
                    type: b
                };
                null != c && $.each(c, function(b, c) {
                    null !== b && "" !== b && null !== c && "" !== c && (h[b] = c)
                });
                d && d.s && (h.listener_id = d.s);
                Op(e, h)
            }
        } catch (l) {
            trackJs.track(l),
            k.error("StatsCollectorUtil.logEvent error: " + l)
        }
    }
    function Pp(b, c) {
        try {
            c && c.s && 0 == c.s % 10 && s("promo_box", b, c)
        } catch (d) {
            trackJs.track(d),
            k.error("StatsCollectorUtil.logEvent error listenerId % 10 failed: " + d)
        }
    }
    function Qp(b) {
        try {
            null != b && 0 != b.length && $.each(b, function(b, c) {
                s(c, null , null )
            })
        } catch (c) {
            trackJs.track(c),
            k.error("StatsCollectorUtil.logMultipleEvents error: " + c)
        }
    }
    function Op(b, c) {
        try {
            if (Hp && (!Jp || "script_error" != c.type)) {
                var d;
                a: {
                    for (var e = ud(), h = Rp(b), l = h.length - 1; 0 <= l; l--) {
                        var p = h[l].url
                          , q = h[l].data
                          , t = h[l] && h[l].time && 300 > e - h[l].time ? !0 : !1;
                        if (!t && !h[l].pending)
                            h.splice(l, 1);
                        else if (null != p && p == b && null != q && _.isEqual(q, c) && t) {
                            d = !0;
                            break a
                        }
                    }
                    var y = A._data.statsHost;
                    d = c && c.url && y && -1 < c.url.indexOf(y) ? !0 : !1
                }
                if (d)
                    k.debug("duplicate request, skipping: " + b, c);
                else {
                    var E = Rp(b);
                    E.push({
                        time: ud(),
                        data: c,
                        pending: !0
                    });
                    E.length >= A._data.statsBatchSize && (k.debug("Triggered with " + E.length + " events."),
                    wp(b))
                }
            }
        } catch (I) {
            trackJs.track(I),
            k.warn("Error sending stats collector log: " + I)
        }
    }
    function Np() {
        var b = A._data.statsHost
          , c = "https:" == location.protocol ? A._data.statsSslPort : A._data.statsPort;
        Hp = b ? !0 : !1;
        return location.protocol + "//" + b + (null != c ? ":" + c : "")
    }
    function Sp(b, c) {
        var d = "type" + b.count;
        b.count = ++b.count;
        _.each(c, function(c, h) {
            var l = d;
            "type" !== h && (l += "." + h);
            b.data[l] = c
        })
    }
    function wp(b) {
        _.each(Gp, function(c, d) {
            if (!b || d === b) {
                Kp[d] && (clearTimeout(Kp[d]),
                Kp[d] = null );
                var e = ud();
                if (0 >= c.length)
                    k.debug("No events in '" + d + "' queue.");
                else {
                    k.debug("Flushing '" + d + "' queue " + (e - c[0].time) + "ms after 1st event added to queue");
                    for (var h, l; ; ) {
                        l = [];
                        h = {
                            data: {},
                            count: 0
                        };
                        for (var p = 0; p < c.length && h.count < A._data.statsBatchSize; p++)
                            c[p] && c[p].time && 300 > e - c[p].time || l.unshift(p),
                            c[p].pending && (c[p].pending = !1,
                            Sp(h, c[p].data));
                        for (p = 0; p < l.length; p++)
                            c[l[p]].pending || c.splice(p, 1);
                        if (0 === h.count)
                            break;
                        k.debug("Sending " + h.count + " events to " + d, h);
                        $.ajax({
                            cache: !1,
                            type: "GET",
                            data: h.data,
                            dataType: "jsonp",
                            crossDomain: !0,
                            error: Tp,
                            success: Up,
                            url: d
                        })
                    }
                }
            }
        })
    }
    function Rp(b) {
        Gp[b] || (Gp[b] = []);
        return Gp[b]
    }
    function Tp(b, c) {
        k.warn("StatsCollectorUtil.jsonpError: " + c);
        Lp()
    }
    function Lp() {
        !Jp && 50 < ++Ip && (k.info("StatsCollector failing too much... stopping logging for a minute."),
        Jp = !0)
    }
    function Up(b, c) {
        k.debug("StatsCollectorUtil.jsonpSuccess: success");
        "success" != c && k.warn("StatsCollectorUtil.jsonpSuccess: unexpected status: " + c)
    }
    ;var ln;
    function Vp(b) {
        this.Mk = b.offerName;
        this.Yh = b.lineId;
        this.Hc = b.creativeId;
        this.So = b.truexInstanceId
    }
    Vp.prototype.Xg = function() {
        return null
    }
    ;
    Vp.prototype.Xm = function() {
        return !1
    }
    ;
    Vp.prototype.nA = function() {
        return !1
    }
    ;
    function Wp(b) {
        Vp.call(this, b);
        this.Mk = b.offerName;
        this.Yh = b.lineId;
        this.Hc = b.creativeId;
        this.VD = parseInt(b.secondsRemaining, 10);
        this.WD = parseInt(b.secondsTotalDuration, 10);
        this.hD = b.displayTextByBrand;
        this.gD = b.displayText;
        this.XC = b.brandName;
        this.JD = b.offerButtonLabel;
        this.KD = b.offerButtonUrl;
        this.pv = b.displayTextEndRewardLine1;
        this.qv = b.displayTextEndRewardLine2;
        this.HD = b.leadInBannerUrl;
        this.GD = b.leadInAudioUrl
    }
    vd(Wp, Vp);
    function Xp(b) {
        var c = "";
        b.pv && (c += b.pv);
        b.qv && (c && (c += " "),
        c += b.qv);
        return c
    }
    Wp.prototype.Xg = function() {
        return this.HD
    }
    ;
    Wp.prototype.Xm = function() {
        return !0
    }
    ;
    Wp.prototype.nA = function() {
        return !0
    }
    ;
    function Yp(b) {
        return Zp(["account/sign-in", "account/register", "account/help", "account/welcome", "password_reset"], b) || "/" == b ? b : !1
    }
    function $p(b) {
        var c = "account/info account/privacy account/notices account/upgrade account/audioQuality account/desktopApp /payment".split(" ");
        return "/one" === b || Zp(c, b) ? b : !1
    }
    function Zp(b, c) {
        return b.some(function(b) {
            return 0 <= c.indexOf(b)
        })
    }
    ;function aq(b, c, d, e, h) {
        this.url = b;
        this.method = c;
        this.up = e;
        this.rE = d;
        this.timeout = 12E4;
        this.Yz = !0;
        this.xi = this.gR = !1;
        this.KO = r(this, this.JO);
        this.OO = h
    }
    var bq = null
      , cq = 0
      , dq = 0
      , eq = null
      , fq = null ;
    aq.prototype.apply = function(b) {
        var c = this.url;
        if (!this.gR) {
            var d = bq + "P"
              , c = c + (0 <= c.indexOf("?") ? "&" : "?")
              , c = c + ("rid=" + d.substr(6));
            null != eq && 0 > c.indexOf("lid=") && (c += 0 <= c.indexOf("?") ? "&" : "?",
            c += "lid=" + eq);
            d = this.method.substr(this.method.indexOf(".") + 1);
            c += "&method=" + d;
            this.xi && 0 > c.indexOf("commerce=true") && (c += 0 <= c.indexOf("?") ? "&" : "?",
            c += "commerce=true");
            if (this.rE)
                for (d = 1; d < b.length; d++)
                    c = c + "&arg" + d + "=" + escape(b[d]);
            1024 < c.length && (c = c.substr(0, 1024))
        }
        if (this.Yz) {
            d = this.method;
            0 != d.indexOf("misc.") && (b = [cq + (Ed() - dq)].concat(b));
            var e = [];
            e.push('<?xml version="1.0"?><methodCall><methodName>');
            e.push(d);
            e.push("</methodName><params>");
            for (d = 0; d < b.length; d++)
                e.push("<param>"),
                gq(b[d], e),
                e.push("</param>");
            e.push("</params></methodCall>");
            b = e.join("");
            b = fq.encrypt(b)
        } else
            b = "";
        this.up.send(c, b, this.timeout, this.KO)
    }
    ;
    aq.prototype.JO = function(b) {
        var c = b;
        b instanceof xd && (c = hq(b.body));
        this.OO(c)
    }
    ;
    aq.prototype.setTimeout = function(b) {
        this.timeout = b
    }
    ;
    function gq(b, c) {
        c.push("<value>");
        if (td(b))
            if (b.constructor == Array) {
                c.push("<array><data>");
                for (var d = 0; d < b.length; d++)
                    gq(b[d], c);
                c.push("</data></array>")
            } else {
                c.push("<struct>");
                for (d in b)
                    null != b[d] && (c.push("<member>"),
                    c.push("<name>"),
                    c.push(d),
                    c.push("</name>"),
                    gq(b[d], c),
                    c.push("</member>"));
                c.push("</struct>")
            }
        else
            sd(b) ? (c.push("<int>"),
            c.push(b),
            c.push("</int>")) : "boolean" == typeof b ? (c.push("<boolean>"),
            c.push(b ? "1" : "0"),
            c.push("</boolean>")) : rd(b) ? (c.push("<string>"),
            rd(b) && c.push(b.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;").split("'").join("&apos;").split('"').join("&quot;")),
            c.push("</string>")) : k.error("unknown type: value: " + b + ", current output: " + c.join(""));
        c.push("</value>")
    }
    function hq(b) {
        if ("methodResponse" != b.nodeName)
            return iq("invalid top node: " + b.nodeName);
        var c = b.firstChild;
        if (null == c)
            return iq("no child in methodResponse");
        if ("fault" == c.nodeName) {
            b = jq(c.firstChild);
            if (null == b)
                return iq("invalid fault data");
            c = b.faultString.split("|");
            return 4 != c.length ? new Dd(b.faultString,b.faultCode) : new Dd(c[3],c[2])
        }
        if ("params" == c.nodeName) {
            b = [];
            for (var d = 0; d < c.childNodes.length; d++) {
                var e = c.childNodes[d];
                if (3 != e.nodeType) {
                    if ("param" != e.nodeName)
                        return iq("not a param node");
                    e = jq(e.firstChild);
                    if (null == e)
                        return iq("invalid item");
                    b.push(e)
                }
            }
            return new yd(b)
        }
        return iq("invalid response data: " + c.nodeName)
    }
    function iq(b) {
        k.error("XmlRpc parse error: " + b);
        return new Dd(b,0)
    }
    function jq(b) {
        if ("value" != b.nodeName)
            return k.error("not a value node");
        if (0 == b.childNodes.length)
            return "";
        var c = b.firstChild;
        if (3 == c.nodeType)
            return b.normalize && (b.normalize(),
            c = b.firstChild),
            c.nodeValue;
        if ("struct" == c.nodeName) {
            for (var d = {}, e = 0; e < c.childNodes.length; e++) {
                var h = c.childNodes[e];
                if (3 != h.nodeType) {
                    if ("member" != h.nodeName)
                        return k.error("not a member node");
                    for (var h = h.childNodes, l, p = 0; p < h.length; p++) {
                        var q = h[p];
                        if (3 != q.nodeType)
                            if ("name" == q.nodeName)
                                l = h[p].firstChild.nodeValue;
                            else if ("value" == q.nodeName) {
                                if (b = jq(h[p]),
                                null == b)
                                    return null
                            } else
                                return k.error("unknown node: " + h[p].nodeName)
                    }
                    d[l] = b
                }
            }
            return d
        }
        if ("array" == c.nodeName) {
            b = c.firstChild;
            if ("data" != b.nodeName)
                return k.error("not a data node");
            d = [];
            for (e = 0; e < b.childNodes.length; e++)
                if (3 != b.childNodes[e].nodeType) {
                    c = jq(b.childNodes[e]);
                    if (null == c)
                        return null ;
                    d.push(c)
                }
            return d
        }
        return "int" == c.nodeName || "i4" == c.nodeName ? Number(c.firstChild.nodeValue) : "boolean" == c.nodeName ? "1" == c.firstChild.nodeValue ? !0 : !1 : "string" == c.nodeName ? 0 == c.childNodes.length ? "" : c.firstChild.nodeValue : k.error("unknown node: " + c.nodeName)
    }
    ;var G = Pn.Em()
      , H = 911312399
      , J = "Ed"
      , kq = [11, 42, 27, 20, 25, 41, 40, 4, 10, 24, 22, 44, 58, 38, 29, 53, 26, 32, 36, 13, 46, 56, 18, 15, 45, 47, -1, 3, 21, 8, 23, 48, 6, 14, 30, 2, 54, 57, 50, 19, 51, 33, 7, 12, 39, 9, 28, 35, 31, 37, 59, 16, 0, 17, 34, 52, 1, 49, 5, 55, 43]
      , K = "LT"
      , lq = [30, 58, 14, 25, 20, 45, 27, 33, 0, 32, 43, 6, 41, 26, 40, 8, 17, 9, 50, 3, 38, 19, 46, 49, 12, 10, 54, 48, 59, 36, 52, 55, 18, 37, 15, 7, 47, -1, 44, 51, 39, 53, 16, 1, 5, 34, 28, 57, 29, 21, 56, 22, 2, 11, 42, 4, 35, 24, 23, 31, 13]
      , L = "CP"
      , mq = [30, 34, 47, 2, 32, 45, 0, 12, 46, 21, 39, -1, 6, 49, 4, 8, 36, 52, 15, 20, 9, 56, 50, 18, 23, 40, 33, 3, 29, 19, 51, 53, 11, 22, 1, 58, 5, 41, 57, 17, 44, 54, 35, 13, 7, 48, 55, 28, 27, 10, 25, 16, 31, 42, 38, 59, 14, 43, 37, 26, 24]
      , M = 236273669
      , nq = [40, 46, 56, 34, 27, 42, 4, 59, 12, 13, 35, 18, 7, 11, 54, 24, 32, 44, -1, 47, 39, 15, 9, 48, 57, 28, 52, 41, 19, 45, 22, 6, 1, 30, 38, 37, 5, 3, 21, 29, 10, 49, 8, 25, 51, 0, 20, 17, 16, 58, 26, 2, 36, 53, 43, 55, 14, 33, 23, 31, 50]
      , oq = [20, 11, 5, 3, 45, 47, 38, 13, 41, 26, 28, 23, 46, 43, 31, 44, 22, 53, 57, 56, 32, 34, 30, 4, 49, 37, 54, 24, 9, 1, 25, 29, 0, 27, -1, 58, 10, 14, 50, 15, 21, 19, 17, 59, 35, 2, 8, 6, 42, 39, 40, 52, 18, 33, 48, 12, 55, 36, 7, 16, 51];
    function pq() {
        this.Wf = !1
    }
    f = pq.prototype;
    f.send = function(b, c, d, e) {
        z.b(dg, b);
        this.Wf && k.error("request pending");
        this.Wf = !0;
        this.Wa = e;
        this.QF = b;
        this.LF = c;
        -1 != b.indexOf("/jsonp") ? $.ajax({
            cache: !1,
            contentType: "text/plain",
            type: "GET",
            data: {
                req: c
            },
            dataType: "jsonp",
            processData: !0,
            crossDomain: !0,
            error: r(this, this.Oy),
            success: r(this, this.xL),
            timeout: d,
            url: b
        }) : $.ajax({
            cache: !1,
            contentType: "text/xml",
            type: "POST",
            data: c,
            dataType: "xml",
            processData: !1,
            error: r(this, this.zm),
            success: r(this, this.oz),
            timeout: d,
            url: b
        })
    }
    ;
    f.Oy = function(b, c) {
        k.warn("jsonpError: ", c);
        this.Eg(new Bd(c))
    }
    ;
    f.xL = function(b, c) {
        if ("success" == c) {
            var d = $.parseXML(b.rpcResult);
            this.oz(d)
        } else
            k.warn("jsonp unexpected status: " + c),
            this.Oy(0, c)
    }
    ;
    f.Eg = function(b) {
        this.Wf = !1;
        this.Wa(b)
    }
    ;
    f.oz = function(b) {
        this.Eg(new xd(b.lastChild))
    }
    ;
    f.zm = function(b, c, d) {
        k.info("HTTP error", c, d);
        "timeout" == d ? this.Eg(new Cd("load failed",this.QF,this.LF)) : this.Eg(new Bd("load failed"))
    }
    ;
    function qq(b) {
        this.xd = null == b ? [] : b;
        this.xd.constructor != Array && k.error("call method must have an Array for its args parameter")
    }
    qq.prototype.jq = function() {
        return this.xd
    }
    ;
    function O(b) {
        this.xd = null == b ? [] : b;
        this.xd.constructor != Array && k.error("call method must have an Array for its args parameter")
    }
    O.prototype.jq = function() {
        for (var b = [], c = 0; c < this.xd.length; c++)
            b.push(this.xd[c]);
        v.i && Vn() ? b.unshift(Vn()) : qe("User not logged in while in AuthorizedRequestArguments. Args=" + this.xd.join(","));
        return b
    }
    ;
    function rq(b, c, d, e, h, l) {
        this.method = b;
        this.xd = c;
        this.AA = d;
        this.kx = e;
        this.context = h;
        this.sL = l;
        this.pw = 0;
        this.vi = !1
    }
    rq.prototype.getContext = function() {
        return this.context
    }
    ;
    rq.prototype.cancel = function() {
        this.vi = !0
    }
    ;
    var v = {
        Hu: "radio/xmlrpc/v35",
        Gu: "radio/jsonp/v35",
        VENDOR: "html5tuner",
        sd: "HTML5",
        wi: "",
        Fu: {
            misc: "message logTunerDiagnostics logRadioEventMessage sync getCookies setCookie".split(" "),
            listener: "isUsernameUnique getUsername getArtistBookmarks getSongBookmarks emailPassword addTrackingCode getListenerResult addTiredSong setExplicitContentFilter setExplicitPIN verifyExplicitPIN emailExplicitPINRescue getProfileInfo getExtendedProfileInfo setProfileInfoExtended getProfileInfoWithStations getCountNewFeedPosts publishSongShare publishArtistMessageShare publishStationShare getSVNAds checkSVNAdComplete exerciseTimeoutCredit clearVendorBilledTrialExpiredAlertCode clearVendorBilledSubscriberTimedOutAlertCode acknowledgeSubscriptionExpiration getShowCpa canListen setAwareOfProfile setPrivacySettings setFacebookShareUserTokens setTwitterShareUserTokens like unlike getLikeInfo getFollowInfo search banListener unbanListener deleteListener accountMessageDismissed deleteCreditCard getAvailableFeatures setP1CustomSkin proxyAdRequest getAdList registerImpression registerVideoAdImpression trackPlay getArtistRepInfo startValueExchange insertArtistMessageMetric flagArtistMessage flagArtistMessageWithReason setUserArtistMessageSettings passwordHelp".split(" "),
            music: "search searchCancelled shareSong shareArtistMessage getSeedSuggestions getRelatedSongInfoForFacebookShare searchTextForArtists getSearchRecommendations".split(" "),
            playlist: ["getFirstFragment", "narrative", "getFragment"],
            station: "createStation createStationHexedCode createPromotedStation createMixStation addSeed deleteSeed deleteSeedByMusicId addThumbUp addFeedback deleteFeedback transformShared getStations setStationName removeStation dismissPromotedStation getStation getQuickMix setQuickMix shareStation setStationNameAndDescription getCustomContentStation getPromotedStations forcePromotedStation setStationSettings verifyHybridStationChecksum trackSkip".split(" "),
            friends: "getServices activity find findByAddress add invite findFans hideFeedItem hideActivityItem hideAllFeedItems reportFeedSpam follow unfollow".split(" "),
            facebook: ["getFriends", "addFacebookFriends", "disconnect", "setAutoSharePreferences"]
        },
        vC: {
            vendor: ["getVendor"],
            listener: "createListener register activateAccount changeAccount resetPassword validateResetToken purchaseSubscription updateBillingInformation updateBusinessInformation migrateToBusiness startPaypalPayment completePaypalPayment getPaypalCheckoutDetails getReceipts authenticateListener logout getCreditCard unsubscribe setPrivacySettings startComplimentaryTrial redeemGiftCode createP1Gift loadGift emailGift startCCBackedTrial startPaypalBackedTrial completePaypalBackedTrial redeemCCBackedGift startRedeemPaypalBackedGift completeRedeemPaypalBackedGift".split(" "),
            station: ["setStationSettings"],
            facebook: ["getSigPlus", "getFacebookInfo", "connectListener"]
        },
        init: function() {
            v.up = new pq;
            v.f = {};
            v.Ma = [];
            v.Wf = !1;
            v.Vz = Xd(Qn());
            null == fq && (fq = Xd(Pn.Em()),
            delete Pn.Em);
            null == bq && (bq = Fd());
            v.i = null ;
            v.jG = r(v, v.Eg);
            v.nm() ? v.$o(v.Fu, v.Hx(), !0, !0) : v.$o(v.Fu, v.HH(), !0, !0);
            v.$o(v.vC, v.Hx(), !1, !0);
            v.f.listener.purchaseSubscription.setTimeout(18E4);
            v.f.listener.updateBillingInformation.setTimeout(18E4);
            v.f.listener.startCCBackedTrial.setTimeout(18E4);
            v.f.listener.redeemCCBackedGift.setTimeout(18E4);
            v.f.listener.purchaseSubscription.xi = !0;
            v.f.listener.updateBillingInformation.xi = !0;
            v.f.listener.startCCBackedTrial.xi = !0;
            v.f.listener.redeemCCBackedGift.xi = !0;
            v.f.station.getStations.setTimeout(3E5);
            v.f.listener.getSVNAds.setTimeout(5E3);
            v.f.listener.getAdList.setTimeout(8E3);
            v.wi = sq
        },
        nm: function() {
            return "https:" == window.location.protocol
        },
        Nl: function() {
            return mn()
        },
        Gx: function() {
            var b = A._data.shost
              , c = Kd();
            return null == b || null == c || A._data.nossl ? v.Nl() : "https://" + b + ":" + c + "/"
        },
        HH: function() {
            return v.nm() ? v.Nl() + v.Gu : v.Nl() + v.Hu
        },
        Hx: function() {
            return v.nm() ? v.Gx() + v.Hu : v.Gx() + v.Gu
        },
        $o: function(b, c, d, e) {
            for (var h in b)
                for (var l = b[h], p = 0; p < l.length; p++) {
                    null == v.f[h] && (v.f[h] = {});
                    var q = l[p];
                    v.f[h][q] = new aq(c,h + "." + q,d,v.up,v.jG);
                    e || (v.f[h][q].Yz = !1)
                }
        },
        j: function(b, c, d, e, h) {
            b = v.rs(b, c, d, e, h, !1, !1);
            v.gq();
            return b
        },
        rs: function(b, c, d, e, h, l, p) {
            k.debug("RPC dispatching request", b.method);
            null == b && k.error("dispatchRequest called with null rpc");
            var q = c.jq();
            if (null != q)
                for (var t = 0; t < q.length; t++)
                    null == q[t] ? k.error("dispatchRequest called with null, method: " + b.method + " - argument at position: " + t) : "object" == typeof q[t] && q[t].constructor != Array && (k.error("dispatchRequest called with non Array object, method: " + b.method + " - argument at position: " + t),
                    k.error("maybe you forgot to use '.getValue()'?"));
            b = new rq(b,c,d,e,h,p);
            l ? v.Ma.unshift(b) : v.Ma.push(b);
            return b
        },
        iF: function() {
            for (var b = 0; b < v.Ma.length; b++)
                v.Ma[b].cancel()
        },
        gq: function() {
            if (!v.Wf && 0 != v.Ma.length) {
                var b = v.Ma[0];
                b.pw++;
                b.vi ? (v.Ma.shift(),
                v.gq()) : (v.Wf = !0,
                b.method.apply(b.xd.jq()))
            }
        },
        Eg: function(b) {
            var c = !1;
            try {
                z.b(eg, "rpc response");
                if (b instanceof Dd)
                    switch (b.code) {
                    case m.d.pC():
                        v.Ma.shift();
                        z.b(Ih);
                        return;
                    case m.d.xu():
                        v.Ma.shift();
                        z.b(Qh);
                        return;
                    case m.d.nC():
                        v.Ma.shift();
                        z.b(Sg);
                        return;
                    case m.d.cC():
                        v.Ma.shift();
                        return;
                    case m.d.JB():
                        v.Ma.shift();
                        z.b(fh);
                        return;
                    case m.d.kC():
                        v.Ma.shift();
                        z.b(gh);
                        return;
                    case 12:
                        window.location = v.Nl() + "restricted";
                        return
                    }
                c = !0;
                if (v.Ma[0].sL)
                    if (k.debug("received a response to a re-auth"),
                    v.Ma.shift(),
                    b instanceof zd) {
                        k.debug("got an error performing a re-auth");
                        var d = v.Ma.shift();
                        d.vi || v.Up(d, b);
                        c = !1
                    } else {
                        k.debug("re-auth response is valid, new authtoken value: " + n(b));
                        var e = Sn(n(b));
                        b = !1;
                        Cm() && (v.i = e,
                        b = !0);
                        v.Pa(e);
                        b && v.ln(null , null )
                    }
                else if (b instanceof Dd && b.code == m.d.qB() && null != v.i) {
                    k.debug("got an authorization error: " + b.code + ", " + (v.i && Vn() ? Vn() : ""));
                    var h = v.Ma[0];
                    if (3 > h.pw)
                        if (k.debug("putting a re-auth event onto the queue"),
                        Cm())
                            v.rs(v.f.listener.getListenerResult, new qq([om(zl), v.VENDOR, v.sd]), null , r(this, function(b) {
                                b instanceof zd && k.error("got error from authenticateAnonymous: " + b.code)
                            }), {}, !0, !0);
                        else {
                            var l = om(Gl)
                              , p = om(Hl) || "";
                            rn() && ze("lsc");
                            var q = new qq([v.wi, l, p, v.VENDOR, "", "", v.sd, !1, Am()]);
                            v.rs(v.f.listener.authenticateListener, q, null , null , {
                                Ka: l,
                                P3: p
                            }, !0, !0)
                        }
                    else
                        k.debug("failed to run the request after 3 attempts"),
                        v.Ma.shift(),
                        h.vi || v.Up(h, b)
                } else
                    h = v.Ma.shift(),
                    b instanceof Dd && m.d.tu(),
                    h.vi || v.Up(h, b)
            } finally {
                v.Wf = !1,
                c && v.gq()
            }
        },
        Up: function(b, c) {
            c instanceof Ad ? null != b.kx && b.kx.call(v, c, b.getContext()) : null != b.AA && b.AA.call(v, c, b.getContext())
        },
        rc: function() {
            return null != v.i
        },
        FK: function() {
            return null != om(zl)
        },
        km: function() {
            Bm(null )
        },
        er: function() {
            um(Gl, null );
            vm(Hl)
        },
        ln: function(b, c) {
            b = null != b ? b.toLowerCase() : null ;
            null != b && v.i.Ka != b ? k.error("Returned username does not match sent username: " + v.i.Ka + " != " + b) : v.i.p() ? Bm(Vn()) : (um(Gl, b),
            null != c && um(Il, c),
            vm(Hl),
            !0 !== om(Dl) && um(Dl, !0),
            v.km(),
            $.cookie("v2lo", null ),
            $.cookie("lua", b))
        },
        Pa: function(b) {
            var c = v.i;
            v.i = b;
            eq = null != b ? b.s : null ;
            bn(null != b ? b.s : null );
            v.PO(b);
            null != c && null != b && c.s == b.s ? (Un(b, c),
            z.b(Ie, b)) : (z.b(He, b),
            null != b && (so(b),
            v.cH(function(b) {
                z.b(Vg, b)
            })))
        },
        PO: function(b) {
            k.info("Saving at cookie", b);
            oe("at", null == b ? "" : escape(b.jg), 30)
        },
        fh: function() {
            return !0 === om(Dl) && (!v.i || v.i.p())
        }
    };
    v.xQ = function(b, c) {
        v.j(v.f.misc.sync, new qq([v.wi]), function(d) {
            var e = v.JQ(n(d));
            null == e ? c(new zd("Invalid sync value from server: " + n(d))) : b(e)
        }, c, {})
    }
    ;
    v.JQ = function(b) {
        b = $d(v.Vz, b);
        for (var c = 0; 4 > c; c++)
            b.shift();
        b = be(ae(b));
        b = Number(b);
        return isNaN(b) ? null : b
    }
    ;
    v.OE = function(b, c) {
        v.j(v.f.listener.getListenerResult, new qq([b, v.VENDOR, v.sd]), v.jz, c, {})
    }
    ;
    v.Iw = function(b) {
        var c = A._data.af
          , c = new qq([v.wi, v.VENDOR, "", "", v.sd, !0, null != c ? c : ""]);
        v.j(v.f.listener.createListener, c, v.jz, b, {
            newUser: !0
        })
    }
    ;
    v.jz = function(b, c) {
        z.b(Tg);
        var d = Sn(n(b));
        d.Jr = c.newUser;
        v.Pa(d);
        v.ln(null , null )
    }
    ;
    v.gF = function(b, c, d) {
        v.j(v.f.listener.canListen, new qq([b, ""]), function(b) {
            c(n(b))
        }, d, {})
    }
    ;
    v.yd = function(b, c, d, e) {
        null != b && null != c || k.error("null arguments");
        rn() && ze("lsc");
        var h = new qq([v.wi, b, c, v.VENDOR, "", "", v.sd, !0, d]);
        return v.j(v.f.listener.authenticateListener, h, function(b, c) {
            v.kw(b, c);
            z.b(pg)
        }, e, {
            username: b,
            password: c,
            keepLoggedIn: d
        })
    }
    ;
    v.oO = function(b, c, d, e, h, l, p, q, t, y, E) {
        v.j(v.f.listener.register, new O(p && l ? [b, c, d, e, h, l, p, q, v.VENDOR, "", v.sd, t] : [b, c, d, e, h, q, v.VENDOR, "", v.sd, t]), function(b, c) {
            v.kw(b, c);
            y && 0 < y.length ? window.location = y : z.b(mg, n(b))
        }, E, {
            username: b,
            password: c,
            keepLoggedIn: t
        })
    }
    ;
    v.kw = function(b, c) {
        z.b(Tg);
        var d = Sn(n(b));
        v.Pa(d);
        var e = v.nm()
          , h = (new Date).format("yyyy-mm-dd HH:MM:ss", !0);
        s("https_migration", {
            is_scheme_https: e,
            vendor_id: u,
            device_id: we,
            device_code: we,
            client_timestamp: h
        }, d);
        v.ln(c.username, c.keepLoggedIn)
    }
    ;
    v.logout = function(b) {
        return v.j(v.f.listener.logout, new O([]), b, b, {})
    }
    ;
    v.SN = function(b, c, d, e, h, l) {
        e = new qq([b, c, d, e]);
        v.j(v.f.listener.passwordHelp, e, h, l, {
            email: b,
            birthYear: c,
            zipCode: d
        })
    }
    ;
    v.KH = function(b, c) {
        v.j(v.f.station.getStations, new O([]), function(c) {
            var e = []
              , h = (new Date).getTime()
              , l = 0;
            $.each(n(c), function() {
                v.Xe(this, h - l++);
                var b = tq(this);
                e.push(b)
            });
            b(e)
        }, c, {})
    }
    ;
    v.AH = function(b) {
        var c = uq
          , d = vq;
        v.j(v.f.station.getPromotedStations, new O([b]), function(b) {
            b = v.Ev(n(b));
            c(b)
        }, d, {})
    }
    ;
    v.XG = function() {
        var b = uq
          , c = vq;
        v.j(v.f.station.forcePromotedStation, new O([wq]), function(c) {
            c = v.Ev(n(c));
            b(c)
        }, c, {})
    }
    ;
    v.Ev = function(b) {
        var c = []
          , d = (new Date).getTime()
          , e = 0;
        $.each(b, function() {
            v.Xe(this, d - e++);
            var b = tq(this);
            c.push(b)
        });
        return c
    }
    ;
    v.Xe = function(b, c) {
        c || (c = (new Date).getTime());
        b.chronologicalSequence = c;
        var d = b.initialSeed;
        null != d && (null != d.song ? b.originalSeed = {
            type: "song",
            key: d.song.musicId,
            songName: d.song.songTitle,
            artistName: d.song.artistSummary,
            songDetailUrl: d.song.songDetailUrl,
            isComedy: d.song.isComedy
        } : null != d.nonGenomeStation ? b.originalSeed = {
            type: "nonGenomeStation",
            stationId: d.nonGenomeStation.stationId,
            stationName: d.nonGenomeStation.stationName,
            seedNames: d.nonGenomeStation.seeds,
            key: d.nonGenomeStation.musicId,
            isComedy: d.nonGenomeStation.isComedy,
            redirect: d.nonGenomeStation.isRedirect
        } : null != d.artist && (b.originalSeed = {
            type: "artist",
            key: d.artist.musicId,
            artistName: d.artist.artistName,
            likelyMatch: d.artist.likelyMatch,
            isComposer: d.artist.isComposer,
            artistDetailUrl: d.artist.artistDetailUrl,
            isComedy: d.artist.isComedy
        }));
        1 == b.isQuickMix && (0 == b.isCreator && (b.transformType = m.Fc.Ve()),
        b.stationName && b.stationName.replace && (b.stationName = b.stationName.replace("QuickMix", "Shuffle")))
    }
    ;
    v.iP = function(b, c, d, e, h) {
        v.j(v.f.station.setStationNameAndDescription, new O([b, c, d]), function(b) {
            e(n(b))
        }, h, {})
    }
    ;
    v.Wm = function(b, c, d, e) {
        return v.j(v.f.station.setStationName, new O([b, c]), function() {
            d(b)
        }, e, {})
    }
    ;
    v.gP = function(b, c, d, e, h, l, p) {
        for (var q = [], t = 0; t < c.length; t++)
            q.push("" + c[t]);
        v.j(v.f.station.setQuickMix, new O([b, q, "", d, e, h]), function(b) {
            b = n(b);
            v.Xe(b);
            l(b)
        }, p, {})
    }
    ;
    v.BH = function(b, c) {
        v.j(v.f.station.getQuickMix, new O([]), function(c) {
            c = n(c);
            v.Xe(c);
            b(c)
        }, c, {})
    }
    ;
    v.cz = function(b, c, d) {
        v.j(v.f.music.search, new O([b]), function(b) {
            c(n(b))
        }, d, {})
    }
    ;
    v.fO = function(b, c, d) {
        var e = b.indexOf("@");
        -1 < e && (b = b.substring(0, e));
        v.j(v.f.listener.search, new O([b]), function(b) {
            c(n(b))
        }, d, {})
    }
    ;
    v.nH = function(b, c, d, e, h, l, p, q) {
        Em(b.e());
        var t = String(Fm())
          , y = String(Gm())
          , E = oo(v.i);
        c = [b.e(), Oo(), E, t, y, e || "", h || "", A._data.testArtistMessage || "", c, d, l];
        d = v.f.playlist.getFragment;
        b.bj() && (c.push(b.nq()),
        c.push(b.oq()));
        return v.j(d, new O(c), function(b) {
            p(n(b))
        }, q, {})
    }
    ;
    v.gH = function(b, c, d) {
        Em(b.e());
        v.j(v.f.station.getCustomContentStation, new O([b.e()]), function(b) {
            c(n(b))
        }, d, {})
    }
    ;
    v.yi = function(b, c, d, e, h) {
        var l = xq;
        d || (d = "");
        c || (c = "");
        b = c && 0 < c.length || e && 0 < e.length ? new O([b, c, d, e]) : new O([b, d]);
        v.j(v.f.station.createStation, b, function(b) {
            b = n(b);
            v.Xe(b);
            h(b)
        }, l, {})
    }
    ;
    v.Jw = function(b, c, d) {
        var e = null
          , h = yq
          , l = xq;
        e || (e = "");
        b = new O([b, e]);
        v.j(v.f.station.createStationHexedCode, b, function(b) {
            b = n(b);
            v.Xe(b);
            b.artistMessageArtistUid = c;
            b.artistMessageId = d;
            h(b)
        }, l, {})
    }
    ;
    v.HF = function(b, c, d, e, h) {
        b = new O([b, c, d]);
        v.j(v.f.station.createPromotedStation, b, function(b) {
            b = n(b);
            v.Xe(b);
            e(b)
        }, h, {})
    }
    ;
    v.vE = function(b, c, d, e, h) {
        v.j(v.f.station.addFeedback, new O([b, c, d, "", !0, !1, 13]), e, h, {})
    }
    ;
    v.gi = function(b, c, d, e, h) {
        return v.j(v.f.station.addFeedback, new O([b.If(c), c.Za(), d]), function() {
            b.pm(c) && (c.k.Lc = d ? 1 : -1);
            e(c)
        }, h, {})
    }
    ;
    v.vl = function(b, c, d, e, h) {
        return v.j(v.f.station.deleteFeedback, new O([b.If(c), c.Za(), d]), function() {
            b.pm(c) && (c.k.Lc = 0);
            e(c)
        }, h, {})
    }
    ;
    v.Xv = function(b, c, d, e) {
        v.j(v.f.station.addSeed, new O([b, c]), d, e, {})
    }
    ;
    v.wE = function(b, c, d) {
        v.j(v.f.listener.addTiredSong, new O([b]), c, d, {})
    }
    ;
    v.wl = function(b, c, d) {
        return v.j(v.f.station.removeStation, new O([b]), c, d, {})
    }
    ;
    v.iG = function(b, c, d, e, h) {
        v.j(v.f.station.dismissPromotedStation, new O([b, c, d]), e, h, {})
    }
    ;
    v.pG = function(b, c, d) {
        b = b.redirect ? new qq([b.username, b.redirect]) : new qq([b.username]);
        v.j(v.f.listener.emailPassword, b, c, d, {})
    }
    ;
    v.J3 = function(b, c) {
        return v.j(v.f.listener.getSongBookmarks, new O([]), b, c, {})
    }
    ;
    v.E3 = function(b, c) {
        return v.j(v.f.listener.getArtistBookmarks, new O([]), b, c, {})
    }
    ;
    v.FH = function(b, c) {
        v.j(v.f.music.getSearchRecommendations, new O([]), function(c) {
            b(n(c))
        }, c, {})
    }
    ;
    v.UQ = function(b, c, d) {
        v.j(v.f.listener.changeAccount, new O([b.oldusername, b.oldpassword, b.newusername, b.newpassword, b.emailOptIn, b.gender, b.birthYear, b.zipCode]), function(d) {
            c({
                ldata: n(d),
                newpass: b.newpassword
            })
        }, d, {})
    }
    ;
    v.$Q = function(b, c, d) {
        var e = [b.isProfilePrivate, b.disallowComments, b.optOut, b.noNotifyOnNote, !1, b.noNotifyOnFollow];
        null != b.artistPromoEmailsEnabled && e.push(b.artistPromoEmailsEnabled);
        v.j(v.f.listener.setPrivacySettings, new O(e), function(b) {
            c(n(b))
        }, d, {})
    }
    ;
    v.gG = function(b, c) {
        v.j(v.f.facebook.disconnect, new O([]), function(c) {
            b(n(c))
        }, c, {})
    }
    ;
    v.bP = function(b, c, d, e, h, l, p) {
        v.j(v.f.facebook.setAutoSharePreferences, new O([b, c, d, e, h]), function(b) {
            l(n(b))
        }, p, {})
    }
    ;
    v.WQ = function(b, c, d, e) {
        v.j(v.f.listener.setExplicitContentFilter, new O([b]), function() {
            d(c)
        }, e, {})
    }
    ;
    v.aP = function(b, c, d) {
        v.j(v.f.listener.setExplicitPIN, new O([b.pin, b.rescueEmail]), c, d, {})
    }
    ;
    v.kR = function(b, c, d) {
        v.j(v.f.listener.verifyExplicitPIN, new O([b.pin]), function(b) {
            c(n(b))
        }, d, {})
    }
    ;
    v.Pp = function(b, c) {
        return v.j(v.f.listener.emailExplicitPINRescue, new O(null ), function(c) {
            b(c)
        }, c, {})
    }
    ;
    v.JH = function(b, c, d, e) {
        v.j(v.f.playlist.narrative, new O([b, c]), function(b) {
            d(n(b))
        }, e, {})
    }
    ;
    v.GH = function(b, c, d, e) {
        v.j(v.f.music.getSeedSuggestions, new O([b, c, 10]), function(b) {
            d(n(b))
        }, e, {})
    }
    ;
    v.jO = function(b, c, d, e) {
        v.j(v.f.listener.publishSongShare, new O([b, c]), function(b) {
            d(n(b))
        }, e, {})
    }
    ;
    v.iO = function(b, c, d, e, h) {
        v.j(v.f.listener.publishArtistMessageShare, new O([b, c, d]), function(b) {
            e(n(b))
        }, h, {})
    }
    ;
    v.kO = function(b, c, d, e, h, l) {
        null == d && (d = "");
        v.j(v.f.listener.publishStationShare, new O(["" + b, c, d, e]), function(b) {
            h(n(b))
        }, l, {})
    }
    ;
    v.yH = function(b, c, d) {
        v.j(v.f.listener.getExtendedProfileInfo, new O([b]), function(b) {
            c(n(b))
        }, d, {})
    }
    ;
    v.fP = function(b, c, d, e, h, l, p, q, t) {
        v.j(v.f.listener.setProfileInfoExtended, new O([b, c, d, e, h, l, p]), function(b) {
            q(n(b))
        }, t, {})
    }
    ;
    v.eP = function(b, c, d) {
        v.j(v.f.listener.setP1CustomSkin, new O([b]), function(b) {
            c(n(b))
        }, d, {})
    }
    ;
    v.dH = function(b, c, d, e) {
        v.j(v.f.listener.getCountNewFeedPosts, new O([b, c]), function(b) {
            d(n(b))
        }, e, {})
    }
    ;
    v.zH = function(b, c, d) {
        v.j(v.f.listener.getProfileInfoWithStations, new O([b]), function(b) {
            c(n(b))
        }, d, {})
    }
    ;
    v.DH = function(b, c, d) {
        v.j(v.f.music.getRelatedSongInfoForFacebookShare, new O([b, 3]), function(b) {
            c(n(b))
        }, d, {})
    }
    ;
    v.lP = function(b, c, d, e) {
        v.j(v.f.listener.setTwitterShareUserTokens, new O([b, c]), function(b) {
            d(n(b))
        }, e, {})
    }
    ;
    v.GL = function(b, c, d, e, h, l, p) {
        v.j(v.f.listener.like, new O([b, c, d, e, h]), function(b) {
            l(n(b))
        }, p, {})
    }
    ;
    v.SQ = function(b, c, d, e) {
        v.j(v.f.listener.unlike, new O([b, c]), function(b) {
            d(n(b))
        }, e, {})
    }
    ;
    v.RQ = function(b, c, d) {
        v.j(v.f.listener.unlike, new O([b]), function(b) {
            c(n(b))
        }, d, {})
    }
    ;
    v.mH = function(b, c, d) {
        v.j(v.f.listener.getFollowInfo, new O([b]), function(b) {
            c(n(b))
        }, d, {})
    }
    ;
    v.mq = function(b, c, d, e) {
        if (v.rc())
            return v.j(v.f.listener.getLikeInfo, new O([b, c]), function(b) {
                d(n(b))
            }, e, {})
    }
    ;
    v.Ts = function(b, c, d, e, h, l, p) {
        b = [b, c, d, e];
        _.isString(h) && !_.isEmpty(h) && b.push(h);
        return v.j(v.f.station.shareStation, new O(b), l, p, {})
    }
    ;
    v.Ss = function(b, c, d, e, h) {
        return v.j(v.f.music.shareSong, new O([b, d, c]), e, h, {})
    }
    ;
    v.tP = function(b, c, d, e, h, l) {
        v.j(v.f.music.shareArtistMessage, new O([b, c, e, d]), h, l, {})
    }
    ;
    v.xE = function(b, c) {
        v.j(v.f.listener.addTrackingCode, new O([b]), c, c, {})
    }
    ;
    v.eL = function(b, c, d, e, h) {
        v.j(v.f.listener.insertArtistMessageMetric, new O([b, c, d, e, document.referrer, h]), null , null , {})
    }
    ;
    v.OG = function(b, c, d, e) {
        v.j(v.f.listener.flagArtistMessage, new O([c, b, d]), e, e, {})
    }
    ;
    v.PG = function(b, c, d, e) {
        v.j(v.f.listener.flagArtistMessageWithReason, new O([b, c, d]), e, e, {})
    }
    ;
    v.eH = function(b, c) {
        v.j(v.f.listener.getCreditCard, new O(null ), function(c) {
            b(n(c))
        }, c, {})
    }
    ;
    v.Lj = function(b, c, d, e, h, l, p, q, t, y, E, I, N, U) {
        return v.j(v.f.listener.purchaseSubscription, new O([b, c, d, e, h, l, p, q, t, y, E, I]), function(b) {
            N(n(b))
        }, U, {})
    }
    ;
    v.jk = function(b, c, d, e, h, l, p, q, t, y, E, I, N, U) {
        return v.j(v.f.listener.updateBillingInformation, new O(b ? [c, d, e, h, l, p, q, t, y, E, I] : [c, y, I]), function(b) {
            N(n(b))
        }, U, {})
    }
    ;
    v.VQ = function(b, c, d, e, h, l, p, q) {
        v.j(v.f.listener.updateBusinessInformation, new O(d ? [b, c, e, h, l] : [b, c]), function(b) {
            p(n(b))
        }, q, {})
    }
    ;
    v.QL = function(b, c, d, e) {
        v.j(v.f.listener.migrateToBusiness, new O([b, c]), function(b) {
            d(n(b))
        }, e, {})
    }
    ;
    v.dQ = function(b, c, d, e, h, l, p, q, t, y, E) {
        v.j(v.f.listener.startCCBackedTrial, new O([b, c, d, e, h, l, p, q, t]), function(b) {
            y(n(b))
        }, E, {})
    }
    ;
    v.gQ = function(b, c, d, e, h) {
        v.j(v.f.listener.startPaypalPayment, new O([b, c, d]), function(b) {
            e(n(b))
        }, h, {})
    }
    ;
    v.fQ = function(b, c, d, e) {
        v.j(v.f.listener.startPaypalBackedTrial, new O([b, c]), function(b) {
            d(n(b))
        }, e, {})
    }
    ;
    v.yF = function(b, c, d) {
        v.j(v.f.listener.completePaypalBackedTrial, new O([b]), function(b) {
            c(n(b))
        }, d, {})
    }
    ;
    v.zF = function(b, c, d, e, h, l) {
        v.j(v.f.listener.completePaypalPayment, new O([b, c, d, e]), function(b) {
            h(n(b))
        }, l, {})
    }
    ;
    v.xH = function(b, c, d) {
        v.j(v.f.listener.getPaypalCheckoutDetails, new O([b]), function(b) {
            c(n(b))
        }, d, {})
    }
    ;
    v.CH = function(b, c) {
        v.j(v.f.listener.getReceipts, new O([]), function(c) {
            b(n(c))
        }, c, {})
    }
    ;
    v.GF = function(b, c, d, e, h, l, p, q, t, y, E, I, N, U, pa, Ia, fb) {
        v.j(v.f.listener.createP1Gift, new O([b, c, d, e, h, l, p, q, t, y, E, I, N, U, pa]), function(b) {
            Ia(n(b))
        }, fb, {})
    }
    ;
    v.IL = function(b, c, d, e) {
        v.j(v.f.listener.loadGift, new O([b, c]), function(b) {
            d(n(b))
        }, e, {})
    }
    ;
    v.oG = function(b, c, d, e) {
        v.j(v.f.listener.emailGift, new O([b, c]), function(b) {
            d(n(b))
        }, e, {})
    }
    ;
    v.TQ = function(b, c) {
        v.j(v.f.listener.unsubscribe, new O([]), function(c) {
            b(n(c))
        }, c, {})
    }
    ;
    v.IK = function(b, c, d, e) {
        v.j(v.f.friends.hideFeedItem, new O([b, c]), function(b) {
            d(n(b))
        }, e, {})
    }
    ;
    v.GK = function(b, c, d) {
        v.j(v.f.friends.hideActivityItem, new O([b]), function(b) {
            c(n(b))
        }, d, {})
    }
    ;
    v.HK = function(b, c, d) {
        v.j(v.f.friends.hideAllFeedItems, new O([b]), function(b) {
            c(n(b))
        }, d, {})
    }
    ;
    v.BO = function(b, c, d) {
        v.j(v.f.friends.reportFeedSpam, new O([b]), function(b) {
            c(n(b))
        }, d, {})
    }
    ;
    v.TG = function(b, c, d) {
        v.j(v.f.friends.follow, new O([b]), function(b) {
            c(n(b))
        }, d, {})
    }
    ;
    v.Lt = function(b, c, d) {
        return v.j(v.f.friends.unfollow, new O([b]), function(b) {
            c(n(b))
        }, d, {})
    }
    ;
    v.WE = function(b, c, d) {
        v.j(v.f.listener.banListener, new O(["" + b]), c, d, {})
    }
    ;
    v.MQ = function(b, c, d) {
        v.j(v.f.listener.unbanListener, new O(["" + b]), c, d, {})
    }
    ;
    v.UF = function(b, c, d, e, h) {
        v.j(v.f.listener.deleteListener, new O([b, c, d]), e, h, {})
    }
    ;
    v.ZF = function(b, c, d) {
        v.j(v.f.station.deleteSeed, new O(["" + b]), c, d, {})
    }
    ;
    v.$F = function(b, c, d, e) {
        v.j(v.f.station.deleteSeedByMusicId, new O(["" + b, c]), d, e, {})
    }
    ;
    v.pF = function(b, c, d, e, h, l) {
        v.j(v.f.listener.checkSVNAdComplete, new O([b, c, d, e]), h, l, {})
    }
    ;
    v.IG = function(b, c) {
        v.j(v.f.listener.getSVNAds, new O([]), b, c, {})
    }
    ;
    v.tG = function(b, c) {
        v.j(v.f.listener.exerciseTimeoutCredit, new O([]), b, c, {})
    }
    ;
    v.jQ = function(b, c, d, e, h, l, p, q, t, y, E, I, N) {
        v.j(v.f.listener.startValueExchange, new O([b, c, d, e, h, l, p, q, t, y, E]), I, N, {})
    }
    ;
    v.nO = function(b, c, d) {
        v.j(v.f.listener.redeemGiftCode, new O([b]), function(b) {
            c(n(b))
        }, d, {})
    }
    ;
    v.eQ = function(b, c, d, e) {
        v.j(v.f.listener.startComplimentaryTrial, new O([b, c, v.VENDOR, v.sd]), function(b) {
            v.Pa(Sn(n(b)));
            d()
        }, e, {})
    }
    ;
    v.mE = function(b) {
        v.j(v.f.listener.accountMessageDismissed, new O([b]), null , null , {})
    }
    ;
    v.EF = function(b, c, d, e, h, l) {
        v.j(v.f.facebook.connectListener, new O([b, c, d, e]), h, l, {})
    }
    ;
    v.kH = function(b, c) {
        v.j(v.f.facebook.getFacebookInfo, new O(null ), function(c) {
            b(n(c))
        }, c, {})
    }
    ;
    v.uK = function(b, c, d) {
        v.j(v.f.listener.trackPlay, new O([b, c]), function(b) {
            d(n(b))
        }, null , {})
    }
    ;
    v.WF = function(b) {
        v.j(v.f.listener.deleteCreditCard, new O(null ), b(), null , {})
    }
    ;
    v.tn = function(b, c, d) {
        return v.j(v.f.station.transformShared, new O(["" + b]), function(b) {
            c(n(b))
        }, d, {})
    }
    ;
    v.GO = function(b, c, d) {
        v.j(v.f.listener.resetPassword, new O([A._data.pt, b, v.VENDOR, v.sd]), function(b) {
            b = Sn(n(b));
            v.ln(b.Ka, null );
            v.Pa(b);
            c()
        }, d, {
            password: b
        })
    }
    ;
    v.jR = function(b, c, d) {
        v.j(v.f.listener.validateResetToken, new qq([b]), function(b) {
            c(n(b))
        }, d, {})
    }
    ;
    v.cH = function(b) {
        v.j(v.f.listener.getAvailableFeatures, new O([]), function(c) {
            b(n(c))
        }, null , {})
    }
    ;
    v.oE = function(b) {
        v.j(v.f.listener.acknowledgeSubscriptionExpiration, new O([]), null , b, {})
    }
    ;
    v.s3 = function(b) {
        return v.j(v.f.listener.clearVendorBilledTrialExpiredAlertCode, new O([]), null , b, {})
    }
    ;
    v.rF = function(b) {
        v.j(v.f.listener.clearVendorBilledSubscriberTimedOutAlertCode, new O([]), null , b, {})
    }
    ;
    v.hO = function(b, c, d, e, h) {
        b = Md(b);
        v.j(v.f.listener.proxyAdRequest, new O([b, !0, c, d]), function(b) {
            e(n(b))
        }, h, {})
    }
    ;
    v.ZG = function(b, c, d, e, h, l, p, q, t, y, E, I) {
        b = Md(b);
        k.debug("targetUrl - " + b);
        k.debug("nextStationId - " + c);
        k.debug("secondsUntil - " + d);
        k.debug("trackType - " + l);
        k.debug("currentTrackStationId - " + e);
        v.j(v.f.listener.getAdList, new O([b, c, d, e, h, l + "", p, q, t, !0, y]), function(b) {
            E(n(b))
        }, I, {})
    }
    ;
    v.Pm = function(b, c, d, e, h, l) {
        b = b || "";
        c = c || 0;
        d = d || 0;
        e = !!e;
        k.debug("Chronos - dispatching video register event");
        k.debug("creativeId - " + b);
        k.debug("secondsPlayed - " + c);
        k.debug("adLength - " + d);
        k.debug("isHouseAd - " + e);
        return v.j(v.f.listener.registerVideoAdImpression, new O([b, c, d, e]), function(b) {
            h(n(b))
        }, l, {})
    }
    ;
    v.wb = function(b, c, d, e, h, l, p) {
        b = Md(b);
        return v.j(v.f.listener.registerImpression, new O([b, c, d, e, h]), function(b) {
            l(n(b))
        }, p, {})
    }
    ;
    v.jP = function(b, c, d, e) {
        v.j(v.f.station.setStationSettings, new O([b, c]), function(b) {
            d(n(b))
        }, e, {})
    }
    ;
    v.mP = function(b, c, d, e) {
        v.j(v.f.listener.setUserArtistMessageSettings, new O([b, c]), function(b) {
            d(n(b))
        }, e, {})
    }
    ;
    v.mO = function(b, c, d, e, h, l, p, q, t, y, E, I) {
        v.j(v.f.listener.redeemCCBackedGift, new O([b, c, d, e, h, l, p, q, t, y]), function(b) {
            E(n(b))
        }, I, {})
    }
    ;
    v.hQ = function(b, c, d, e, h) {
        v.j(v.f.listener.startRedeemPaypalBackedGift, new O([b, c, d]), function(b) {
            e(n(b))
        }, h, {})
    }
    ;
    v.AF = function(b, c, d, e) {
        v.j(v.f.listener.completeRedeemPaypalBackedGift, new O([b, c]), function(b) {
            d(n(b))
        }, e, {})
    }
    ;
    v.lR = function(b, c, d, e) {
        v.j(v.f.station.verifyHybridStationChecksum, new O([b, c]), function(b) {
            d(n(b))
        }, e, {})
    }
    ;
    for (L = mq[22]; -1 != L; )
        switch (L) {
        case 39:
            G[99] = -1282901791;
            L = mq[0];
            break;
        case 16:
            G[13] = 714982793;
            L = mq[40];
            break;
        case 11:
            L = mq[48];
            break;
        case 1:
            G[152] = 791667E3;
            L = mq[11];
            break;
        case 57:
            G[505] = -444537175;
            L = mq[1];
            break;
        case 33:
            G[698] = 3897845298;
            L = mq[36];
            break;
        case 35:
            G[192] = 1267985868;
            L = mq[10];
            break;
        case 22:
            G[380] = -1894642054;
            L = mq[42];
            break;
        case 13:
            G[528] = 563589190;
            L = mq[13];
            break;
        case 14:
            L = mq[23];
            break;
        case 48:
            L = mq[5];
            break;
        case 46:
            G[777] = -2005848005;
            L = mq[43];
            break;
        case 40:
            G[693] = 1689332099;
            L = mq[47];
            break;
        case 28:
            L = mq[7];
            break;
        case 18:
            G[24] = -1059857244;
            L = mq[18];
            break;
        case 19:
            L = mq[19];
            break;
        case 32:
            G[98] = -2125661920;
            L = mq[44];
            break;
        case 47:
            G[1015] = -539412187;
            L = mq[21];
            break;
        case 0:
            L = mq[54];
            break;
        case 25:
            L = mq[33];
            break;
        case 29:
            G[825] = 1211874530;
            L = mq[57];
            break;
        case 44:
            G[697] = -2050076713;
            L = mq[30];
            break;
        case 3:
            G[475] = 1435906359;
            L = mq[50];
            break;
        case 31:
            G[584] = -1651054317;
            L = mq[37];
            break;
        case 37:
            L = mq[38];
            break;
        case 41:
            G[643] = -222883560;
            L = mq[20];
            break;
        case 8:
            G[738] = -1388127382;
            L = mq[9];
            break;
        case 21:
            G[821] = 3640054195;
            L = mq[16];
            break;
        case 10:
            G[266] = -1760014917;
            L = mq[14];
            break;
        case 49:
            G[611] = 1746934941;
            L = mq[53];
            break;
        case 17:
            G[217] = -721530141;
            L = mq[29];
            break;
        case 54:
            G[160] = 1910390267;
            L = mq[60];
            break;
        case 12:
            L = mq[52];
            break;
        case 50:
            G[263] = -966535934;
            L = mq[8];
            break;
        case 23:
            L = mq[51];
            break;
        case 42:
            G[733] = -1009081047;
            L = mq[6];
            break;
        case 43:
            G[401] = 1478358082;
            L = mq[26];
            break;
        case 27:
            G[306] = 2086596478;
            L = mq[35];
            break;
        case 55:
            G[81] = 1774074969;
            L = mq[34];
            break;
        case 15:
            G[391] = -1015258452;
            L = mq[55];
            break;
        case 52:
            G[937] = -1839895297;
            L = mq[3];
            break;
        case 24:
            G[972] = -461819453;
            L = mq[2];
            break;
        case 34:
            G[416] = 1078657027;
            L = mq[45];
            break;
        case 20:
            L = mq[31];
            break;
        case 56:
            G[860] = 2023719060;
            L = mq[32];
            break;
        case 45:
            G[73] = 1831180899;
            L = mq[12];
            break;
        case 5:
            G[786] = 2111075113;
            L = mq[56];
            break;
        case 38:
            G[974] = 895355799;
            L = mq[15];
            break;
        case 26:
            L = mq[28];
            break;
        case 30:
            L = mq[59];
            break;
        case 36:
            G[178] = -1489317857;
            L = mq[17];
            break;
        case 9:
            L = mq[58];
            break;
        case 58:
            G[106] = 1775366455;
            L = mq[24];
            break;
        case 2:
            L = mq[27];
            break;
        case 59:
            G[137] = 2120164615;
            L = mq[39];
            break;
        case 6:
            G[183] = -349538053;
            L = mq[49];
            break;
        case 53:
            L = mq[4];
            break;
        case 51:
            G[415] = 1569800660;
            L = mq[46];
            break;
        case 7:
            G[607] = -1284163114;
            L = mq[25];
            break;
        case 4:
            G[698] = 563511300,
            L = mq[41]
        }
    ;function zq(b) {
        me(b.username) ? (bn(null ),
        z.b(eh)) : (rn() && ze("lsc"),
        v.yd(b.username, b.password, b.keepLoggedIn, function(c) {
            c instanceof zd && (c.code == m.d.Se() ? z.b(eh) : x(c, si, b))
        }))
    }
    function Aq() {
        console.log("in handle Log out Resuest");
        v.iF();
        A._data.pt = null ;
        um(Gl, null );
        vm(Hl);
        bn(null );
        $.cookie("v2i", null );
        $.cookie("v2u", null );
        $.cookie("v2p", null );
        $.cookie("v2s", null );
        ze("lsc")
    }
    function Bq(b) {
        v.logout(function() {
            var c = "/";
            b && b.landing && (c = b.landing);
            $.address.value(c);
            setTimeout(function() {
                window.location.reload(!0)
            }, 1)
        })
    }
    function Cq(b) {
        v.oO(b.username, b.password, b.emailOptIn, b.gender, b.birthYear, b.birthMonth, b.birthDay, b.zipCode, b.keepLoggedIn, b.returnTarget, function(c) {
            x(c, ui, b, jh, c)
        })
    }
    function Dq(b) {
        var c = b.errorCallback;
        v.jR(b.resetToken, b.successCallback, function(b) {
            c(b)
        })
    }
    function Eq(b) {
        v.GO(b, function() {
            z.b(Oe)
        }, function(b) {
            b.code == m.d.Xn() ? z.b(mh, Ca()) : b.code == m.d.Yn() ? z.b(mh, Da()) : b.code == m.d.ru() ? z.b(mh) : z.b(ti)
        })
    }
    function Fq() {
        v.Iw(function(b) {
            k.error("Could not create new user:", b.message)
        })
    }
    function Gq(b) {
        v.yH(b, function(b) {
            z.b(Je, b)
        }, function(c) {
            x(c, Fi, b)
        })
    }
    function Hq(b) {
        v.fP(b.webName, b.fullName, b.isProfilePrivate, b.homeTown, b.school, b.employer, b.bio, function(b) {
            z.b(Ke, b)
        }, function(c) {
            x(c, Hj, b)
        })
    }
    function Iq(b) {
        v.dH(b.webname, b.lastFeedId, function(b) {
            b && b.count && (b = parseInt(b.count, 10),
            0 < b && z.b(Me, b))
        }, function() {
            k.info("error while fetching new feedpost count for webname=" + b.webname + ", lastfeedid=" + b.webname)
        })
    }
    function Jq(b) {
        v.zH(b, function(b) {
            b && b.webName && z.b(Le, b)
        }, function(c) {
            x(c, Gi, b)
        })
    }
    function Kq(b) {
        var c = b.username;
        v.pG(b, function() {
            z.b(Ne, c)
        }, function(b) {
            z.b(lh, b)
        })
    }
    function Lq(b) {
        if (v.fh())
            z.b(vh);
        else {
            var c = b.stationCode
              , d = b.source
              , e = b.stationName || null
              , h = b.artistMessageArtistUid;
            b = b.artistMessageId;
            var l;
            if (2 < c.length)
                a: {
                    for (var p = 0; p < Mq.length; p++)
                        if (l = Mq[p],
                        l.e() == c.substring(2))
                            break a;
                    l = null
                }
            else
                l = null ;
            null != l ? Nq({
                stationCode: "fs" + l.e(),
                adId: wn(l.n),
                correlationId: xn(l.n),
                trackingUrls: l.n._promotedTrackingUrls
            }) : null != h && null != b ? v.Jw(c, h, b) : v.yi(c, e, null , d, yq)
        }
    }
    function Nq(b) {
        v.fh() ? z.b(vh) : v.HF(b.stationCode, b.adId, b.correlationId, function(c, d) {
            b.trackingUrls && $.each(b.trackingUrls, function() {
                var b = this;
                "" != b && Fp(b, function() {}, function() {
                    k.debug("Promoted station tracking url failure: " + b)
                })
            });
            Oq(c, d)
        }, function(b) {
            setTimeout(function() {
                z.b(Lg)
            }, 100);
            xq(b)
        })
    }
    function Oq(b, c) {
        setTimeout(function() {
            z.b(Qg, {
                stationId: b.originalStationId
            })
        }, 250);
        yq(b, c)
    }
    function Pq(b) {
        v.fh() ? z.b(vh) : v.yi(b, null , null , null , Qq)
    }
    function Qq(b, c) {
        setTimeout(function() {
            z.b(Rg)
        }, 250);
        yq(b, c)
    }
    function Rq(b) {
        var c = b.stationCode
          , d = b.trackToken
          , e = b.source;
        v.fh() ? (b.retry_method = Rq,
        z.b(vh, b)) : v.yi(c, null , null , e, function(b) {
            yq(b, d)
        })
    }
    function Sq(b) {
        v.fh() ? (b.retry_method = Sq,
        z.b(vh, b)) : v.yi(b.stationCode, b.stationName, b.searchText, null , yq)
    }
    function Tq(b) {
        if (v.fh())
            b.retry_method = Tq,
            z.b(vh, b);
        else {
            var c = b.stationCode
              , d = b.stationName
              , e = b.source
              , h = b.artistMessageArtistUid;
            b = b.artistMessageId;
            null != h && null != b ? v.Jw(c, h, b) : v.yi(c, d, null , e, yq)
        }
    }
    function yq(b, c) {
        k.info("Successfully created station with station and trackToken:", b, c);
        var d = A._data.fb_ref
          , e = v.i;
        if (b.isNew) {
            if (d && 0 < d.length) {
                var h = {
                    listener_id: e.s,
                    station_id: b.stationId,
                    social_network_id: "facebook",
                    device_os: "web"
                }
                  , l = d.split("_");
                3 <= l.length && (h.shared_listener_token = l[2]);
                0 == d.indexOf("trackplay__") && 4 == l.length && (h.shared_station_id = l[3]);
                s("social_autoshare_station_created", h, e)
            }
            (d = b.artistMessageId) && 0 < d.length && z.b(uk, {
                artistMessageId: d,
                artistUid: b.artistMessageArtistUid,
                metric: m.zb.xC(),
                isOnDemand: !0,
                shareUrlType: mp("sut")
            })
        }
        D.uE(b);
        c ? z.b(oi, {
            stationId: b.stationId,
            trackToken: c
        }) : z.b(ni, {
            stationId: b.stationId
        })
    }
    function xq(b) {
        z.b(vh, b)
    }
    function Uq(b) {
        var c = b.searchText
          , d = b.searchFilter;
        v.cz(c, function(b) {
            b.searchText = c;
            b.searchFilter = d;
            z.b(ff, b)
        }, function(c) {
            x(c, Ni, b)
        })
    }
    function Vq(b) {
        var c = b.searchText
          , d = b.searchFilter;
        v.fO(c, function(b) {
            b.searchText = c;
            b.searchFilter = d;
            z.b(gf, b)
        }, function(c) {
            x(c, Ni, b)
        })
    }
    function Wq(b) {
        v.cz(b, function(c) {
            c.searchText = b;
            z.b(vf, c)
        }, function(c) {
            x(c, cj, b)
        })
    }
    function Xq(b) {
        v.wl(b, function() {
            D.pO(b)
        }, function(c) {
            x(c, Li, b)
        })
    }
    function Yq(b) {
        v.iG(b.stationId, b.adId, b.correlationId, function() {
            setTimeout(function() {
                z.b(Qg, b)
            }, 250)
        }, function(c) {
            x(c, Pg, b)
        })
    }
    function Zq(b) {
        v.FH(function(c) {
            k.info("*** Got search suggestions: " + c);
            b || !v.i || v.i.p() || !(2 <= c.length) || c[0] && 0 != c[0].length || c[1] && 0 != c[1].length ? z.b(jf, c) : (k.info("Trying one more time to get search suggestions."),
            setTimeout(function() {
                Zq(!0)
            }, 1500))
        }, function(b) {
            "QUICKMIX_NOT_PLAYABLE" != b.code && k.warn("Could not get search suggestions.", b);
            z.b(jf, [])
        })
    }
    function $q(b) {
        v.iP(b[0], b[1], b[2], function(b) {
            z.b(Ue, b)
        }, function(c) {
            x(c, Ti, b)
        })
    }
    function ar(b) {
        v.Wm(b[0], b[1], function(c) {
            z.b(Ue, {
                stationId: c,
                stationName: b[1]
            })
        }, function(c) {
            k.error("Could not update station: ", c);
            x(c, ej, b)
        })
    }
    function br(b) {
        v.WQ(b.contentFilterEnabled, b, function(b) {
            v.UQ(b, function(b) {
                z.b(kf, b);
                v.Pa(Sn(b.ldata))
            }, function(d) {
                x(d, yi, b, Lh, d)
            })
        }, function(c) {
            k.error("Failed to update explicit content filter.", c);
            x(c, yi, b)
        })
    }
    function cr(b) {
        v.$Q(b, function(b) {
            z.b(lf, b);
            v.Pa(Sn(b))
        }, function(c) {
            k.error("Failed to update privacy settings.", c);
            x(c, zi, b)
        })
    }
    function dr() {
        v.gG(function() {
            z.b(Bg)
        }, function(b) {
            k.error("Failed to disconnect from Facebook.", b);
            x(b, qj, !1)
        })
    }
    function er(b) {
        v.bP(b.autoShareEnabled, b.autoShareTrackPlay, b.autoShareLikes, b.autoShareFollows, b.userInitiated, function(b) {
            z.b(Ag, b)
        }, function(b) {
            k.error("Failed to update Facebook auto-share settings.", b);
            x(b, Ai, !1)
        })
    }
    function fr(b) {
        v.aP(b, function(b) {
            z.b(of, b)
        }, function(c) {
            k.error("Failed to update explicit PIN.", c);
            x(c, Wi, b)
        })
    }
    function gr(b) {
        v.kR(b, function(b) {
            z.b(pf, b)
        }, function(c) {
            k.error("Failed to verfiy explicit PIN.", c.message);
            x(c, Xi, b)
        })
    }
    function hr() {
        v.Pp(function() {
            z.b(qf)
        }, function(b) {
            k.error("Failed to email explicit PIN.", b);
            x(b, Yi, null )
        })
    }
    function ir(b) {
        var c = b[0]
          , d = b[1];
        v.vE(c, d, b[2], function() {
            z.b(mf, [c, d])
        }, function(c) {
            k.error("Failed to add thumb up track.", c);
            x(c, Ui, b)
        })
    }
    function jr(b) {
        var c = b[0]
          , d = b[1];
        v.Xv(c, d, function() {
            z.b(nf, [c, d])
        }, function(c) {
            k.error("Failed to add seed.", c);
            x(c, Vi, b)
        })
    }
    function kr(b) {
        v.wE(b.Za(), function() {
            z.b(rf, b)
        }, function(c) {
            k.error("Failed to add tired track.", c);
            z.b(rf, b)
        })
    }
    function lr(b) {
        v.JH(b.track.e(), b.track.o(), function(c) {
            z.b(sf, {
                narrative: c,
                track: b.track,
                allowActions: b.allowActions
            })
        }, function(c) {
            k.error("Failed to add tired track.", c);
            x(c, $i, b.track)
        })
    }
    function mr(b) {
        v.GH(b.stationId, b.musicId, function(b) {
            z.b(uf, b)
        }, function(b) {
            k.error("Failed to get seed suggestions.", b)
        })
    }
    function nr(b) {
        v.Xv(b.r().e(), b.o(), function() {
            z.b(wf, b)
        }, function(c) {
            x(c, dj, b)
        })
    }
    function or(b) {
        v.DH(b, function(c) {
            c.stationId = b;
            z.b(Bf, c)
        }, function(c) {
            k.warn("Error loading related track info for facebook share: " + c.message);
            z.b(Bf, {
                stationId: b
            })
        })
    }
    function pr(b) {
        var c = b && b.twitterShareUserKey ? b.twitterShareUserKey : ""
          , d = b && b.twitterShareUserSecret ? b.twitterShareUserSecret : "";
        v.lP(c, d, function() {
            v.i.$d = c;
            v.i.Rh = d;
            z.b(Fg, b)
        }, function(b) {
            v.i.$d = null ;
            v.i.Rh = null ;
            z.b(sh, b.message)
        })
    }
    function qr(b) {
        var c = b.shareName || null ;
        b.doEmail && v.Ts(b.stationToken, b.emails.split(" ").join(""), 0 == b.userMessage.length ? b.defaultMessage : b.userMessage, Oo(), c, function() {
            z.b(Hg, {
                email: !0
            })
        }, function(c) {
            x(c, nj, b, rh)
        });
        b.doProfile && v.kO(b.stationId, b.stationName, b.stationInitialSeed, 0 == b.userMessage.length ? b.defaultMessage : b.userMessage, function() {
            z.b(Hg, {
                profile: !0
            })
        }, function(c) {
            x(c, nj, b, rh)
        })
    }
    function rr(b) {
        if (b.doEmail) {
            var c = b.musicId
              , d = b.emails
              , e = 0 == b.userMessage.length ? b.defaultMessage : b.userMessage
              , h = b.artistMessageArtistUid;
            h ? v.tP(c, h, d.split(" ").join(""), e, function() {
                z.b(Hg, {
                    email: !0
                })
            }, function(c) {
                x(c, oj, b, rh)
            }) : v.Ss(c, d.split(" ").join(""), e, function() {
                z.b(Hg, {
                    email: !0
                })
            }, function(c) {
                x(c, oj, b, rh)
            })
        }
        b.doProfile && (c = b.musicId,
        d = 0 == b.userMessage.length ? b.defaultMessage : b.userMessage,
        (h = b.artistMessageArtistUid) ? v.iO(c, h, d, function() {
            z.b(Hg, {
                profile: !0
            })
        }, function(c) {
            x(c, oj, b, rh)
        }) : v.jO(c, d, function() {
            z.b(Hg, {
                profile: !0
            })
        }, function(c) {
            x(c, oj, b, rh)
        }))
    }
    function sr(b) {
        v.GL(b.type, b.objectId, b.context, b.contextId, String(b.contextName), function(b) {
            b.objectId && z.b(Df, b)
        }, function(c) {
            x(c, uj, b)
        })
    }
    function tr(b) {
        v.SQ(b.Hf(), b.Jc, function(b) {
            z.b(Ff, b)
        }, function(c) {
            x(c, yj, b)
        })
    }
    function ur(b) {
        v.RQ(b, function(b) {
            z.b(Ef, b)
        }, function(c) {
            x(c, vj, b)
        })
    }
    function vr(b) {
        v.mq(b.Hf(), b.Jc, function(c) {
            b.df = c.likeId;
            z.b(Hf, b)
        }, function(c) {
            x(c, wj, b)
        })
    }
    function wr(b) {
        v.mH(b, function(b) {
            z.b(Gf, b)
        }, function(c) {
            x(c, xj, b)
        })
    }
    function xr(b) {
        null != v.i && $n(v.i) ? v.eH(function(c) {
            z.b(If, {
                cdata: c,
                ctx: b
            })
        }, function(c) {
            c && "CREDIT_CARD_NO_RECORD_FOUND" == c.code ? z.b(If, {
                cdata: null ,
                ctx: b
            }) : (k.error("Failed to get card information.", c),
            x(c, zj, b))
        }) : z.b(If, {
            cdata: null ,
            ctx: b
        })
    }
    function yr(b) {
        v.Lj(b[0], b[1], b[2], b[3], b[4], b[5], b[6], b[7], b[8], b[9], b[10], b[11], function(b) {
            v.Pa(Sn(b));
            z.b(Pf, b)
        }, function(c) {
            k.error("Failed to purchase subscription.", c);
            x(c, Fj, b, Dh, c)
        })
    }
    function zr(b) {
        v.jk(!0, b[0], b[1], b[2], b[3], b[4], b[5], b[6], b[7], b[8], b[9], b[10], function(b) {
            v.Pa(Sn(b));
            z.b(Lf, b)
        }, function(c) {
            k.error("Failed to set billing information.", c);
            x(c, Bj, b, zh, c)
        })
    }
    function Ar(b) {
        v.jk(!1, b[1], null , null , null , null , null , null , null , b[0], null , b[2], function(b) {
            v.Pa(Sn(b));
            z.b(Mf, b)
        }, function(c) {
            k.error("Failed to set billing information.", c);
            x(c, Cj, b, Ah, c)
        })
    }
    function Br(b) {
        v.VQ(b[0], b[1], 2 < b.length, b[2], b[3], b[4], function(b) {
            v.Pa(Sn(b));
            z.b(Nf, b)
        }, function(c) {
            k.error("Failed to update business information.", c);
            x(c, Dj, b, Bh, c)
        })
    }
    function Cr(b) {
        v.QL(b[0], b[1], function(b) {
            v.Pa(Sn(b));
            z.b(Of, b)
        }, function(c) {
            k.error("Failed to update business information.", c);
            x(c, Ej, b, Ch, c)
        })
    }
    function Dr(b) {
        v.gQ(b[0], b[1], b[2], function(b) {
            k.info("returned startPaypalPayment.");
            z.b(jk, b)
        }, function(c) {
            k.error("Failed startPaypalPayment.", c);
            x(c, ik, b, Th, c)
        })
    }
    function Er(b) {
        v.xH(b[0], function(b) {
            k.info("returned getPaypalCheckoutDetails.");
            z.b(nk, b)
        }, function(c) {
            k.error("Failed getPaypalCheckoutDetails.", c);
            x(c, mk, b, Vh, c)
        })
    }
    function Fr(b) {
        v.CH(function(b) {
            k.info("returned getReceipts.");
            z.b(rl, b)
        }, function(c) {
            k.error("Failed getReceipts.", c);
            x(c, pl, b, ql, c)
        })
    }
    function Gr(b) {
        v.zF(b[0], b[1], b[2], b[3], function(b) {
            k.info("returned completePaypalPayment.");
            v.Pa(Sn(b));
            z.b(lk, b)
        }, function(c) {
            k.error("Failed completePaypalPayment.", c);
            x(c, lk, b, Uh, c)
        })
    }
    function Hr(b) {
        v.fQ(b[0], b[1], function(b) {
            k.info("returned startPaypalBackedTrial.");
            z.b(rk, b)
        }, function(c) {
            k.error("Failed startPaypalBackedTrial.", c);
            x(c, qk, b, Xh, c)
        })
    }
    function Ir(b) {
        v.yF(b[0], function(b) {
            k.info("returned completePaypalBackedTrial.");
            v.Pa(Sn(b));
            z.b(tk, b)
        }, function(c) {
            k.error("Failed startPaypalBackedTrial.", c);
            x(c, sk, b, Yh, c)
        })
    }
    function Jr(b) {
        v.dQ(b[0], b[1], b[2], b[3], b[4], b[5], b[6], b[7], b[8], function(b) {
            v.Pa(Sn(b));
            z.b(pk, b)
        }, function(c) {
            k.error("Failed to start credit-card backed trial.", c);
            x(c, ok, b, Wh, c)
        })
    }
    function Kr(b) {
        v.GF(b[0], b[1], b[2], b[3], b[4], b[5], b[6], b[7], b[8], b[9], b[10], b[11], b[12], b[13], b[14], function(b) {
            v.Pa(Sn(b));
            b.p1gift = !0;
            z.b(Jf, b)
        }, function(c) {
            x(c, ek, b)
        })
    }
    function Lr(b) {
        var c = b[0];
        v.IL(c, b[1], function(b) {
            z.b(rg, b)
        }, function(b) {
            x(b, fk, c)
        })
    }
    function Mr(b) {
        var c = b[0];
        v.oG(c, b[1], function(b) {
            z.b(sg, b)
        }, function(b) {
            x(b, gk, c)
        })
    }
    function Nr() {
        v.TQ(function(b) {
            z.b(Tf, Sn(b))
        }, function(b) {
            k.error("Failed to unsubscribe", b);
            x(b, Gj, null , xh)
        })
    }
    function Or(b) {
        var c = b.feedId
          , d = b.deleteCompletely;
        b.isActivityDelete ? v.GK(c, function(b) {
            z.b(fg, Sn(b))
        }, function(c) {
            k.error("Failed to unsubscribe", c);
            x(c, kj, b, Fh)
        }) : v.IK(c, d, function(b) {
            z.b(fg, Sn(b))
        }, function(c) {
            k.error("Failed to unsubscribe", c);
            x(c, kj, b, Fh)
        })
    }
    function Pr(b) {
        v.BO(b, function(b) {
            z.b(gg, Sn(b))
        }, function(c) {
            k.error("Failed to unsubscribe", c);
            x(c, mj, b, Gh)
        })
    }
    function Qr(b) {
        v.HK(b, function(b) {
            z.b(hg, Sn(b))
        }, function(c) {
            k.error("Failed to unsubscribe", c);
            x(c, lj, b, Hh)
        })
    }
    function Rr(b) {
        v.TG(b.webName, function() {
            z.b(Rf, b)
        }, function(c) {
            x(c, Ij, b)
        })
    }
    function Sr(b) {
        v.Lt(b.webName, function() {
            z.b(Sf, b)
        }, function(c) {
            x(c, Jj, b)
        })
    }
    function Tr(b) {
        v.WE(b, function() {
            z.b(Uf, b)
        }, function(c) {
            x(c, Kj, b)
        })
    }
    function Ur(b) {
        v.MQ(b, function() {
            z.b(Vf, b)
        }, function(c) {
            x(c, Lj, b)
        })
    }
    function Vr(b) {
        v.UF(b.password, b.email, b.accountType, function() {
            z.b(Zg)
        }, function(b) {
            x(b, Mj, null , di)
        })
    }
    function Wr(b) {
        var c = b.stationID
          , d = b.seedID
          , e = b.musicID;
        e ? v.$F(c, e, function() {
            z.b(Ig, [c, e])
        }, function(c) {
            x(c, Nj, b)
        }) : v.ZF(d, function() {
            z.b(Ig, [c, d])
        }, function(c) {
            x(c, Nj, b)
        })
    }
    function Xr(b) {
        v.nO(b, function(b) {
            v.Pa(Sn(b));
            z.b($f, b)
        }, function(c) {
            k.error("Failed to redeem gift code: ", c.message);
            x(c, Vj, b, wh, c)
        })
    }
    function Yr(b) {
        v.pF(b.svnName, b.activityBenefit, b.hoursEarned, b.probablyCompleted, function(c) {
            z.b(Zf, {
                success: n(c),
                activity: b
            })
        }, function(b) {
            k.error("Failed to check SVN complete: ", b.message);
            x(b, Qj, [], Uj)
        })
    }
    function Zr() {
        np ? v.IG(function(b) {
            b = n(b);
            b = null != b && 0 < b.length ? b.pop() : null ;
            z.b(Xf, b)
        }, function(b) {
            k.error("Failed to fetch SVN ads: ", b.message);
            z.b(Xf, null );
            x(b, Oj, [], Rj)
        }) : setTimeout(function() {
            z.b(Xf, null )
        }, 500)
    }
    function $r() {
        v.tG(function(b) {
            z.b(Yf, parseInt(n(b), 10))
        }, function(b) {
            k.error("Failed to exercise timeout credit: ", b.message);
            x(b, Pj, [], Sj)
        })
    }
    function as(b) {
        v.jQ(b.offerName, b.brandName, b.lineId, b.creativeId, b.offerButtonLabel, b.offerButtonUrl, b.leadInBannerUrl, b.leadInAudioUrl, b.signature ? b.signature : "", b.vxOffer ? b.vxOffer : "", b.truexInstanceId ? "" + b.truexInstanceId : "", function(b) {
            z.b(jl, n(b))
        }, function(b) {
            k.error("Failed to start value exchange: ", b.message);
            x(b, hl, [], il)
        })
    }
    function bs(b) {
        v.eQ(b.sponsor || "", b.referrer || "unknown", function() {
            z.b(ag, b)
        }, function(c) {
            k.error("Failed to start complimentary trial", c);
            var d = v.i
              , e = "";
            switch (c.code) {
            case m.d.wu():
                e = d && null != d.ol ? ob() : d && !d.J() ? pb() : qb();
                break;
            case m.d.wk():
                e = rb();
                break;
            case m.d.EC():
                e = sb();
                break;
            case m.d.SB():
                e = ub([b.sponsor || ""]);
                break;
            case m.d.BB():
                e = vb();
                break;
            default:
                e = wb()
            }
            c.hg = e;
            x(c, Wj, b)
        })
    }
    function cs(b) {
        v.eP(b, function() {}, function() {})
    }
    function ds(b) {
        v.mE(b)
    }
    function es(b) {
        v.EF(b.id, b.name, b.accessToken, b.accessTokenExpiration, function() {
            z.b(zg);
            b.callback && b.callback()
        }, function(b) {
            z.b(th, b)
        })
    }
    function fs(b) {
        if (null != b && !(b.Co || b instanceof Hn || b.Ic)) {
            var c = "";
            null != v.i && (c = v.i.nx || "");
            v.uK(b.Za(), c, function(c) {
                b.Co = !0;
                c && c.updateFacebookInfo && (k.info("trackPlay response: need to do sync"),
                v.kH(function(b) {
                    z.b(Cg, b)
                }, function() {}))
            })
        }
    }
    function gs() {
        v.WF(function() {
            z.b(Qf)
        })
    }
    function hs(b) {
        var c = b.stationId
          , d = b.context;
        v.tn(c, function(b) {
            z.b(Jg, {
                oldStationId: c,
                station: b,
                context: d
            })
        }, function(b) {
            x(b, ak, c)
        })
    }
    function is() {
        v.oE(function(b) {
            x(b, dl, null )
        })
    }
    function js() {
        v.rF(function(b) {
            x(b, el, null )
        })
    }
    function ks(b) {
        0 < b ? (um(El, b),
        um(Fl, !1)) : um(Fl, !0)
    }
    function ls(b) {
        var c = b.adUrl
          , d = b.adToken || ""
          , e = b.stationId
          , h = b.errorCallback
          , l = b.successCallback
          , p = b.chronosOptions.secondsUntilAd
          , q = b.chronosOptions.currentStationId
          , t = b.chronosOptions.trackToken
          , y = b.chronosOptions.trackType
          , E = b.chronosOptions.secondsPlayed
          , I = b.chronosOptions.userInitTrackEnd
          , N = b.chronosOptions.secondsSinceDisplayAd || 0
          , U = b.testMode;
        k.debug("Attempting chronos call..");
        k.debug("Chronos variables \n url: " + c + " \n adToken: " + d + " \n nextStationId: " + e + " \n secondsUntilAd: " + p + " \n currentStationId: " + q + " \n trackToken: " + t + " \n secondsPlayed: " + E + " \n userInitTrackEnd: " + I + " \n secondsSinceDisplayAd: " + N + "\n trackType: " + y);
        if (null != c) {
            var pa = JSON.stringify({
                url: c,
                nextStationId: e,
                secondsUntilAd: p,
                currentStationId: q,
                trackToken: t,
                trackType: y,
                secondsPlayed: E,
                userInitTrackEnd: I,
                secondsSinceDisplayAd: N,
                videoAdReady: !0,
                testMode: U
            })
              , Ia = v.i
              , fb = "track_complete";
            I && (fb = q != e ? "station_change" : "track_skip");
            var gb = {
                ad_unit_id: null ,
                event_type: "request",
                event_sub_type: fb,
                event_description: null ,
                correlation_id: null ,
                line_id: null ,
                creative_id: null ,
                request_string: pa,
                listener_id: Ia.s,
                vendor_id: u,
                device_id: we,
                accessory_id: null ,
                app_version: z.ba,
                device_os: se(),
                device_model: null ,
                client_timestamp: (new Date).format("yyyy-mm-dd HH:MM:ss", !0),
                is_pandora_link: !1,
                bluetooth_device_name: null ,
                ad_id: null
            };
            s("chronos_lifecycle", gb, Ia);
            k.debug("Fetch Ad Url : " + c);
            v.ZG(c, e, p, q, t, y, E, I, N, U, function(b) {
                k.debug("Chronos call successful");
                k.debug("Response - " + JSON.stringify(b));
                var e = {};
                e.adList = b;
                e.url = c;
                e.adToken = d;
                l(e)
            }, function(c) {
                c instanceof Cd ? (k.info("Chronos call timed out"),
                gb = {
                    ad_unit_id: null ,
                    event_type: "timeout",
                    event_sub_type: null ,
                    event_description: v.f.listener.getAdList.timeout,
                    correlation_id: null ,
                    line_id: null ,
                    creative_id: null ,
                    request_string: pa,
                    listener_id: Ia.s,
                    vendor_id: u,
                    device_id: we,
                    accessory_id: null ,
                    app_version: z.ba,
                    device_os: se(),
                    device_model: null ,
                    client_timestamp: (new Date).format("yyyy-mm-dd HH:MM:ss", !0),
                    is_pandora_link: !1,
                    bluetooth_device_name: null ,
                    ad_id: null
                },
                s("chronos_lifecycle", gb, Ia)) : k.info("Chronos call failed");
                c = {
                    name: "getAdListError: " + c.message,
                    message: c.hg,
                    description: c.hg
                };
                vp(c.name + " : " + b.slotSize, b.slotSize, "getAdList get failure", b.subzone);
                h(c)
            })
        } else
            k.debug("AdService : ", "Ad url is null")
    }
    function ms(b) {
        var c = b.errorCallback
          , d = b.successCallback;
        v.Pm(b.creativeId, b.secondsPlayed, b.adLength, b.isHouseAd, function(b) {
            d(b)
        }, function(b) {
            c(b)
        })
    }
    function ns(b) {
        var c = b.adUrl
          , d = b.adToken || ""
          , e = b.stationId
          , h = b.errorCallback
          , l = b.successCallback;
        null != c ? (k.debug("Fetch Ad Url : " + c),
        v.hO(c, d, e, function(d) {
            "true" != d.success ? (d = {
                name: "serverProxyError",
                message: "ServerProxy failed to proxy the ad request",
                description: "ServerProxy failed to proxy the ad request"
            },
            vp(d.name + " : " + b.slotSize, b.slotSize, "server proxy get failure", b.subzone),
            h(d)) : l(d.content, c, d.adToken, d.adRequestMetaData)
        }, function(c) {
            c = {
                name: "serverProxyError: " + c.message,
                message: c.hg,
                description: c.hg
            };
            vp(c.name + " : " + b.slotSize, b.slotSize, "server proxy get failure", b.subzone);
            h(c)
        })) : k.debug("AdService : ", "Ad url is null")
    }
    function os(b) {
        var c = b.adData
          , d = b.onImpressionSuccess
          , e = b.onImpressionFailure || $.noop
          , h = b.stationId || 0
          , l = c.Jm ? c.Jm.Ef() : ""
          , p = c.qE;
        b = [];
        b.push(["impression", c.pH ? c.pc : c.impression]);
        b.push(["tracking", c.tracker]);
        if (v.i.ue()) {
            var q = c.LH ? c.pn : c.tile_tracker_urls;
            q && (q = "string" === typeof q || q instanceof String ? [q] : q,
            $.merge(b, $.map(q, function(b) {
                return [["tile_tracker", b]]
            })))
        }
        c.pc = null ;
        c.pn = null ;
        $.each(b, function(b, q) {
            try {
                var E = q[0]
                  , I = q[1];
                me(I) ? k.info("empty " + E + " URL") : c.type && "CPA_PROVIDER" == c.type ? Fp(I, d, e) : v.wb(I, E, p, l, h, function(b) {
                    "true" != b.success ? e({
                        name: "serverProxyError",
                        message: "ServerProxy failed to proxy " + E + " url",
                        description: "ServerProxy failed to proxy " + E + " url"
                    }, E) : d(E)
                }, function(b) {
                    e({
                        name: "serverProxyError on " + E + " url: " + b.message,
                        message: b.userMessage,
                        description: b.userMessage
                    }, E)
                })
            } catch (N) {
                e(N, E)
            }
        })
    }
    function ps(b) {
        var c = b.artistMessageId
          , d = b.artistUid
          , e = b.metric
          , h = b.isOnDemand || !1;
        b = b.shareUrlType;
        null == b && (b = "");
        v.eL(c, d, e, h, b)
    }
    function qs(b) {
        v.OG(b.artistMessageId, b.artistUid, b.stationId, function() {
            z.b(Yg, b)
        })
    }
    function rs(b) {
        v.PG(b.artistUid, b.artistMessageId, b.flagReason, function() {
            z.b(Yg, b)
        })
    }
    function ss(b) {
        v.jP(b[0], b[1], function(b) {
            z.b(Wg, b)
        }, function(c) {
            x(c, xk, b)
        })
    }
    function ts(b) {
        v.mP(b[0], b[1], function(b) {
            var d = b.listenerData;
            void 0 != d && (z.b(lf, d),
            v.Pa(Sn(d)));
            z.b(Xg, b)
        }, function(c) {
            k.error("Failed to update artist audio message settings.", c);
            x(c, yk, b)
        })
    }
    function us(b) {
        v.hQ(b[0], b[1], b[2], function(b) {
            k.info("returned startRedeemPaypalBackedGift.");
            z.b(Bk, b)
        }, function(c) {
            k.error("Failed startRedeemPaypalBackedGift.", c);
            x(c, Ak, b, $h, c)
        })
    }
    function vs(b) {
        v.AF(b[0], b[1], function(b) {
            k.info("returned completeRedeemPaypalBackedGift.");
            z.b($f, b)
        }, function(c) {
            k.error("Failed completeRedeemPaypalBackedGift.", c);
            x(c, Ck, b, ai, c)
        })
    }
    function ws(b) {
        v.mO(b[0], b[1], b[2], b[3], b[4], b[5], b[6], b[7], b[8], b[9], function(b) {
            v.Pa(Sn(b));
            z.b($f, b)
        }, function(c) {
            var d = Nb();
            if (c.code == m.d.Pn() || c.code == m.d.Qn() || c.code == m.d.FB() || c.code == m.d.nu())
                d = c.message;
            k.error("Failed to redeem credit-card backed gift.", c);
            x(c, zk, b, Zh, d)
        })
    }
    function xs(b) {
        var c = b[0];
        v.SN(c, b[1], b[2], b[3], function(b) {
            k.debug("callback fired for success");
            z.b(Gk, [b, c])
        }, function(b) {
            z.b(Hk, b)
        })
    }
    ;function ys(b, c) {
        this.wd = b;
        this.wd["class"] = "Track";
        this.h = c;
        this.k = "ArtistMessage" == this.wd.trackType ? new Bo(b,zs(b.audioURL),zs(b.audioReceiptURL)) : "LiveStream" == this.wd.trackType ? new Jn(b) : "IntroductoryMessage" === this.wd.trackType && c.Ha() ? new Co(b,zs(b.audioURL),zs(b.audioReceiptURL)) : new Fn(b,zs(b.audioURL),zs(b.audioReceiptURL));
        this.Sb = b.audioTokenId;
        this.Is = b.isSeed;
        this.Vt = b.userSeed;
        this.NA = b.trackToken;
        this.Zz = this.Na = this.tb = !1;
        this.qj = null ;
        this.ye() && (z.pe().li = 2)
    }
    f = ys.prototype;
    f.load = function() {
        null == this.g && (this.g = As(this));
        this.g instanceof Bs || this.g.pL ? this.g.load(this.Ml(), this.Sc(), this.cL) : this.k instanceof Jn && this.g.load(this)
    }
    ;
    f.Pe = function(b, c) {
        null != this.g && this.g.Pe(b, c)
    }
    ;
    f.play = function() {
        this.Na = !0;
        null == this.g && this.load();
        this.Pe(this.nc());
        this.g.play()
    }
    ;
    f.stop = function() {
        null != this.g && (this.g.stop(),
        this.g = null )
    }
    ;
    f.Ah = function() {
        this.Na ? this.g.Ah() : this.play()
    }
    ;
    f.pause = function(b) {
        this.g && this.g.pause(b)
    }
    ;
    f.suspend = function() {
        null != this.g && (this.g.kf(r(this, function() {
            this.g && this.g.kf(null );
            this.h && !this.h.active && this.h.Kh()
        })),
        this.g.suspend())
    }
    ;
    f.Be = function(b) {
        if (this.k && !this.k.di && this.k.Rk && this.g) {
            var c = this.Vc() || this.g.totalTime || 0
              , d = this.g.Ff()
              , c = c - d;
            (this.h.jh() || "thumbed_down" === b || "skipped" === b) && "discarded" !== b && Cs(this, b, d);
            z.b(We, {
                reason: b,
                audio_token: this.Sb,
                elapsed_seconds: d,
                remaining_seconds: 0 <= c ? c : 0,
                track: this
            });
            this.k.di = !0
        }
    }
    ;
    function Ds(b) {
        b.k.di && b.Zz && b.h.jh() && Cs(b, "completed", b.g.Ff());
        b.k && !b.k.di && b.k.Rk && b.g && (z.b(We, {
            reason: "completed",
            audio_token: b.Sb,
            elapsed_seconds: b.g.totalTime ? b.g.totalTime : 0,
            remaining_seconds: 0,
            track: b
        }),
        b.k.di = !0)
    }
    function Es(b) {
        b.k && !b.k.Rk && (z.b(Xe, {
            is_prefetch: !1,
            audio_token: b.Sb
        }),
        b.k.Rk = !0)
    }
    f.r = function() {
        return this.h
    }
    ;
    f.o = function() {
        return this.k.o()
    }
    ;
    f.Ox = function() {
        return this.Vt
    }
    ;
    f.Za = function() {
        return this.NA
    }
    ;
    f.Vc = function() {
        return this.k.Vc()
    }
    ;
    f.jL = function() {
        return this.k instanceof Bo
    }
    ;
    function Fs(b) {
        return b.k instanceof Jn
    }
    f.ye = function() {
        return this.k.ye()
    }
    ;
    f.nc = function() {
        return this.k instanceof Fn ? this.k.nc() : 0
    }
    ;
    f.Ml = function() {
        return this.k.Ml()
    }
    ;
    f.Sc = function() {
        return this.k instanceof Fn ? this.k.Sc() : null
    }
    ;
    f.Ly = function() {
        return !1
    }
    ;
    function zs(b) {
        if (null != b) {
            var c = b.substr(b.length - 48, 48);
            b = b.substr(0, b.length - 48);
            b += v.Vz.decrypt(c)
        }
        return b
    }
    function Cs(b, c, d) {
        if ("undefined" !== typeof b.k.cv) {
            d |= 0;
            var e = zs(b.k.cv);
            c = Gs(c);
            $.ajax({
                type: "GET",
                url: e + ("&reason=" + c + "&sec=" + d),
                dataType: "jsonp",
                success: r(b, function() {
                    this.Zz = !0
                })
            })
        }
    }
    function Gs(b) {
        if ("completed" === b)
            return 0;
        if ("skipped" === b)
            return 1;
        if ("station_changed" === b)
            return 2;
        if ("thumbed_down" === b)
            return 3;
        if ("error" === b)
            return 4;
        if ("discarded" === b)
            return 5;
        if ("expired" === b)
            return 6;
        k.warn("Unidentified skip reason: " + b);
        return 7
    }
    function Hs(b, c) {
        Fs(b) && (s("live_tracking", {
            station_id: b.r().e(),
            track_token: b.Za(),
            track_start: (new Date(1E3 * c)).format("yyyy-mm-dd HH:MM:ss", !0),
            event_type: "start",
            platform: "web",
            vendor_id: u,
            device_code: we,
            app_version: z.ba,
            device_os: se(),
            client_timestamp: (new Date).format("yyyy-mm-dd HH:MM:ss", !0)
        }, v.i),
        dn({
            trackToken: b.Za(),
            stationId: b.r().e(),
            start: c
        }),
        en({
            trackToken: b.Za(),
            stationId: b.r().e(),
            seconds: 1
        }),
        b.qj = setInterval(r(b, function() {
            en({
                trackToken: this.Za(),
                stationId: this.r().e(),
                seconds: Ed() - c
            })
        }), 1E4))
    }
    function Is(b, c, d, e, h) {
        Fs(b) && (s("live_tracking", {
            station_id: b.r().e(),
            track_token: b.Za(),
            track_start: (new Date(1E3 * c)).format("yyyy-mm-dd HH:MM:ss", !0),
            track_end: (new Date(1E3 * d)).format("yyyy-mm-dd HH:MM:ss", !0),
            elapsed_seconds: e,
            event_type: "end",
            platform: "web",
            vendor_id: u,
            device_code: we,
            app_version: z.ba,
            device_os: se(),
            client_timestamp: (new Date).format("yyyy-mm-dd HH:MM:ss", !0),
            bitrate: h
        }, v.i),
        null != b.qj && (clearInterval(b.qj),
        b.qj = null ),
        vm(im),
        vm(jm))
    }
    ;function Js(b) {
        this.url = b;
        this.k = {}
    }
    Js.prototype = Object.create(ys.prototype);
    Js.prototype.Sc = function() {
        return "m4a"
    }
    ;
    Js.prototype.ye = function() {
        return !0
    }
    ;
    function P(b) {
        this.qh = b.isNew;
        this.Ud = !1;
        this.Fe = this.ms = null ;
        this.Cc = !1;
        this.I = [];
        this.active = !1;
        this.Je = this.Rg = this.paused = !0;
        this.Oc = this.Ib = this.Ee = !1;
        this.bn = !0;
        this.pr = null ;
        this.stationData = this.n = new un(b);
        this.Tp = null ;
        this.Bf = Ks;
        this.xx = this.Cp = 0;
        this.H = this.t = null ;
        this.ls = 0;
        this.Zd = {};
        this.Ry = this.gn = null ;
        this.Re = !1;
        this.Cw = b.checksum;
        Ls[this.e()] = this;
        this.js();
        z.c(Pk, r(this, this.eM));
        z.yh(Vk, r(this, this.PD));
        this.Om(Ee, "app_start", this.xc);
        this.Om(jg, "station_changed", this.xc);
        this.Om(Re, "station_created", this.xc);
        this.Om(Uk, "video_ad", this.xc)
    }
    var tq, Ks, Ms;
    (function(b) {
        function c(b, c, d) {
            var q = F.Pi(c);
            c && !F.mf || q || !F.oh() ? (b.os(q),
            d()) : (b.Re = !0,
            setTimeout(function() {
                b.Re && (b.Re = !1,
                d())
            }, e),
            /* #TAG */
            k.debug("Station: Waiting for ad to load before playing next track."))
        }
        function d(b, c, d) {
            var q = !c || F.mf
              , t = F.vH()
              , y = [];
            for (0 < t && k.debug("Chronos - we're about to cycle through " + t + " ads."); 0 < t; ) {
                var E = F.Pi(c);
                y.unshift(E);
                t--
            }
            _.each(y, function(c) {
                null !== c && (q && !c && F.oh() ? (b.Re = !0,
                setTimeout(function() {
                    b.Re && (b.Re = !1,
                    d())
                }, e),
                k.debug("Chronos - Station: Waiting for ad to load before playing next track.")) : (k.debug("Chronos - pushing audio ad onto playlist (1)... "),
                b.os(c)))
            });
            d()
        }
        var e = 3E3;
        P.prototype.Om = function(b, c, d) {
            z.c(b, r(this, _.bind(function(b) {
                d(b)
            }, this, c)))
        }
        ;
        P.prototype.js = function() {
            var b = wl ? qm(tm(Tl, this.e())) : null
              , c = wl ? qm(tm(Ul, this.e())) : null ;
            if (null != b || null != c)
                "AudioAdTrack" != b["class"] || this.La() ? this.La() || (c && this.Zo(c, !0),
                b && this.Zo(b, !1)) : (b = new Ns(b,this),
                this.I.push(b),
                F.vs())
        }
        ;
        P.prototype.Zo = function(b, c, d) {
            c = Sm(b.musicId, this.e(), c);
            null == c && (c = 0);
            b = new ys(b,this);
            b.cL = c;
            b.k.Co = !0;
            d ? this.I.splice(d, 0, b) : this.I.push(b);
            this.xn(b.nc())
        }
        ;
        P.prototype.update = function(b) {
            this.qh = b.isNew;
            this.n.update(b)
        }
        ;
        Ks = 1E3;
        Ms = !1;
        P.prototype.fH = function() {
            return this.active ? this.t : null
        }
        ;
        P.prototype.jh = function() {
            return this.active && !this.paused
        }
        ;
        P.prototype.suspend = function() {
            k.info("Station.suspend", this.ca());
            this.active = !1;
            null != this.t && this.t.suspend()
        }
        ;
        P.prototype.nL = function() {
            return null != this.t
        }
        ;
        P.prototype.start = function(b, c) {
            _.isUndefined(c) && (c = !0);
            this.Ib ? (k.warn("Tried to start a station that is pending a restart. (Call restart() instead.)"),
            this.qf(!0, !1)) : this.Zj(b, c)
        }
        ;
        P.prototype.Sz = function() {
            this.Zj(null , !1)
        }
        ;
        P.prototype.Zj = function(b, c) {
            _.isUndefined(c) && (c = !0);
            k.info("Station.start", this.ca(), this);
            this.active = !0;
            this.paused = !1;
            b ? (this.Ib = this.Ee = this.Oc = !1,
            this.I = [],
            this.paused = !1,
            this.t && (this.Be("skipped"),
            z.b(cf, this.t.k)),
            this.wc(r(this, function() {
                this.oa(c)
            }), b)) : this.bj() ? (this.I = [],
            this.wc(r(this, function() {
                this.oa(c)
            }))) : null == this.t || this.Ib ? (this.Ib = !1,
            0 == this.I.length ? this.wc(r(this, function() {
                this.oa(c)
            })) : this.oa(c)) : this.lk()
        }
        ;
        P.prototype.Ez = function() {
            this.active && (0 == this.I.length ? this.wc() : this.gB(r(this, function() {
                this.I = [];
                this.wc()
            }), null ))
        }
        ;
        P.prototype.Dz = function() {
            this.active && F.oh()
        }
        ;
        P.prototype.oa = function(b, c) {
            _.isUndefined(b) && (b = !0);
            c = c || "Normal";
            0 == this.I.length && (this.Oc = !0);
            this.active && (this.Cc = !0,
            this.pr = !this.t || this.t.k instanceof Hn || this.t.k.Ic ? null : this.t.o(),
            this.H = this.t,
            this.Kh(),
            this.Ee ? (this.Ee = this.Oc = !1,
            this.Ib = !0,
            this.Je ? z.b(vg, this.e()) : this.qf(!1, !1)) : Os({
                userInitiated: b
            }, r(this, function(d) {
                d && d.siteLocked ? this.Fg(b, c) : this.px(b, r(this, function() {
                    this.Fg(b, c)
                }))
            })))
        }
        ;
        P.prototype.yD = function() {
            if (!this.H)
                return !1;
            var b = this.H.k;
            return b instanceof Bo || b instanceof Co
        }
        ;
        P.prototype.sD = function(b, c) {
            if (!this.Rg)
                return !1;
            this.Rg = !1;
            if (this.La()) {
                var d;
                d = C.Ca() ? function(b) {
                    if (b) {
                        k.debug("Chronos - adding " + b.length + " in-station ads to beginning of playlist");
                        for (var d = 0; d < b.length; d++) {
                            var e = b[d];
                            e.h = this;
                            this.I.splice(d, 0, e)
                        }
                    }
                    c()
                }
                : function(b) {
                    b && !b.k.Ow && (b.h = this,
                    this.I.splice(0, 0, b));
                    c()
                }
                ;
                F.Rl(b, r(this, d))
            } else
                c();
            return !0
        }
        ;
        P.prototype.px = function(b, e) {
            this.sD(b, e) || (this.yD() ? (k.info("Not loading audio ad, because a station audio message just played"),
            e()) : C.Ca() ? d(this, b, e) : c(this, b, e))
        }
        ;
        P.prototype.XP = function() {
            this.t.k instanceof Hn && this.oa(!1)
        }
        ;
        P.prototype.Fg = function(b, c) {
            if (this.active)
                if (0 < this.I.length) {
                    var d = this.I.shift();
                    d.k instanceof zo && (this.qc() && F.WK(this.e()),
                    this.xc("audio_ad"));
                    if (d.k instanceof Bo) {
                        if (null != Ps) {
                            k.info("Discarding artist audio message because we are in a value exchange");
                            this.oa(!1);
                            return
                        }
                        if (Ms) {
                            k.info("Discarding artist audio message because a video ad just played");
                            this.oa(!1);
                            return
                        }
                        if (this.H && this.H.k instanceof zo) {
                            k.info("Discarding artist audio message because an audio ad just played");
                            this.oa(!1);
                            return
                        }
                        this.xc("non_ad_interruption");
                        D.QG()
                    }
                    Ms = !1;
                    d instanceof Ns || this.pm(d) ? (this.t = this.Zd[d.o()] = d,
                    d = this.t.k,
                    this.Ry = d.Za() ? d.Za() : null ,
                    this.lk(),
                    this.paused || (Es(this.t),
                    this.t.load(),
                    this.t.play()),
                    this.Cc = !1,
                    d.Sj(b)) : (k.info("Dumping Track - it doesn't belong on the current station"),
                    this.oa(!1))
                } else
                    b && (this.bn = !0),
                    this.wc(r(this, function() {
                        this.oa(b)
                    }), null , c)
        }
        ;
        P.prototype.os = function(b) {
            b && (b.h = this,
            this.I.splice(0, 0, b))
        }
        ;
        P.prototype.eM = function() {
            this.Re && (this.Re = !1,
            k.debug("Chronos - pushing ad to playlist (2) ... "),
            this.os(F.Pi(!1)),
            this.Fg(!1),
            k.debug("Station: The ad we were waiting for was loaded."))
        }
        ;
        P.prototype.PD = function() {
            Ms = !0
        }
        ;
        P.prototype.Sr = function(b) {
            if (b == m.d.Bu()) {
                b = $.isEmptyObject(this.Zd);
                var c = this.Ra();
                this.Je && b && c ? (this.Je = !1,
                this.wc(r(this, function() {
                    this.oa(!1)
                }))) : !c || b || this.bn ? this.qf(!1, b) : this.Ee = !0
            } else
                b == m.d.wk() ? z.b(Oh) : b == m.d.Se() ? z.b(ck) : this.handleError()
        }
        ;
        P.prototype.qf = function(b, c, d) {
            var e = r(this, function() {
                !c && this.Ra() && (this.Ib = !0);
                F.FO(this);
                var b = $.extend({}, {
                    stationStart: c,
                    isOnDemand: this.Ra(),
                    stationId: this.e()
                });
                z.b(Nh, b);
                z.b(gi);
                d && d()
            });
            b ? Qs(new Rs({
                initiateEvent: af,
                eventArgs: {},
                responseEvent: bf,
                callback: e
            })) : e()
        }
        ;
        P.prototype.Bm = function(c) {
            this.I = _.reject(this.I, function(b) {
                return b.tb ? (b.stop(),
                !0) : !1
            });
            null != this.t && this.t.tb && (re({
                msg: c,
                ua: navigator.userAgent,
                flash_ver: te(),
                browser: se(),
                site_version: b._pandoraVersion
            }),
            this.t.pause(),
            this.Kh());
            this.handleError()
        }
        ;
        P.prototype.th = function(b, c) {
            this.Bf = Ks;
            if (-1 == b.k.ie) {
                var d = this.ls++;
                b.k.ie = d
            }
            this.active && D.th(b);
            this.hs(b, c);
            this.xr()
        }
        ;
        P.prototype.hs = function(b, c) {
            if (b == this.t && b != this.VN) {
                var d = b.wd;
                d.narrative = null ;
                0 == c ? c = 600 : this.VN = b;
                if (b.k instanceof Bo && b.k.we()) {
                    if (wl) {
                        var e = 1E3 * c;
                        rm(tm(Ul, this.e()), d, e)
                    }
                } else
                    wl && (e = 1E3 * c,
                    rm(tm(Tl, this.e()), d, e))
            }
        }
        ;
        P.prototype.handleError = function() {
            null == this.Tp && (this.Tp = setTimeout(r(this, this.LO), this.Bf),
            3E4 > this.Bf && (this.Bf *= 1.5,
            3E4 < this.Bf && (this.Bf = 3E4)))
        }
        ;
        P.prototype.LO = function() {
            this.Tp = null ;
            null == this.t && this.oa(!1)
        }
        ;
        P.prototype.lk = function(b) {
            if (this.active && null != this.t) {
                var c = this.t.nc();
                null == c && (c = this.Cp);
                this.t.Pe(c, b)
            }
        }
        ;
        P.prototype.play = function() {
            this.paused = !1;
            this.active && (null != this.t ? (this.t.Ah(),
            this.xc("resume")) : this.Ib && this.start())
        }
        ;
        P.prototype.pause = function(b) {
            this.paused = !0;
            this.active && null != this.t && this.t.pause(b)
        }
        ;
        P.prototype.xo = function(b) {
            b ? this.Be("error") : this.Be("skipped");
            this.Vs() && !b ? this.mv("Skip") : (this.paused = !1,
            this.oa(!b));
            z.b(cf, this.t ? this.t.k : null )
        }
        ;
        P.prototype.Yj = function(b, c) {
            b = !!b;
            if (this.active && this.Ib)
                this.start();
            else if (this.active && !this.Cc && (this.ML(),
            this.xc("track_skipped"),
            b || this.qw())) {
                this.SG();
                this.pause();
                var d = this.t && this.t.k instanceof Bo;
                b || d ? this.xo(b) : (d = "skip",
                c && (d = "tired"),
                C.Ca() && this.qc() ? F.Rl(!0, r(this, function(c) {
                    if (c) {
                        k.debug("Chronos - adding " + c.length + " in-station ads to beginning of playlist after skip", this, this.I);
                        for (var d = 0; d < c.length; d++) {
                            var e = c[d];
                            e.h = this;
                            this.I.splice(d, 0, e)
                        }
                    }
                    this.xo(b)
                })) : Ss(d, _.bind(this.xo, this, b)))
            }
        }
        ;
        P.prototype.qw = function(b) {
            if (this.Ra())
                return !0;
            var c = this.t ? this.t.k : null ;
            if (c && c.OC)
                return !0;
            if ((null == v.i || 0 <= v.i.Bg) && Om() >= (null != v.i && null != v.i.Bg ? v.i.Bg : 24))
                return b || z.b(oh),
                !1;
            if (Ts(this))
                return b || z.b(nh),
                !1;
            Us(this);
            b = Mm(this.e());
            Nm(this.e(), b + 1);
            Qm(Om() + 1);
            return !0
        }
        ;
        P.prototype.wc = function(b, c, d) {
            d = d || "Normal";
            this.Fe = b;
            if (this.Ud)
                if (c && this.gn !== c)
                    this.ms.cancel();
                else
                    return;
            this.Ud = !0;
            this.gn = c ? c : null ;
            this.ms = v.nH(this, this.qh, 0 == this.ls, this.Ry, this.gn, d, r(this, function(b) {
                this.gn = this.ms = null ;
                var c = this
                  , d = null ;
                b.checksum && this.aA(b.checksum);
                var e = b.tracks
                  , h = !1
                  , l = !1;
                $.each(e, r(this, function(b, e) {
                    var p = new ys(e,c);
                    0 == b && this.Ra() && 0 < this.ls && p.o() == this.pr ? d = p : (c.I.push(p),
                    c.xn(p.nc()));
                    p.k instanceof Bo && (h = !0,
                    p.k.we() && (l = !0))
                }));
                if (c.bj())
                    if (h) {
                        if (c.qF(),
                        l) {
                            var p = wl ? qm(tm(Tl, this.e())) : null ;
                            p && this.Zo(p, !1, 1)
                        }
                    } else
                        z.b(ci);
                null != d && (c.I.push(d),
                c.xn(d.nc()));
                this.Ud = !1;
                this.qh && 0 < this.I.length && (this.Pt(),
                this.qh = !1);
                this.Fe && (this.Fe(),
                this.Fe = null );
                this.bn = this.Je = !1;
                Vs(e[0]);
                if (b.shouldLogDisplayAds) {
                    if (b.stationAdParams)
                        var pa = this.PA(b.stationAdParams);
                    if (b.listenerAdParams)
                        var Ia = this.PA(b.listenerAdParams);
                    b = $.extend({}, pa, Ia);
                    b = C.AQ(b);
                    e = C.Wg();
                    "" != b && "" != e && s("ad_urls_comparing", {
                        server_ad_url: b,
                        client_ad_url: e,
                        ad_type: "display"
                    }, v.i)
                }
            }), r(this, function(b) {
                k.warn("Station.loadPlaylist got ERROR on playlist", b);
                this.Ud = !1;
                this.Sr(b instanceof Dd ? b.code : null )
            }))
        }
        ;
        P.prototype.Pt = function() {
            var b = null
              , c = this.I[0];
            c.Is || (this.Ha() ? k.info("no narrative for Thumbprint Station's introductory message") : null != this.wa().song ? b = '"' + this.wa().song.songTitle + '"' : null != this.wa().nonGenomeStation ? b = '"' + this.wa().nonGenomeStation.stationName + '"' : null != this.wa().artist ? b = this.wa().artist.artistName : k.error("Unknown initial seed type", this.wa()));
            null != b && 0 < b.length && (c.k.Dv = b)
        }
        ;
        P.prototype.Zk = function() {
            k.info("Station.audioPlayerLost");
            this.Kh()
        }
        ;
        P.prototype.Kh = function() {
            null != this.t && (this.t.stop(),
            this.t = null )
        }
        ;
        P.prototype.xn = function(b) {
            null != b && (this.Cp = (this.xx * this.Cp + b) / ++this.xx)
        }
        ;
        P.prototype.HA = function(b) {
            this.gi(b, !0)
        }
        ;
        P.prototype.Ct = function(b) {
            this.xc("thumbs_down");
            this.gi(b, !1)
        }
        ;
        P.prototype.dG = function(b) {
            this.vl(b, !0)
        }
        ;
        P.prototype.cG = function(b) {
            this.vl(b, !1)
        }
        ;
        P.prototype.gi = function(b, c) {
            var d = this.Zd[b]
              , e = c ? "thumbs_up" : "thumbs_down";
            if (null != d) {
                var t = D.Uc(this.If(d));
                t && t.La() && t.re() == m.Fc.Ve() ? this.my(d) : !this.Z() && !this.D() || this.D() && !t.Z() ? z.b(kg, {
                    event: c ? ii : ji,
                    musicId: d.o(),
                    stationId: this.If(d)
                }) : (this.Uy(e, this.If(d)),
                v.gi(this, d, c, r(this, function(b) {
                    this.active && z.b(df, {
                        track: b.k,
                        stationId: this.e()
                    });
                    -1 == b.k.Lc && this.my(b)
                }), function(b) {
                    z.b(hh, b)
                }))
            }
        }
        ;
        P.prototype.vl = function(b, c) {
            var d = this.Zd[b];
            if (null != d) {
                var e = D.Uc(this.If(d));
                e && e.La() && e.re() == m.Fc.Ve() || !this.Z() && !this.D() || this.D() && !e.Z() || v.vl(this, d, c, r(this, function(b) {
                    this.active && z.b(df, {
                        track: b.k,
                        stationId: this.e()
                    });
                    0 != b.k.Lc && k.error("ERROR: unThumb didn't result in 0 rating.")
                }), function(b) {
                    z.b(ih, b)
                })
            }
        }
        ;
        P.prototype.my = function(b) {
            b == this.t && this.active && !this.Cc && (this.qw(!0) ? (this.Be("thumbed_down"),
            this.mv("ThumbDown")) : z.b(ph))
        }
        ;
        P.prototype.mv = function(b) {
            this.Gl();
            this.paused = !1;
            this.oa(!0, b)
        }
        ;
        P.prototype.destroy = function() {
            z.pa(this);
            this.Gl();
            this.Zd = {};
            var b = Ws[this.e()];
            b && clearInterval(b);
            Ws[this.e()] = null
        }
        ;
        P.prototype.Gl = function(b) {
            b || (this.Kh(),
            $.each(this.I, function(b, c) {
                c.Be("discarded");
                c.stop()
            }));
            this.I = []
        }
        ;
        P.prototype.SG = function() {
            if (1 <= this.I.length && this.I[0].k instanceof Bo) {
                var b = this.I[0].k.eD;
                "AFTER_TRACK" != b && "AFTER_OTHER_ARTIST_TRACK" != b || this.I.splice(0, 1)
            }
        }
        ;
        P.prototype.RG = function() {
            this.I = _.reject(this.I, function(b) {
                return b.k instanceof Bo
            })
        }
        ;
        P.prototype.gB = function(b, c) {
            this.bm() && v.lR(this.e(), this.kq(), r(this, function(d) {
                d && d.updateNeeded ? (this.aA(d.checksum),
                b()) : c && c()
            }), c)
        }
        ;
        P.prototype.Uy = function(b, c) {
            s("playback_interactions", {
                action: b,
                station_id: c,
                control_source: "web_playback_controls",
                user_initiated: !0,
                vendor_id: u,
                device_code: we,
                app_version: z.ba,
                device_os: se(),
                client_timestamp: (new Date).format("yyyy-mm-dd HH:MM:ss", !0)
            }, v.i)
        }
        ;
        P.prototype.xc = function(b) {
            this.al || (this.bl = Fd(),
            this.al = b,
            /* #TAG */
            k.debug("Start timer to track time to audio for " + this.al + " at " + this.bl))
        }
        ;
        P.prototype.xr = function() {
            if (this.bl) {
                var b = Fd() - this.bl
                  , c = this.al;
                k.info("Time to audio for " + c + " is " + b);
                v.i.Vy && s("time_to_music_web", {
                    action: c,
                    time_to_music_msec: b,
                    vendor_id: u,
                    device_id: we,
                    app_version: z.ba,
                    browser: se(),
                    client_timestamp: (new Date).format("yyyy-mm-dd HH:MM:ss", !0)
                }, v.i);
                this.al = this.bl = null
            }
        }
        ;
        P.prototype.ML = function() {
            try {
                if (k.info("in log skip"),
                null != this.t) {
                    var b = this.t.k;
                    if (null != b) {
                        var c = null == v.i || 0 <= v.i.Bg ? Om() >= (null != v.i && null != v.i.Bg ? v.i.Bg : 24) : !1
                          , d = Ts(this);
                        s("tuner_skips", {
                            song_uid: b.o(),
                            user_seed: b.Ox(),
                            station_id: b.e(),
                            a4: this.t && this.t.g ? this.t.g.elapsedTime : 0,
                            skip_successful: !c && !d,
                            out_of_station_skips: d,
                            redesign: "true"
                        }, null );
                        s("skip_limit", {
                        	/* #TAG */
                            station_id: b.e(),
                            at_station_skip_limit: d,
                            at_daily_skip_limit: c,
                            vendor_id: u,
                            device_code: we,
                            app_version: z.ba,
                            device_os: se(),
                            client_timestamp: (new Date).format("yyyy-mm-dd HH:MM:ss", !0)
                        }, v.i);
                        this.Uy("skip", b.e());
                        var e = Mm(b.e())
                          , t = Om();
                        6 != e && 24 != t || s("skip_limit_experiment", {
                            station_id: b.e(),
                            hourly_station_skip_count: e,
                            daily_skip_count: t,
                            vendor_id: u,
                            device_id: we,
                            app_version: z.ba,
                            device_os: se(),
                            client_timestamp: (new Date).format("yyyy-mm-dd HH:MM:ss", !0)
                        }, v.i)
                    }
                }
            } catch (y) {
                trackJs.track(y)
            }
        }
        ;
        P.prototype.Be = function(b) {
            null != this.t && this.t.Be(b)
        }
        ;
        P.prototype.PA = function(b) {
            b = b.split("&");
            for (var c = {}, d = 0; d < b.length; d++) {
                var e = b[d].split("=");
                e[0] && e[1] && (c[e[0]] = e[1])
            }
            return c
        }
        ;
        P.prototype.e = function() {
            return this.n.e()
        }
        ;
        P.prototype.Jd = function() {
            return this.n.Jd()
        }
        ;
        P.prototype.If = function(b) {
            return this.D() ? b.k.e() : this.e()
        }
        ;
        P.prototype.pm = function(b) {
            b = this.If(b);
            return this.D() ? ke(this.qe(), b) : b == this.e()
        }
        ;
        P.prototype.Tl = function() {
            return this.Z() && this.D()
        }
        ;
        P.prototype.Z = function() {
            return this.n.Z()
        }
        ;
        P.prototype.Vl = function() {
            return this.n.Vl()
        }
        ;
        P.prototype.D = function() {
            return this.n.D()
        }
        ;
        P.prototype.qe = function() {
            return this.n.qe()
        }
        ;
        P.prototype.Vm = function(b) {
            this.n.Vm(b)
        }
        ;
        P.prototype.Ha = function() {
            return this.n.Ha()
        }
        ;
        P.prototype.qq = function() {
            return this.n.qq()
        }
        ;
        P.prototype.ah = function(b) {
            return this.Zd[b]
        }
        ;
        P.prototype.Df = function() {
            return this.n.Df()
        }
        ;
        P.prototype.Gf = function() {
            return this.n.Gf()
        }
        ;
        P.prototype.Ql = function() {
            return this.n.Ql()
        }
        ;
        P.prototype.Ll = function() {
            return this.n.Ll()
        }
        ;
        P.prototype.ca = function() {
            return this.n.ca()
        }
        ;
        P.prototype.wa = function() {
            return this.n.wa()
        }
        ;
        P.prototype.gr = function() {
            return this.n.gr()
        }
        ;
        P.prototype.Ra = function() {
            return this.n.Ra()
        }
        ;
        P.prototype.re = function() {
            return this.n.re()
        }
        ;
        P.prototype.Qi = function() {
            return this.n.Qi()
        }
        ;
        P.prototype.Zg = function() {
            return this.n.Zg()
        }
        ;
        P.prototype.La = function() {
            return this.n.La()
        }
        ;
        P.prototype.oA = function() {
            return !this.La()
        }
        ;
        tq = function(b) {
            return b.promotedStationCampaignId ? new Xs(b) : b.isCustomContentStation ? new Ys(b) : new P(b)
        }
        ;
        P.prototype.Db = function() {
            return this.n.Db()
        }
        ;
        P.prototype.Tb = function() {
            return this.n.Tb()
        }
        ;
        P.prototype.qc = function() {
            return this.n.qc()
        }
        ;
        P.prototype.jp = function() {
            return this.n.jp()
        }
        ;
        P.prototype.Vs = function() {
            return this.n.Vs()
        }
        ;
        P.prototype.bm = function() {
            return this.n.bm()
        }
        ;
        P.prototype.aA = function(b) {
            this.Cw = b
        }
        ;
        P.prototype.kq = function() {
            return this.Cw
        }
        ;
        P.prototype.bj = function() {
            return this.n.bj()
        }
        ;
        P.prototype.oq = function() {
            return this.n.oq()
        }
        ;
        P.prototype.nq = function() {
            return this.n.nq()
        }
        ;
        P.prototype.qF = function() {
            this.n.Ps(null );
            this.n.Os(null )
        }
        ;
        P.prototype.Ps = function(b) {
            this.n.Ps(b)
        }
        ;
        P.prototype.Os = function(b) {
            this.n.Os(b)
        }
    })(this);
    var D = {};
    (function(b) {
        function c(b) {
            0 < D.ea.length && lp();
            D.ea.push.apply(D.ea, b)
        }
        function d(b) {
            var c = b.station;
            c && c.stationId && (b = _.find(D.ea, function(b) {
                return b.e() === c.stationId
            })) && b.update(c)
        }
        function e() {
            0 == D.ea.length && (D.Ik = null )
        }
        function h(b) {
            var c = b.stationId
              , d = b.stationId
              , e = b.trackToken;
            b = b.source;
            0 == c.indexOf("s") && (d = c.substr(2));
            var h = D.Uc(d);
            null == h && (h = bb(d));
            null == h ? (0 != c.indexOf("s") && (c = "sh" + c),
            e ? z.b(Ii, {
                stationCode: c,
                trackToken: e,
                source: b
            }) : z.b(Hi, {
                stationCode: c,
                source: b
            })) : (d = h.e(),
            e ? z.b(oi, {
                stationId: d,
                trackToken: e
            }) : z.b(ni, {
                stationId: d
            }))
        }
        function l(b, c) {
            var d = D.V();
            null !== d && (d.e() === b ? (c && d.start(c),
            z.b(ei)) : (z.b(jg),
            d.Be("station_changed"),
            d.suspend()))
        }
        function p(b, c, d, e) {
            var h = D.V();
            if (C.Ca()) {
                if (!d && h && c && c.e() === h.e()) {
                    k.warn("Ignoring station change to prevent a chronos ad.");
                    e();
                    return
                }
            } else if (h && h.nL()) {
                e();
                return
            }
            b ? Ss("station", e) : e()
        }
        function q(b) {
            var c = b.stationId
              , d = b.trackToken
              , e = b.userInitiated || !1;
            l(c, d);
            var h = D.Uc(c);
            h ? (b = D.V(),
            D.Ik = h,
            um(Ol, h.e()),
            z.b(ig),
            c = function() {
                h.start(d, e);
                s("change_station", {
                    station_id: h.e(),
                    new_station: Bn(h.n)
                }, v.i);
                z.b(jg)
            }
            ,
            C.Ca() && h.qc() && !h.Rg && h.e() != b.e() ? F.Rl(!0, c) : p(e, b, d, c)) : k.error("Could not find station with id", c)
        }
        function t(b) {
            q({
                stationId: b.stationId,
                trackToken: null ,
                userInitiated: b.userInitiated || !1
            })
        }
        function y(b) {
            var c = D.V();
            c.e() == b && c.Sz()
        }
        function E(b) {
            var c = D.V();
            if (null != c) {
                var d = b.noSkip;
                c.Gl(d);
                d || c.Yj(b.appSkip)
            }
        }
        function I(b) {
            var c = Td();
            if (c) {
                Tj && clearTimeout(Tj);
                var d = b.stationIdArray
                  , e = b.isExplicitSave
                  , h = b.shuffleType
                  , l = b.genre || ""
                  , d = _.filter(d, function(b) {
                    return (b = D.Uc(b)) && !b.D() && !b.Ra() && !b.qc()
                });
                c.Vm(d);
                Tj = setTimeout(function() {
                    Tj = null ;
                    v.gP(c.Vl(), d, l, e, h, function() {
                        Cb(null )
                    }, function(b) {
                        k.error("set quickmix failed: " + b.message);
                        Cb(null )
                    })
                }, RB)
            }
        }
        function N(b) {
            var c = D.V();
            null != c && c.lk(b)
        }
        function U() {
            var b = D.V();
            null != b && b.play()
        }
        function pa() {
            var b = D.V();
            null != b && (b.pause(),
            D.t = null )
        }
        function Ia(b) {
            var c = D.V();
            null != c && c.pause(b)
        }
        function fb(b) {
            b = b || {};
            var c = !!b.isTiredOfSongSkip
              , d = D.V();
            null != d && (d.bm() ? d.gB(function() {
                d.Gl();
                d.Yj(b.appSkip, c)
            }, function() {
                d.Yj(b.appSkip, c)
            }) : d.Yj(b.appSkip, c))
        }
        function gb(b) {
            b = b || {};
            b = b.artistMessageId;
            var c = D.V();
            if (null != c) {
                var d = D.t;
                null != d && d.jL() && d.k.Qb == b && c.Yj(!0, !1)
            }
        }
        function ua(b) {
            var c = D.V();
            null != c && c.HA(b)
        }
        function ta(b) {
            var c = D.V();
            null != c && c.Ct(b)
        }
        function T(b) {
            var c = D.V();
            null != c && c.dG(b)
        }
        function nb(b) {
            var c = D.V();
            null != c && c.cG(b)
        }
        function Bb(b) {
            var c = D.Uc(b[3])
              , d = D.Uc(b[0])
              , e = D.Uc(b[1])
              , h = c.D() ? c : d
              , l = h.ah(b[2]);
            l && (h && h.Ct(l.o()),
            v.gi(e, l, !0, function(b) {
                z.b(tf, [h, e, b])
            }, function() {
                z.b(Eh, l)
            }))
        }
        function tb() {
            var b = D.V();
            null != b && b.XP()
        }
        function Td() {
            return _.find(D.ea, function(b) {
                return b.Tl()
            }) || null
        }
        function bb(b) {
            return _.find(D.ea, function(c) {
                return c.Qi() === b
            }) || null
        }
        function Cb(b) {
            v.BH(function(c) {
                c = new P(c);
                var d;
                a: {
                    for (d = 0; d < D.ea.length; d++)
                        if (D.ea[d].Tl())
                            break a;
                    d = -1
                }
                0 > d && D.ea.push(c);
                null != b && b(c.n);
                z.b(Te, {
                    quickMixStationIds: c.qe(),
                    quickMixType: c.Vl(),
                    isComedy: c.gr()
                })
            }, function(b) {
                k.info("Could not get QuickMix from server", b)
            })
        }
        function lp() {
            D.Ik = null ;
            _.each(D.ea, function(b) {
                b.destroy()
            });
            D.ea.length = 0
        }
        var RB = 3E3
          , Tj = null ;
        D.Ik = null ;
        D.ea = [];
        D.init = function() {
            z.c(Pe, r(D, c));
            z.c(He, r(D, lp));
            z.c(Jg, r(D, d));
            z.gb(Se, r(D, e));
            z.c(mi, r(D, h));
            z.c(ni, r(D, t));
            z.c(oi, r(D, q));
            z.c(vg, r(D, y));
            z.c(fi, r(D, E));
            z.c(pi, r(D, I));
            z.c(qi, r(D, N));
            z.c(ei, r(D, U));
            z.c(bk, r(D, pa));
            z.c(gi, r(D, Ia));
            z.c(hi, r(D, fb));
            z.c(ii, r(D, ua));
            z.c(ji, r(D, ta));
            z.c(ki, r(D, T));
            z.c(li, r(D, nb));
            z.c(aj, r(D, Bb));
            z.c(ml, r(D, tb));
            z.c(Yg, r(D, gb))
        }
        ;
        D.reset = function() {
            z.pa(D);
            pa();
            lp()
        }
        ;
        D.o3 = function(b) {
            b = tq(b);
            D.ea.push(b);
            z.b(Re, b.n);
            1 == D.ea.length && Cb(function(b) {
                z.b(Re, b)
            })
        }
        ;
        D.uE = function(b) {
            var c = tq(b)
              , d = D.Uc(c.e());
            d ? d.update(b) : (D.ea.push(c),
            z.b(Re, c.n),
            1 == D.ea.length && Cb(function(b) {
                z.b(Re, b)
            }))
        }
        ;
        D.pO = function(b) {
            for (var c = 0; c < D.ea.length; c++) {
                var d = D.ea[c];
                if (d.e() == b) {
                    d.destroy();
                    D.ea.splice(c, 1);
                    d = [b];
                    if (1 == D.ea.length && D.ea[0].Tl()) {
                        var e = D.ea[0];
                        e.destroy();
                        D.ea = [];
                        d.push(e.e())
                    }
                    z.b(Se, d)
                }
            }
        }
        ;
        D.V = function() {
            return D.Ik
        }
        ;
        D.Mx = function() {
            return _.map(D.ea, function(b) {
                return b.n
            })
        }
        ;
        D.Uc = function(b) {
            return _.find(D.ea, function(c) {
                return c.e() === b
            }) || null
        }
        ;
        D.th = function(b) {
            b != D.t && (D.t = b,
            z.b(Ve, b.k))
        }
        ;
        D.QG = function() {
            _.each(D.ea, function(b) {
                b.RG()
            })
        }
        ;
        b.StationManager = D
    })(this);
    function Bs(b, c) {
        this.g = b;
        this.w = this.g.attr("id").substr(7);
        this.ip = this.seekPercent = null ;
        this.g.bind($.jPlayer.event.playing, r(this, function() {}));
        this.g.bind($.jPlayer.event.stalled, r(this, function(b) {
            ye(this.track, b, "stall detected");
            b.jPlayer.status.paused || (100 == b.jPlayer.status.seekPercent ? (qe("PLAYLOG004: JPlayer.event.stall detected. Skipping", "", "0", v.i),
            k.info("TRACK IS TRUNCATED - SKIPPING"),
            this.sh("stuck audio on fully loaded file")) : (k.info("Attempting to recover from stuck audio at ", this.Sd),
            this.jc(this.Sd)))
        }));
        this.g.bind($.jPlayer.event.timeupdate, r(this, function(b) {
            !this.Ia && this.be && 0 < b.jPlayer.status.currentTime && (k.info("*** AudioPlayer(" + this.w + "): event(timeupdate) -> willPlay == true"),
            this.be = !1,
            this.xj());
            var c = b.jPlayer.status.duration;
            b.jPlayer.flash.active && "mp3" == b.jPlayer.status.formatType && 100 > b.jPlayer.status.seekPercent && (c = this.ib);
            z.b(Ek, {
                currentTime: b.jPlayer.status.currentTime,
                duration: c
            });
            var h = Fd();
            this.Ij || this.seekPercent == b.jPlayer.status.seekPercent || (this.rr = h);
            this.seekPercent = b.jPlayer.status.seekPercent;
            if (b.jPlayer.flash.active && !b.jPlayer.status.paused && 95 > this.seekPercent && null != this.rr && 25E3 < h - this.rr)
                k.info("TRACK IS STUCK - SKIPPING"),
                qe("PLAYLOG003: Flash Player stall detected, partially loaded file, skipping", "", "0", v.i),
                this.sh("stuck audio on partially loaded file");
            else {
                if (b.jPlayer.flash.active && !b.jPlayer.status.paused)
                    if (b.jPlayer.status.currentTime == this.Sd) {
                        if (this.Lh++,
                        1 <= b.jPlayer.status.currentTime && null != this.zd && (this.zd.xt = !0),
                        1 <= b.jPlayer.status.currentTime && null != this.track && null != this.track.Sb && (null == this.ip || this.ip != this.track.Sb) && (this.ip = this.track.Sb,
                        z.b(Ye, {
                            audio_token: this.track.Sb
                        })),
                        3 == this.Lh) {
                            if (100 == b.jPlayer.status.seekPercent) {
                                h = 100 * b.jPlayer.status.currentTime / c;
                                if (99 <= h && 30 >= c) {
                                    k.info("Track is stalled near the end. Continuing with next track. Elapsed percentage: " + h);
                                    this.Lh = 0;
                                    this.hv();
                                    return
                                }
                                k.info("TRACK IS TRUNCATED - SKIPPING");
                                trackJs.console.log(["Truncated track skipping. - duration: " + c, " - currentTime: " + b.jPlayer.status.currentTime, " - elapsedPercentage: " + h + "% ", " - format: " + b.jPlayer.status.formatType].join(""));
                                qe("PLAYLOG001: Flash Player stall detected fully loaded file, skipping", "", "0", v.i);
                                this.sh("stuck audio on fully loaded file");
                                return
                            }
                            k.info("Attempting to recover from stuck audio at ", this.Sd);
                            this.jc(this.Sd);
                            this.Lh = 0
                        }
                    } else
                        this.Lh = 0;
                this.Sd = b.jPlayer.status.currentTime;
                this.yj(b.jPlayer.status.currentTime, c, b.jPlayer.status.currentPercentAbsolute);
                this.seeking && b.jPlayer.status.currentTime >= this.Da && Zs(this)
            }
        }));
        this.g.bind($.jPlayer.event.loadedmetadata, r(this, function(b) {
            k.info("*** AudioPlayer(" + this.w + "): event(loadedmetadata)");
            z.b($g);
            this.yj(b.jPlayer.status.currentTime, b.jPlayer.status.duration, b.jPlayer.status.currentPercentAbsolute);
            Zs(this)
        }));
        this.g.bind($.jPlayer.event.canplaythrough, r(this, function() {
            k.info("*** AudioPlayer(" + this.w + "): event(canplaythrough)", this.seeking, this.vh);
            Zs(this)
        }));
        this.g.bind($.jPlayer.event.progress, r(this, function(b) {
            this.seeking && 0 < this.totalTime && (k.info("*** AudioPlayer(" + this.w + "): event(progress)", this.seeking, this.totalTime),
            b.jPlayer.status.seekPercent > this.Da / this.totalTime * 100 && Zs(this))
        }));
        this.g.bind($.jPlayer.event.seeked, r(this, function() {
            k.info("*** AudioPlayer(" + this.w + "): event(seeked)");
            Zs(this)
        }));
        this.g.bind($.jPlayer.event.ended, r(this, function() {
            k.info("*** AudioPlayer(" + this.w + "): event(ended)");
            this.uj()
        }));
        this.g.bind($.jPlayer.event.error, r(this, function(b) {
            k.info("*** AudioPlayer(" + this.w + "): event(error)");
            this.sh(b)
        }));
        this.g.bind($.jPlayer.event.flashreset, r(this, function() {
            k.warn("jPlayer detected a Flash reset")
        }));
        this.g.bind($.jPlayer.event.play, r(this, function() {
            this.nf && this.nf()
        }));
        this.Od = !1;
        this.Gy && this.Gy(b, c)
    }
    f = Bs.prototype;
    f.Zf = function(b, c) {
        k.info("*** AudioPlayer(" + this.w + "): setInUse", b);
        this.Od = b;
        this.track = c;
        this.cd = b ? (new Date).getTime() : null ;
        this.ha = this.nf = null ;
        this.Fa = 0;
        this.dd = null ;
        this.tb = this.Hj = this.Jj = !1;
        this.Lh = this.Sd = 0;
        this.zd = null ;
        this.rj = !1;
        this.ib = 0;
        null != c && (c.ye() || (this.zd = new $s),
        this.ib = c.Vc())
    }
    ;
    f.xm = function() {
        var b = this.track;
        this.stop();
        b && b.r().Zk()
    }
    ;
    f.load = function(b, c, d) {
        k.info("*** AudioPlayer(" + this.w + "): load", b, c, d);
        var e = {};
        c || (c = "m4a");
        null != d && (b += "&lo=" + d);
        this.iw = b;
        e[c] = b;
        this.seekPercent = 0;
        this.rr = null ;
        this.Ij = !0;
        this.totalTime = this.elapsedTime = 0;
        this.g.jPlayer("setMedia", e);
        null != d && 0 < d ? (this.Da = d,
        this.g.jPlayer("pause", d),
        this.seeking = !0,
        this.ik = this.vh = !1,
        this.g.jPlayer("volume", 0)) : (this.Da = null ,
        this.ik = this.vh = this.seeking = !1);
        (window._isInAudioJplayerHTML5Experiment || window._isInAudioHoldoutGroup) && s("audio_track_playback_event", {
            event_type: "LOADING",
            test_group: window._isInAudioHoldoutGroup ? "holdout" : "jPlayerHtml5",
            player_type: this.Mi ? "flash" : "html5",
            listener_id: window._listenerIdFromCookie,
            audio_token_id: this.track.Sb,
            audio_type: c,
            current_time: 0,
            percent_loaded: 0,
            track_length: this.ib
        }, null );
        return this
    }
    ;
    f.Pe = function(b, c) {
        void 0 !== b && sd(b) && !isNaN(b) && (this.Fa = b);
        this.updateVolume(c)
    }
    ;
    f.updateVolume = function(b) {
        this.seeking || (b = this.rf(b),
        this.zn ? this.zn(b) : this.Gg(b))
    }
    ;
    f.Gg = function(b) {
        this.g.jPlayer("volume", b / 100);
        0 < b && (this.cd = (new Date).getTime(),
        this.Ia = !1,
        this.ac())
    }
    ;
    f.rf = function(b) {
        null == b && (b = Km() ? 0 : Jm());
        this.dd = b;
        var c = Math.round(Math.pow(10, this.Fa / 20) * b * vo());
        k.info("VOLUME--\x3e gain:", this.Fa, ", volume:", b, ", old adjusted:", Math.round(Math.pow(10, this.Fa / 20) * b), ", new adjusted:", c);
        return Math.min(100, c)
    }
    ;
    f.suspend = function() {
        k.info("*** AudioPlayer(" + this.w + "): suspend");
        this.Ia = !0;
        this.g.jPlayer("volume", 0);
        this.play();
        this.Oa();
        this.ik = !1
    }
    ;
    f.play = function() {
        k.info("*** AudioPlayer(" + this.w + "): play", this.seeking, this.Da);
        this.seeking ? this.ik = this.vh = !0 : (this.Ij = !1,
        this.ac(),
        null != this.Da ? (this.jc(this.Da),
        this.Da = null ) : this.jc())
    }
    ;
    f.stop = function() {
        k.info("*** AudioPlayer(" + this.w + "): stop");
        this.Oa();
        this.tb || this.g.jPlayer("clearMedia");
        this.Zf(!1)
    }
    ;
    f.Ah = function() {
        k.info("*** AudioPlayer(" + this.w + "): resume", this.seeking);
        this.seeking ? this.vh = !0 : (this.track.r().xc("playback_resumed"),
        this.ac(),
        this.jc())
    }
    ;
    f.pause = function(b) {
        b = !!b;
        k.info("*** AudioPlayer(" + this.w + "): pause", this.seeking);
        this.seeking ? this.vh = !1 : (this.Oa(),
        this.Cl && !b ? this.Cl() : this.g.jPlayer("pause"))
    }
    ;
    f.Vv = function(b) {
        this.nf = b
    }
    ;
    f.kf = function(b) {
        this.ha = b
    }
    ;
    f.yj = function(b, c, d) {
        b = Math.floor(b);
        0 == this.totalTime && 0 < c && (this.totalTime = Math.floor(c),
        this.Ur());
        if (b != this.elapsedTime && this.track) {
            c = Math.floor(c);
            this.elapsedTime = b;
            if (this.track.r().active) {
                z.b(ef, {
                    elapsedTime: null != this.Da ? Math.max(this.Da, b) : b,
                    totalTime: c,
                    percentPlayed: d
                });
                var e = this.track.k instanceof Bo && this.track.k.we();
                Rm(this.track.o(), this.track.r().e(), b, c, e);
                null != this.zd && this.zd.xw(b, d, this.seekPercent);
                !this.rj && 10 < this.elapsedTime && null != this.track && null != this.track.r() && null != v.i && (s("volume_setting", {
                    volume: this.dd,
                    gain: this.track.nc(),
                    multiplier: vo(),
                    station_genre: this.track.r().Df(),
                    music_id: this.track.o()
                }, v.i),
                this.rj = !0)
            }
            !this.Jj && 75 < d && 1 < z.pe().li && (this.track.r().Ez(),
            this.Jj = !0);
            !(this.Hj || this.track instanceof Ns) && (0 < this.totalTime ? this.totalTime - this.elapsedTime <= F.Du : d >= F.Cu) && (this.track.r().Dz(),
            this.Hj = !0)
        }
    }
    ;
    function Zs(b) {
        k.info("*** AudioPlayer(" + b.w + "): onSeekComplete", b.seeking, b.Ia);
        b.seeking && (b.ik && (b.Ia = !1),
        b.seeking = !1,
        b.Ia || (b.vh && b.play(),
        b.updateVolume()))
    }
    f.uj = function() {
        k.info("*** AudioPlayer(" + this.w + "): onAudioEnded", this.track);
        this.track && Ds(this.track);
        this.Oa();
        this.track && this.track.r().oa(!1);
        this.ha && this.ha()
    }
    ;
    f.sh = function(b) {
        var c = _.isObject(b) && b.jPlayer && b.jPlayer.error || {
            message: c
        };
        ye(this.track, b);
        0 !== this.Ff() || !this.track || this.track instanceof Ns || c.type === $.jPlayer.error.URL || z.b(Rh, {
            url: this.track.NE
        });
        (window._isInAudioJplayerHTML5Experiment || window._isInAudioHoldoutGroup) && s("audio_track_playback_event", {
            event_type: c.type,
            test_group: window._isInAudioHoldoutGroup ? "holdout" : "jPlayerHtml5",
            player_type: this.Mi ? "flash" : "html5",
            listener_id: window._listenerIdFromCookie,
            audio_token_id: this.track.Sb,
            audio_format: this.track.Sc(),
            current_time: this.Sd,
            percent_loaded: this.seekPercent,
            track_length: this.ib
        }, null );
        z.b(ah, c);
        k.info("*** AudioPlayer(" + this.w + "): onAudioError", this.track);
        this.tb = !0;
        this.track && (this.track.tb = !0,
        this.track.r().Bm("Attempting to pause audio player"));
        this.ha && this.ha(c)
    }
    ;
    f.xj = function() {
        k.info("*** AudioPlayer(" + this.w + "): onPlaying", this.track);
        this.track && this.track.r().th(this.track, this.totalTime);
        this.track.r().xr()
    }
    ;
    f.Ur = function() {
        k.info("*** AudioPlayer(" + this.w + "): onTotalTimeUpdated", this.track, this.totalTime);
        this.track && this.track.r().hs(this.track, this.totalTime)
    }
    ;
    f.ac = function() {
        null != this.ma || this.Ia || (this.ma = Ed())
    }
    ;
    f.Oa = function() {
        if (null != this.ma) {
            var b = Ed() - this.ma;
            this.ma = null ;
            null != v.i && this.track && this.track.r() && ro(v.i, this.track.r().e(), b)
        }
    }
    ;
    f.jc = function(b) {
        k.info("*** AudioPlayer(" + this.w + "): doPlay", b);
        this.be = !0;
        this.g.jPlayer("play", b)
    }
    ;
    f.Ff = function() {
        var b = null != this.elapsedTime ? this.elapsedTime : 0;
        null != this.Da && (b = Math.max(this.Da, b));
        return b
    }
    ;
    f.hv = function() {
        this.track && this.track.pause();
        this.uj()
    }
    ;
    function at(b) {
        this.pL = !0;
        this.g = b;
        this.w = this.g.getAttribute("id").substr(7);
        this.lp = !1;
        this.seekPercent = null ;
        this.g.addEventListener("playing", r(this, function() {}));
        this.g.addEventListener("timeupdate", r(this, function() {
            var b = this.g.duration
              , d = this.g.currentTime;
            this.track && (this.seekPercent = 100 * bt(this) / this.track.Vc());
            !this.Ia && this.be && 0 < d && (k.info("*** MediaElement(" + this.w + "): event(timeupdate) -> willPlay == true"),
            this.be = !1,
            this.xj());
            z.b(Ek, {
                currentTime: d,
                duration: b
            });
            this.Sd = d;
            this.yj(d, b, d / b * 100)
        }));
        this.g.addEventListener("loadeddata", r(this, function() {
            k.info("*** MediaElement(" + this.w + "): event(loadeddata)");
            var b = this.g.duration
              , d = this.g.currentTime;
            z.b($g);
            this.yj(d, b, d / b * 100)
        }));
        this.g.addEventListener("canplay", r(this, function() {
            k.info("*** MediaElement(" + this.w + "): event(canplay)", bt(this));
            this.Ij = !1;
            this.lp = !0;
            this.play()
        }));
        this.g.addEventListener("progress", r(this, function() {
            this.Od && k.info("*** MediaElement(" + this.w + "): event(progress)", bt(this))
        }));
        this.g.addEventListener("seeked", r(this, function() {
            k.info("*** MediaElement(" + this.w + "): event(seeked)")
        }));
        this.g.addEventListener("ended", r(this, function() {
            k.info("*** MediaElement(" + this.w + "): event(ended)");
            this.uj()
        }));
        this.g.addEventListener("error", r(this, function(b) {
            var d = null ;
            null != b && null != b.target && (d = b.target.error);
            k.info("*** MediaElement(" + this.w + "): event(error)", b);
            this.sh(d)
        }));
        this.g.addEventListener("play", r(this, function() {
            k.info("*** MediaElement(" + this.w + "): event(play)");
            this.nf && this.nf()
        }));
        this.Od = !1
    }
    f = at.prototype;
    f.Zf = function(b, c) {
        k.info("*** MediaElement(" + this.w + "): setInUse", b);
        this.Od = b;
        this.track = c;
        this.cd = b ? (new Date).getTime() : null ;
        this.ha = this.nf = null ;
        this.Fa = 0;
        this.dd = null ;
        this.tb = this.Hj = this.Jj = !1;
        this.Lh = this.Sd = 0;
        this.zd = null ;
        this.rj = !1;
        this.ib = 0;
        null != c && (c.ye() || (this.zd = new $s),
        this.ib = c.Vc())
    }
    ;
    f.xm = function() {
        var b = this.track;
        this.stop();
        b && b.r().Zk()
    }
    ;
    f.load = function(b, c, d) {
        k.info("*** MediaElement(" + this.w + "): load", b, c, d);
        c || (c = "m4a");
        null != d && (b += "&lo=" + d);
        this.iw = b;
        this.seekPercent = 0;
        this.Ij = !0;
        this.totalTime = this.elapsedTime = 0;
        this.lp = !1;
        this.g.setSrc(this.iw);
        this.g.load();
        null != d && 0 < d ? (this.Da = d,
        this.g.setVolume(0)) : this.Da = null ;
        s("audio_track_playback_event", {
            event_type: "LOADING",
            test_group: "MediaElement",
            player_type: "native" == this.g.pluginType ? "html5" : "flash",
            listener_id: window._listenerIdFromCookie,
            audio_token_id: this.track.Sb,
            audio_format: c,
            current_time: 0,
            percent_loaded: 0,
            track_length: this.ib
        }, null );
        this.g.play();
        return this
    }
    ;
    f.Pe = function(b, c) {
        void 0 !== b && sd(b) && !isNaN(b) && (this.Fa = b);
        this.updateVolume(c)
    }
    ;
    f.updateVolume = function(b) {
        b = this.rf(b);
        this.zn ? this.zn(b) : this.Gg(b)
    }
    ;
    f.Gg = function(b) {
        this.g.setVolume(b / 100);
        0 < b && (this.cd = (new Date).getTime(),
        this.Ia = !1,
        this.ac())
    }
    ;
    f.rf = function(b) {
        null == b && (b = Km() ? 0 : Jm());
        this.dd = b;
        var c = Math.round(Math.pow(10, this.Fa / 20) * b * vo());
        k.info("VOLUME--\x3e gain:", this.Fa, ", volume:", b, ", old adjusted:", Math.round(Math.pow(10, this.Fa / 20) * b), ", new adjusted:", c);
        return Math.min(100, c)
    }
    ;
    f.suspend = function() {
        k.info("*** MediaElement(" + this.w + "): suspend");
        this.Ia = !0;
        this.g.setVolume(0);
        this.play();
        this.Oa()
    }
    ;
    f.play = function() {
        k.info("*** MediaElement(" + this.w + "): play", this.seeking, this.Da);
        this.lp && (this.Ij = !1,
        this.ac(),
        null != this.Da ? (this.jc(this.Da),
        this.Da = null ) : this.jc())
    }
    ;
    f.jc = function(b) {
        k.info("*** MediaElement(" + this.w + "): doPlay", b);
        this.be = !0;
        0 < b && this.g.setCurrentTime(b);
        this.g.play()
    }
    ;
    f.stop = function() {
        k.info("*** MediaElement(" + this.w + "): stop");
        this.Oa();
        this.Zf(!1)
    }
    ;
    f.Ah = function() {
        this.track.r().xc("playback_resumed");
        this.ac();
        this.jc()
    }
    ;
    f.pause = function(b) {
        b = !!b;
        k.info("*** MediaElement(" + this.w + "): pause");
        this.Oa();
        this.Cl && !b ? this.Cl() : this.g.pause()
    }
    ;
    f.Vv = function(b) {
        this.nf = b
    }
    ;
    f.kf = function(b) {
        this.ha = b
    }
    ;
    f.yj = function(b, c, d) {
        b = Math.floor(b);
        0 == this.totalTime && 0 < c && (this.totalTime = Math.floor(c),
        this.Ur());
        if (b != this.elapsedTime && this.track) {
            c = Math.floor(c);
            this.elapsedTime = b;
            if (this.track.r().active) {
                z.b(ef, {
                    elapsedTime: null != this.Da ? Math.max(this.Da, b) : b,
                    totalTime: c,
                    percentPlayed: d
                });
                var e = this.track.k instanceof Bo && this.track.k.we();
                Rm(this.track.o(), this.track.r().e(), b, c, e);
                null != this.zd && this.zd.xw(b, d, this.seekPercent);
                !this.rj && 10 < this.elapsedTime && null != this.track && null != this.track.r() && null != v.i && (s("volume_setting", {
                    volume: this.dd,
                    gain: this.track.nc(),
                    multiplier: vo(),
                    station_genre: this.track.r().Df(),
                    music_id: this.track.o()
                }, v.i),
                this.rj = !0)
            }
            !this.Jj && 75 < d && 1 < z.pe().li && (this.track.r().Ez(),
            this.Jj = !0);
            !(this.Hj || this.track instanceof Ns) && (0 < this.totalTime ? this.totalTime - this.elapsedTime <= F.Du : d >= F.Cu) && (this.track.r().Dz(),
            this.Hj = !0)
        }
    }
    ;
    f.uj = function() {
        k.info("*** MediaElement(" + this.w + "): onAudioEnded", this.track);
        this.track && Ds(this.track);
        this.Oa();
        this.track && this.track.r().oa(!1);
        this.ha && this.ha()
    }
    ;
    f.sh = function(b) {
        var c = ct(null != b ? b.code : 0);
        k.info("*** MediaElement(" + this.w + "): onAudioError", c);
        s("audio_track_playback_event", {
            event_type: c,
            test_group: "MediaElement",
            player_type: "native" == this.g.pluginType ? "html5" : "flash",
            listener_id: window._listenerIdFromCookie,
            audio_token_id: this.track.Sb,
            audio_format: this.track.Sc(),
            current_time: this.g.currentTime,
            percent_loaded: 100 * bt(this) / this.ib,
            track_length: this.ib
        }, null );
        ye(this.track, null , c);
        0 !== this.Ff() || !this.track || this.track instanceof Ns || z.b(Rh, {
            url: this.track.NE
        });
        z.b(ah, b);
        this.tb = !0;
        this.track && (this.track.tb = !0,
        this.track.r().Bm("Attempting to pause audio player"));
        this.ha && this.ha(b)
    }
    ;
    f.xj = function() {
        k.info("*** MediaElement(" + this.w + "): onPlaying", this.track);
        this.track && this.track.r().th(this.track, this.totalTime);
        this.track.r().xr()
    }
    ;
    f.Ur = function() {
        k.info("*** MediaElement(" + this.w + "): onTotalTimeUpdated", this.track, this.totalTime);
        this.track && this.track.r().hs(this.track, this.totalTime)
    }
    ;
    f.ac = function() {
        null != this.ma || this.Ia || (this.ma = Ed())
    }
    ;
    f.Oa = function() {
        if (null != this.ma) {
            var b = Ed() - this.ma;
            this.ma = null ;
            null != v.i && this.track && this.track.r() && ro(v.i, this.track.r().e(), b)
        }
    }
    ;
    f.Ff = function() {
        var b = null != this.elapsedTime ? this.elapsedTime : 0;
        null != this.Da && (b = Math.max(this.Da, b));
        return b
    }
    ;
    function ct(b) {
        switch (b) {
        case 1:
            return "MEDIA_ERR_ABORTED";
        case 2:
            return "MEDIA_ERR_NETWORK";
        case 3:
            return "MEDIA_ERR_DECODE";
        case 4:
            return "MEDIA_ERR_SRC_NOT_SUPPORTED";
        default:
            return "UNKNOWN"
        }
    }
    function bt(b) {
        var c = 0;
        0 < b.g.buffered.length && (c = b.g.buffered.end(0));
        return c
    }
    f.hv = function() {
        this.track && this.track.pause();
        this.uj()
    }
    ;
    AudioPlayerFadeExtension = {
        Nn: 1,
        DB: 2
    };
    _.extend(Bs.prototype, {
        oe: null ,
        volume: 0.8,
        Ed: !1,
        Dl: null ,
        Mj: 50,
        Wp: 200,
        ux: 50,
        vQ: Bs.prototype.xj,
        BA: Bs.prototype.jc,
        CA: Bs.prototype.stop,
        DA: Bs.prototype.suspend,
        enabled: !1,
        Mi: !1,
        Gy: function(b, c) {
            if (this.enabled = mp("enableAudioFade"))
                this.Mj = mp("quickFadeLength"),
                this.Wp = mp("extendedFadeLength"),
                this.ux = mp("flashPlayFadeLength"),
                this.hx = mp("extendedFadeType"),
                this.Mi = c,
                this.oe = b.jPlayerFade(k.enabled),
                this.g.bind($.jPlayer.event.play, r(this, function() {
                    this.Ed && (this.g.jPlayer("volume", 0),
                    this.oe.updateVolume(0))
                }))
        },
        Cl: function() {
            this.enabled ? (this.Ed = !0,
            this.Dl = AudioPlayerFadeExtension.DB,
            this.oe.out(this.Wp, this.volume / 100, 0, function() {
                this.g.jPlayer("pause")
            }
            .bind(this), this.hx)) : this.g.jPlayer("pause")
        },
        suspend: function() {
            this.enabled ? (this.Ed = !0,
            this.Dl = AudioPlayerFadeExtension.Nn,
            this.oe.out(this.Mj, this.volume / 100, 0, function() {
                this.DA()
            }
            .bind(this))) : this.DA()
        },
        jc: function(b) {
            0 < b && (this.Ed = !0,
            this.Dl = AudioPlayerFadeExtension.Nn);
            window._isInAudioJplayerHTML5Experiment ? this.BA(b) : this.BA()
        },
        stop: function() {
            this.enabled ? (this.Ed = !1,
            this.oe.out(this.Mj, this.volume / 100, 0, function() {
                this.CA()
            }
            .bind(this))) : this.CA()
        },
        xj: function() {
            if (this.enabled && this.Ed) {
                var b, c;
                this.Dl === AudioPlayerFadeExtension.Nn ? (b = this.Mj,
                c = "linear") : (b = this.Mi ? this.ux : this.Wp,
                c = this.Mi ? "linear" : this.hx);
                this.Ed = !1;
                this.oe["in"](b, 0, this.volume / 100, null , c)
            }
            this.vQ()
        },
        zn: function(b) {
            this.enabled ? (this.volume = b,
            this.Ed && b ? (this.oe["in"](this.Mj, 0, this.volume / 100, function() {
                this.Gg(this.volume)
            }
            .bind(this)),
            this.Ed = !1) : (this.oe.updateVolume(b / 100),
            this.Gg(this.volume))) : this.Gg(b)
        }
    });
    function dt(b) {
        this.g = b;
        this.w = this.g.attr("id").substr(7);
        this.track = null ;
        this.Fa = 0;
        this.dd = null ;
        this.cd = (new Date).getTime();
        this.ha = null ;
        this.seeking = this.Ia = !1;
        this.elapsedTime = null ;
        this.be = !1;
        this.Yf = null ;
        this.yc = 0;
        this.Od = !1;
        this.g.bind($.jPlayer.event.playing, r(this, function(b) {
            k.info("*** JPlayerLivePlayer(" + this.w + "): event(playing)", b);
            et(this)
        }));
        this.g.bind($.jPlayer.event.stalled, r(this, function(b) {
            k.info("*** JPlayerLivePlayer(" + this.w + "): event(stalled)", b)
        }));
        this.g.bind($.jPlayer.event.timeupdate, r(this, function(b) {
            b = b.jPlayer.status;
            if (this.track.r().active) {
                this.be && !this.Ia && (this.be = !1,
                et(this));
                var d = Math.floor(b.currentTime);
                this.elapsedTime = d;
                z.b(ef, {
                    isLive: !0,
                    elapsedTime: d,
                    totalTime: b.duration,
                    percentPlayed: b.currentPercentAbsolute
                })
            }
        }));
        this.g.bind($.jPlayer.event.loadedmetadata, r(this, function(b) {
            k.info("*** JPlayerLivePlayer(" + this.w + "): event(loadedmetadata)", b)
        }));
        this.g.bind($.jPlayer.event.canplaythrough, r(this, function(b) {
            k.info("*** JPlayerLivePlayer(" + this.w + "): event(canplaythrough)", b)
        }));
        this.g.bind($.jPlayer.event.progress, r(this, function(b) {
            k.info("*** JPlayerLivePlayer(" + this.w + "): event(progress)", b)
        }));
        this.g.bind($.jPlayer.event.ended, r(this, function(b) {
            k.info("*** JPlayerLivePlayer(" + this.w + "): event(ended)", b)
        }));
        this.g.bind($.jPlayer.event.error, r(this, function(b) {
            k.info("*** JPlayerLivePlayer(" + this.w + "): event(error)");
            b = b.jPlayer.error;
            this.tb = !0;
            this.track && (this.track.tb = !0,
            this.track.r().Bm("JPlayerLivePlayer ERROR:" + b));
            this.ha && this.ha(b)
        }));
        this.g.bind($.jPlayer.event.flashreset, r(this, function(b) {
            k.info("*** JPlayerLivePlayer(" + this.w + "): event(flashreset)", b)
        }));
        this.g.bind($.jPlayer.event.play, r(this, function(b) {
            k.info("*** JPlayerLivePlayer(" + this.w + "): event(play)", b)
        }))
    }
    f = dt.prototype;
    f.jh = function() {
        return null != this.g && !this.g.paused
    }
    ;
    f.Zf = function(b, c) {
        k.info("*** JPlayerLivePlayer(" + this.w + "): setInUse", b);
        this.Od = b;
        this.track = c;
        this.cd = b ? (new Date).getTime() : 0;
        this.ha = null
    }
    ;
    f.load = function(b) {
        this.track = b;
        var c = b.Vc();
        b.k instanceof Jn && (c -= Ed() - b.k.Gv);
        c *= 1E3;
        null != this.g && (this.g.jPlayer("setMedia", {
            m3u8a: b.k.vD
        }),
        b = Math.min(864E5, c),
        this.yc = c - b,
        this.Yf = setTimeout(r(this, this.zj), b))
    }
    ;
    f.play = function() {
        null != this.g && this.g.jPlayer("play");
        this.be = !0
    }
    ;
    f.pause = function() {
        null != this.g && this.g.jPlayer("pause");
        this.Oa()
    }
    ;
    f.Ah = function() {
        this.play()
    }
    ;
    f.suspend = function() {
        this.Ia = !0;
        this.g.jPlayer("volume", 0);
        this.play();
        this.Oa();
        this.ik = !1
    }
    ;
    f.stop = function() {
        null != this.g && this.g.jPlayer("pause");
        this.Oa()
    }
    ;
    f.kf = function(b) {
        this.ha = b
    }
    ;
    function et(b) {
        b.track && b.track.r().active && b.track.r().th(b.track, 0)
    }
    f.zj = function() {
        if (0 < this.yc) {
            var b = Math.min(864E5, 1E3 * this.yc);
            this.yc -= b;
            setTimeout(r(this, this.zj), b)
        } else
            null != this.Yf && clearTimeout(this.Yf),
            this.track && this.track.r().active && (this.Oa(),
            this.track && this.track.r().oa(!1),
            this.ha && this.ha())
    }
    ;
    f.Pe = function(b, c) {
        void 0 !== b && sd(b) && !isNaN(b) && (this.Fa = b);
        this.updateVolume(c)
    }
    ;
    f.updateVolume = function(b) {
        this.seeking || (b = this.rf(b),
        this.g.jPlayer("volume", b / 100),
        0 < b && (this.cd = (new Date).getTime(),
        this.Ia = !1,
        this.ac()))
    }
    ;
    f.rf = function(b) {
        null == b && (b = Km() ? 0 : Jm());
        this.dd = b;
        var c = Math.round(Math.pow(10, this.Fa / 20) * b * vo());
        k.info("VOLUME--\x3e gain:", this.Fa, ", volume:", b, ", old adjusted:", Math.round(Math.pow(10, this.Fa / 20) * b), ", new adjusted:", c);
        return Math.min(100, c)
    }
    ;
    f.ac = function() {
        null != this.ma || this.Ia || (this.ma = Ed(),
        Hs(this.track, this.ma))
    }
    ;
    f.Oa = function() {
        if (null != this.ma) {
            var b = Ed()
              , c = b - this.ma;
            Is(this.track, this.ma, b, c, 0);
            this.ma = null ;
            null != v.i && this.track && this.track.r() && ro(v.i, this.track.r().e(), c)
        }
    }
    ;
    f.Ff = function() {
        return null != this.elapsedTime ? this.elapsedTime : 0
    }
    ;
    f.xm = function() {
        this.stop();
        this.track && this.track.r().Zk()
    }
    ;
    function ft(b) {
        this.g = b;
        this.ha = this.track = null ;
        this.dd = this.Fa = 0;
        this.cd = (new Date).getTime();
        this.Qd = this.Ia = !1;
        this.ib = 0;
        this.Yf = this.elapsedTime = null ;
        this.Me = !1;
        this.vz = 0;
        this.qj = this.ma = null ;
        this.yc = this.Sp = this.qn = this.rn = this.gl = 0;
        this.Od = !1
    }
    function gt(b) {
        return b.g && b.g.getState ? b.g && b.g.getState() : ""
    }
    f = ft.prototype;
    f.jh = function() {
        return "playing" == gt(this)
    }
    ;
    f.Zf = function(b, c) {
        k.info("*** StrobePlayer: setInUse", b);
        this.Od = b;
        this.track = c;
        this.cd = b ? (new Date).getTime() : 0;
        this.ha = null
    }
    ;
    f.load = function(b) {
        this.track = b;
        this.ib = b.Vc();
        b.k instanceof Jn && (this.ib -= Ed() - b.k.Gv);
        var c = 1E3 * this.ib;
        this.Qd = !0;
        this.g.setMediaResourceURL(b.k.uv);
        b = Math.min(864E5, c);
        this.yc = c - b;
        this.Yf = setTimeout(r(this, this.zj), b)
    }
    ;
    f.reload = function() {
        this.Qd || (this.Qd = !0,
        this.g.setMediaResourceURL(this.track.k.uv))
    }
    ;
    f.handleError = function(b) {
        this.Qd = !1;
        3 <= this.Sp++ ? (this.track && (this.track.tb = !0,
        this.track.r().Bm("StrobePlayer ERROR:" + b)),
        this.ha && this.ha(b),
        this.Sp = 0) : setTimeout(r(this, this.reload), 1E3)
    }
    ;
    function ht(b) {
        try {
            var c = b.g.getBitrateForDynamicStreamIndex(b.g.getCurrentDynamicStreamIndex())
              , d = Ed();
            b.rn += 0 == b.gl ? 1 : d - b.gl;
            b.gl = d;
            b.qn += c
        } catch (e) {}
    }
    f.play = function() {
        this.Me = !0;
        if (!this.Qd && null != this.g && this.g.play2)
            try {
                this.g.play2()
            } catch (b) {}
    }
    ;
    f.pause = function() {
        this.Qd || (this.vz = this.dd,
        this.updateVolume(0),
        this.Me = !1,
        this.Oa())
    }
    ;
    f.Ah = function() {
        this.Me = !0;
        this.Qd || (this.updateVolume(this.vz),
        this.ac())
    }
    ;
    f.suspend = function() {
        this.Me = !1;
        this.Ia = !0;
        if (null != this.g && this.g.pause)
            try {
                this.g.pause()
            } catch (b) {}
        this.Oa()
    }
    ;
    f.stop = function() {
        this.Me = !1;
        if (!this.Qd) {
            if (null != this.g && this.g.pause)
                try {
                    this.g.pause()
                } catch (b) {}
            this.Oa()
        }
    }
    ;
    f.kf = function(b) {
        this.ha = b
    }
    ;
    f.zj = function() {
        if (0 < this.yc) {
            var b = Math.min(864E5, 1E3 * this.yc);
            this.yc -= b;
            setTimeout(r(this, this.zj), b)
        } else
            null != this.Yf && clearTimeout(this.Yf),
            this.track && this.track.r().active && (this.Oa(),
            this.track && this.track.r().oa(!1),
            this.ha && this.ha())
    }
    ;
    f.Pe = function(b, c) {
        void 0 !== b && sd(b) && !isNaN(b) && (this.Fa = b);
        this.updateVolume(c)
    }
    ;
    f.updateVolume = function(b) {
        if (this.Me || this.Ia)
            b = this.rf(b),
            null != this.g && this.g.setVolume && this.g.setVolume(b / 100),
            0 < b && (this.cd = (new Date).getTime(),
            this.Ia && (this.Me = !0,
            this.reload()),
            this.Ia = !1)
    }
    ;
    f.rf = function(b) {
        null == b && (b = Km() ? 0 : Jm());
        this.dd = b;
        var c = Math.round(Math.pow(10, this.Fa / 20) * b * vo());
        k.info("VOLUME--\x3e gain:", this.Fa, ", volume:", b, ", old adjusted:", Math.round(Math.pow(10, this.Fa / 20) * b), ", new adjusted:", c);
        return Math.min(100, c)
    }
    ;
    f.ac = function() {
        null !== this.ma || this.Ia || (this.ma = Ed(),
        Hs(this.track, this.ma))
    }
    ;
    f.Oa = function() {
        if (null != this.ma) {
            var b = Ed()
              , c = b - this.ma;
            Is(this.track, this.ma, b, c, this.qn / this.rn);
            this.gl = this.rn = this.qn = 0;
            this.ma = null ;
            null != v.i && this.track && this.track.r() && ro(v.i, this.track.r().e(), c)
        }
    }
    ;
    f.Ff = function() {
        return null != this.elapsedTime ? this.elapsedTime : 0
    }
    ;
    f.xm = function() {
        this.stop();
        this.track && this.track.r().Zk()
    }
    ;
    function $s() {
        this.xt = !1;
        this.Yt = this.Qy = 0
    }
    $s.prototype.xw = function(b, c, d) {
        0 < b && 0 == b % 10 && 99 > d && (b = d - c,
        c = 5 > b && b < this.Qy,
        0.5 > b || c || this.xt ? (this.Yt++,
        3 == this.Yt && z.b(qg)) : this.Yt = 0,
        this.Qy = b,
        this.xt = !1)
    }
    ;
    var it = !1
      , jt = []
      , kt = []
      , lt = {}
      , mt = !1
      , nt = null
      , ot = 0
      , pt = 0;
    function qt() {
        var b = om(im)
          , c = om(jm);
        if (null != b && null != c) {
            var d = b.start
              , c = c.seconds;
            s("live_tracking", {
                station_id: b.stationId,
                track_token: b.trackToken,
                track_start: (new Date(1E3 * d)).format("yyyy-mm-dd HH:MM:ss", !0),
                track_end: (new Date(1E3 * (d + c))).format("yyyy-mm-dd HH:MM:ss", !0),
                elapsed_seconds: c,
                event_type: "end",
                platform: "web",
                vendor_id: u,
                device_code: we,
                app_version: z.ba,
                device_os: se(),
                client_timestamp: (new Date).format("yyyy-mm-dd HH:MM:ss", !0)
            }, v.i)
        }
        vm(im);
        vm(jm)
    }
    function rt() {
        var b = $.jPlayer.prototype.play;
        $.jPlayer.prototype.play = function(c) {
            if (this.status.cQ) {
                var e = this.status.media.mp3;
                null == e && (e = this.status.media.m4a);
                if (!isNaN(c) && -1 == e.indexOf("&lo=" + c))
                    return
            }
            b.call(this, c)
        }
        ;
        var c = $.jPlayer.prototype.pause;
        $.jPlayer.prototype.pause = function(b) {
            if (this.status.cQ) {
                var e = this.status.media.mp3;
                null == e && (e = this.status.media.m4a);
                if (!isNaN(b) && -1 == e.indexOf("&lo=" + b))
                    return
            }
            c.call(this, b)
        }
    }
    function st(b) {
        window._isInAudioMediaElementExperiment ? tt(b) : (ot++,
        $('<div id="jPlayer' + ot + '"></div>').css({
            width: 0,
            height: 0
        }).appendTo("body").jPlayer({
            wmode: "window",
            swfPath: z.pe().hw,
            solution: z.pe().$k,
            supplied: b,
            ready: function(c) {
                setTimeout(r(this, function() {
                    ut($(this), b, c)
                }), 0)
            },
            error: function(b) {
                mt || (mt = !0,
                b.jPlayer.error.type == $.jPlayer.error.NO_SOLUTION && z.b(dh, b.jPlayer.error.message))
            }
        }))
    }
    function tt(b) {
        ot++;
        /* #TAG */
        var c = "MediaElement" + ot;
        $("<audio preload='auto' id='" + c + "'></audio>").css({
            width: 0,
            height: 0
        }).appendTo("body");
        var d = "native";
        0 > z.pe().$k.indexOf("html") && (d = "shim");
        new MediaElement(c,{
            enablePluginDebug: !0,
            plugins: ["flash"],
            type: "audio/" + b,
            pluginPath: "/js/libs/MediaElement-2.20.1/",
            flashName: "flashmediaelement.swf",
            defaultVideoWidth: 1,
            defaultVideoHeight: 1,
            pluginWidth: 1,
            pluginHeight: 1,
            pluginVars: "isvideo=true&autoplay=true&wmode=window",
            mode: d,
            timerRate: 500,
            success: function(c) {
                setTimeout(r(this, function() {
                    if ("m4a" == b || "mp3" == b) {
                        var d = new at(c);
                        "m4a" == b ? kt.push(d) : "mp3" == b && jt.push(d);
                        !it && 0 < kt.length && 0 < jt.length && (it = !0,
                        nt && nt())
                    }
                }), 0)
            },
            error: function() {
                mt || (mt = !0,
                z.b(dh, "something wrong?..."))
            }
        })
    }
    function vt() {
        ot++;
        var b = "strobePlayer" + ot
          , c = "strobeMediaPlayback" + ot;
        $('<div id="' + c + '"></div>').css({
            width: 0,
            height: 0,
            position: "absolute"
        }).appendTo("body");
        swfobject.embedSWF("/include/3rd-party/strobe/StrobeMediaPlayback.swf", c, 1, 1, "10.1.0", {}, {
            src: "about:blank",
            controlBarMode: "none",
            streamType: "liveOrRecorded",
            verbose: !1,
            autoPlay: !1,
            expandedBufferTime: 30,
            minContinuousPlayback: 30,
            javascriptCallbackFunction: "strobeCallback"
        }, {
            allowFullScreen: "false"
        }, {
            id: b,
            name: b,
            "class": "strobeMediaPlayer"
        })
    }
    function ut(b, c, d) {
        "m4a" == c || "mp3" == c ? (b = new Bs(b,d.jPlayer.flash.used),
        "m4a" == c ? kt.push(b) : "mp3" == c && jt.push(b),
        it || (d.jPlayer.flash.used && k.info("AudioPlayer initialized: Using Flash audio for " + c),
        d.jPlayer.html.used && k.info("AudioPlayer initialized: Using native HTML5 audio for " + c),
        0 < kt.length && 0 < jt.length && (it = !0,
        nt && nt()))) : "m3u8" == c ? (b.attr("id"),
        new dt(b)) : "f4m" == c && (lt[b.id] = new ft(b))
    }
    function As(b) {
        var c = null , d = null , e;
        if (b && Fs(b))
            e = _.map(lt, function(b) {
                return b
            });
        else {
            d = b && b.Sc() ? b.Sc() : "mp3";
            if ("m4a" != d && "mp3" != d)
                return k.error("No AudioPlayer for type " + d),
                null ;
            e = "m4a" == d ? kt : jt
        }
        var h = _.select(e, function(b) {
            return !b.Od
        });
        0 < h.length ? c = h.shift() : (c = _.min(e, function(b) {
            return b.cd
        }),
        c.xm());
        b instanceof Js ? c.Zf(!0, null ) : c.Zf(!0, b);
        0 == h && e.length < z.pe().li && (b && Fs(b) ? vt() : null != d && st(d));
        return c
    }
    function wt() {
        k.info("jplayer successfully initialized, resetting consecutive error count to 0");
        pt = 0
    }
    function xt(b) {
        k.warn("jPlayer error (count: " + pt + "): " + b.message);
        pt++;
        5 <= pt && (k.warn("too many consecutive jplayer errors.  re-initializing jplayer"),
        z.b(bh),
        pt = 0)
    }
    function yt() {
        z.b(gi)
    }
    window.strobeCallback = function(b, c, d) {
        lt[b] ? (b = lt[b],
        "timeupdate" != c && k.info("*** StrobePlayer: state=" + b.g.getState() + ", handleCallbackEvent", c, d),
        "emptied" == c ? "ready" == gt(b) && (b.Qd = !1,
        b.Me && (b.play(),
        b.updateVolume(),
        ht(b))) : "play" == c ? b.track && b.track.r().active && (b.ac(),
        b.track.r().th(b.track, 0)) : "timeupdate" == c && b.track.r().active && (b.Sp = 0,
        b.elapsedTime = Math.floor(d.currentTime),
        z.b(ef, {
            isLive: !0,
            elapsedTime: b.elapsedTime,
            totalTime: b.ib,
            percentPlayed: d.currentTime / b.ib
        }))) : ((c = $("#" + b)) && 0 < c.length && ut(c[0], "f4m", null ),
        c[0].addEventListener("switchingChange", "onStrobeDynamicStreamSwitch"),
        c[0].addEventListener("mediaError", "onStrobeMediaError"))
    }
    ;
    window.onStrobeDynamicStreamSwitch = function() {
        ht(lt)
    }
    ;
    window.onStrobeMediaError = function(b, c, d) {
        lt.handleError(d)
    }
    ;
    var Ws = {}
      , Ls = {};
    function Us(b) {
        if (null != Ls[b.e()]) {
            Ls[b.e()] = null ;
            var c = Lm(b.e())
              , d = Fd() - c;
            null == c || 36E5 < d ? zt(b.e()) : setTimeout(function() {
                zt(b.e())
            }, 36E5 - d)
        }
    }
    function Ts(b) {
        Us(b);
        var c;
        (c = null == v.i) || (c = 0 <= v.i.wt);
        return c ? Mm(b.e()) >= (null != v.i && null != v.i.wt ? v.i.wt : 6) : !1
    }
    function zt(b) {
        At(b);
        Ws[b] = setInterval(function() {
            At(b)
        }, 36E5)
    }
    function At(b) {
        var c = Fd()
          , d = wl ? om(Ql) : null ;
        null == d && (d = {});
        d[b] = c;
        um(Ql, d);
        Nm(b, 0)
    }
    ;function Vs(b) {
        var c = b.listeningTimestamp;
        b = b.monthlyListening;
        um(Ml, 0);
        um(Nl, c);
        z.b(yf, b);
        c = v.i;
        null != c && "REGISTERED" == c.u && (b = Math.round(Number(b) / 60 / 60),
        b >= c.zr ? (um(Al, c.jg),
        z.b(Af, b)) : 310 <= b && z.b(zf, b))
    }
    ;var Bt, Ct = null , Dt = null ;
    function Et(b) {
        Bt = !1;
        var c = D.V();
        null != c && (Bt = c.jh());
        z.b(gi);
        Ft();
        var c = new Js(b.url)
          , d = As(c);
        d.Pe(b.gain);
        d.kf(function(c) {
            b.reachedEnd = !0;
            null != c && (b.isError = !0);
            z.b(hf, b);
            Bt && z.b(ei)
        });
        d.load(c.url, "m4a").play();
        Ct = d;
        Dt = b
    }
    function Ft() {
        null != Ct && (Ct.stop(),
        Ct = null ,
        Dt.reachedEnd = !1,
        z.b(hf, Dt),
        Bt && z.b(ei))
    }
    function Gt(b) {
        null != Ct && Ct.updateVolume(b)
    }
    ;function Ht() {
        this.Eo = 0;
        this.ai = null ;
        this.lj = !1;
        z.c(He, r(this, function(b) {
            clearTimeout(this.ai);
            this.cf = null ;
            null != b && b.XN && this.br()
        }));
        z.c(ef, r(this, function() {
            this.lj = !0
        }));
        z.c(ei, r(this, function() {
            this.lj = !0
        }));
        z.c(gi, r(this, function() {
            this.lj = !1
        }));
        z.c(bk, r(this, function() {
            this.lj = !0
        }))
    }
    /* #TAG */
    var It = !0 === window._migrateTritonToHttps ? "https://lt500.tritondigital.com/lt" : "http://lt.andomedia.com/lt";
    Ht.prototype.br = function() {
        var b = v.i;
        null != b && (clearTimeout(this.ai),
        this.cf = null ,
        b = hex_md5(b.s).toUpperCase(),
        this.wb(It + "?sid=9718&vid=" + b, r(this, function(b) {
            b = Jt(b);
            var d = b.valid;
            this.ed(!d, "newSession", null );
            d ? (this.Eo = 0,
            this.cf = b.guid,
            this.Do = b.intervalSeconds,
            this.ai = de(this, this.Mo, 1E3 * b.intervalSeconds)) : (this.Eo++,
            10 > this.Eo && de(this, this.br, 5E3))
        })))
    }
    ;
    function Jt(b) {
        var c;
        null != b && rd(b) && 0 != b.indexOf(",") ? (c = b.split(","),
        b = parseInt(c[0], 10),
        c = c[1]) : c = b = null ;
        var d = !(isNaN(b) || null == c || 0 == c.length);
        d && c.indexOf("\n") == c.length - 1 && (c = c.substring(0, c.length - 1));
        return {
            intervalSeconds: b,
            guid: c,
            valid: d
        }
    }
    Ht.prototype.Mo = function() {
        if (this.lj)
            if (null == this.cf)
                this.br();
            else {
                var b = (new Date).getTime();
                this.wb(It + "?guid=" + escape(this.cf), r(this, function(c) {
                    c = Jt(c);
                    c.valid ? (this.ed(!1, "ping", this.cf),
                    this.Do = c.intervalSeconds) : this.ed(!0, "ping", this.cf);
                    this.ai = de(this, this.Mo, 1E3 * this.Do - ((new Date).getTime() - b))
                }));
                this.wv = (new Date).getTime()
            }
        else
            null != this.wv && 18E4 < (new Date).getTime() - this.wv && (this.cf = null ),
            this.ai = de(this, this.Mo, 1E3 * this.Do)
    }
    ;
    Ht.prototype.wb = function(b, c) {
        var d = ""
          , e = v.i;
        null != e && (d = e.J() ? 1 : 0,
        d = "&yob=" + e.ri + "&gender=" + eo(e) + "&zip=" + e.Eb() + "&hasads=" + d + "&devcat=WEB&devtype=WEB");
        b += d + "&cb=" + je();
        Dp(b, c, c)
    }
    ;
    Ht.prototype.ed = function(b, c, d) {
        var e = v.i;
        null != e && 5 > e.s % 100 && s("ando", {
            event: c,
            is_error: b,
            birth_year: e.ri,
            gender: eo(e),
            zip: e.Eb(),
            guid: d,
            vendor_id: "100",
            device_code: "1880",
            app_version: z.ba,
            device_os: se(),
            client_timestamp: (new Date).format("yyyy-mm-dd HH:MM:ss", !0)
        }, e)
    }
    ;
    var Kt = 0;
    function Rs(b) {
        this.Jy = b.initiateEvent;
        this.sG = b.eventArgs;
        this.Uo = b.ackEvent;
        this.Ov = b.ackEventCallback;
        this.Gs = b.responseEvent;
        this.lw = b.bailOutEvent;
        this.UE = b.bailOutPeriod ? b.bailOutPeriod : 2E3;
        this.Wa = b.callback || $.noop;
        this.fL = ++Kt;
        k.debug("UIActivityManager : creating instance: " + this.fL);
        this.Sx = !1
    }
    function Qs(b) {
        b.Sx ? k.error("UIActivityManager : handoff called more than once!") : (b.Sx = !0,
        b.Gs && b.Jy ? (b.qi = setTimeout(r(b, function() {
            this.Wa ? (k.debug("UIActivityManager : bailing out.."),
            this.lw && z.b(this.lw),
            this.Wa(),
            this.Wa = null ) : k.debug("UIActivityManager : bailout cancelled since the callback has already been handled.")
        }), b.UE),
        b.Uo && z.c(b.Uo, r(b, function() {
            k.debug("UIActivityManager : ACK event ..");
            clearTimeout(this.qi);
            this.qi = null ;
            z.pa(this, this.Uo);
            this.Ov && this.Ov()
        })),
        z.c(b.Gs, r(b, function() {
            this.Wa ? (k.debug("UIActivityManager : RESPONSE event .."),
            this.qi && (clearTimeout(this.qi),
            this.qi = null ),
            z.pa(this, this.Gs),
            this.Wa.apply(null , arguments),
            this.Wa = null ) : k.debug("UIActivityManager : RESPONSE event cancelled, callback has been handled.")
        })),
        z.b(b.Jy, b.sG)) : b.Wa())
    }
    function Os(b, c) {
        Qs(new Rs({
            initiateEvent: Ze,
            eventArgs: b,
            responseEvent: $e,
            callback: c
        }))
    }
    ;var F = {};
    (function(b) {
        function c(b) {
            if (b.callback) {
                var c = b.callback;
                if (b.ads) {
                    var d = D.V()
                      , e = d.n;
                    Ia(function(b) {
                        b ? (p(e, b),
                        /* #TAG */
                        d.px(!0, c)) : (k.debug("No AudioAdTracks to add to queue: " + b),
                        c())
                    }, b.ads)
                } else
                    c()
            } else
                k.error("AudioAdReadyForCache handler did not receive a callback for indicating when process completes! This could potentially block playback.")
        }
        function d(b) {
            return 0 >= F.qb.length ? !1 : C.Ca() ? !0 : b && !F.mf ? (k.debug(0 < "Have cached ad - " + F.qb.length),
            k.debug("isnt User init - " + !b),
            k.debug("is test mode - " + F.mf),
            k.debug("Returning null - no ad will be played"),
            !1) : !0
        }
        function e(b, c) {
            var d = [];
            if (_.isArray(c))
                for (var e = 0; e < c.length; e++) {
                    var h = c[e];
                    h.kb == nb ? ua(h.k) : h.kb != Bb && h.kb != tb || d.push(h)
                }
            0 < d.length ? b(d) : b(null )
        }
        function h(b, c) {
            if (null === c)
                b(null );
            else {
                var d = D.V().n
                  , e = !1;
                d.Cb() ? d._delayedInStationAd && (e = !0) : c.k.Ow && (e = !0);
                e ? (F.bf = c,
                F.ud = Ed()) : F.vs();
                c.kb == nb ? (ua(c.k),
                b(null )) : c.kb == Bb || c.kb == tb ? (e = d.Cb() && d._adIntervalMinutes ? d._adIntervalMinutes : c.k.RL,
                d = F.Sl(d.e()),
                1 == d.wf && (d.Rv = e),
                b(c)) : b(null )
            }
        }
        function l(b) {
            F.ug = Ed();
            F.ud = 0;
            F.ef = 0;
            F.tg = 0;
            F.sg = 0;
            F.ro = 0;
            F.Gk = 0;
            F.Fk = !1;
            null != b && (b.Dt && (F.ko = b.Dt,
            F.Ek = b.Dt),
            b.Ft && (F.jo = b.Ft,
            F.Dk = b.Ft))
        }
        function p(b, c) {
            if (C.Ca() ? !F.Ko : 1) {
                var d = C.za(b);
                if (C.Ca())
                    if (null != c) {
                        k.debug("Chronos - Fetch Audio Ad has returned a chronos related response, pushing it onto the _cachedAds array... (" + c.length + ")");
                        for (var e in c) {
                            var h = c[e];
                            k.debug("pushing - ", h);
                            F.qb.push(h)
                        }
                    } else
                        k.debug("Chronos - Fetch Audio Ad has returned " + c);
                else
                    F.qb.push(c);
                d ? (d = !1,
                d = C.Ca() ? null != c && 0 < c.length && c[0].kb == nb : null == c || c.kb == nb,
                e = F.Sl(b.e()),
                1 < e.wf && d ? (k.debug("Advertiser station: resetting ad index " + (C.Ca() ? "(Chronos)" : "(non-chronos)")),
                e.wf = 1,
                pa(!1, null , function(b) {
                    C.Ca() ? (k.debug("Advertiser station: Pushing " + b.length + " ads onto _cachedAds"),
                    0 < b.length && F.qb.push(b[0])) : (k.debug("Advertiser station: Pushing 1 ad onto _cachedAds"),
                    F.qb.push(b));
                    I()
                })) : I()) : (C.Ca() || E(c),
                I())
            } else
                I()
        }
        function q(b) {
            b && b instanceof zo || (F.We = []);
            b && (b instanceof zo ? (F.so = !0,
            ua(b)) : F.Kk && (T("Playlist playback continued before Ad was received. Will ignore audio ad response until next opportunity."),
            F.Ko = !0))
        }
        function t(b) {
            b && !b.eb() && (F.tg = Ed(),
            ta())
        }
        function y() {
            ta();
            var b = D.V();
            b && C.za(b.n) ? F.ei(Cb) : F.ei(bb)
        }
        function E(b) {
            if (b) {
                var c = b.k.Jm
                  , d = Ao(F.We[0]);
                if (c && (!d || d.Um != c.Um || d.position <= c.position)) {
                    c = [];
                    b = b.k.Jm;
                    for (d = b.position; d < b.size; d++)
                        c.push((new sp(d + 1,b.size,b.Um)).Ef());
                    F.We = c;
                    T("Generated " + c.length + " _adPodTokens: ", F.We)
                }
            }
        }
        function I() {
            z.b(Pk);
            F.Kk = !1;
            F.Ko = !1;
            C.Ca() || F.oh()
        }
        function N() {
            if (!v.i || !v.i.J())
                return !1;
            var b = v.i.ue();
            if (!C.Ca() && b && 0 != F.We.length)
                return !0;
            var c = Ed()
              , d = !1
              , e = D.V().n;
            C.Ca() ? (T("Chronos is enabled"),
            d = F.vg) : C.za(e) ? (b = F.rg[e.e()]) && c > F.ud + 60 * b.Rv && (d = !0) : (d = b ? F.Dk : F.jo,
            b = b ? F.Ek : F.ko,
            d = F.vg && c > F.sg + F.mo && c > F.ug + d && c > F.ud + b && c > F.tg + F.no && c > F.ef + F.lo);
            !F.mf || D.t instanceof Ns || (T("Test mode enabled"),
            d = !0);
            T("Ready for Audio ad: : now : " + c + " : since start : " + (c - F.ug) + " : since sv : " + (c - F.sg) + " : since lv : " + (c - F.tg) + " : since la : " + (c - F.ud) + " : since ld : " + (c - F.ef) + " : _userActive : " + F.vg + " : _cachedAds : " + F.qb.length + " : delayed ISA : " + (null != F.bf) + " : ready : " + d);
            return d
        }
        function U(b, c, d, e, h) {
            if (null == c || 0 == c.length)
            /* #TAG */
                T("Web audio ad is null or empty"),
                vp("Audio ad was blocked", F.$e, "Web audio ad is null or empty", F.ci),
                b(null );
            else if (c == C.Uh)
                b(null );
            else {
                F.AL = Ed();
                d = C.Cj(c, F.ci, F.$e);
                var l = d.moathearability;
                null != l && (F.gd = l);
                d.adToken = e;
                d.adRequestMetaData = h;
                d.isInStationAd = F.$e == Cb;
                c = F.Cx(d, c);
                T("Got AudioAdTrack: ", c);
                b(c)
            }
        }
        function pa(b, c, d) {
            if (v.i && v.i.J()) {
                var e = v.i.s
                  , e = {
                    segment: e.charAt(e.length - 1)
                }
                  , h = !C.za(D.V().n)
                  , l = v.i
                  , l = v.rc() && !l.p();
                h && l && (e.index = C.Yk);
                if (h = D.V()) {
                    C.za(h.n) && (l = F.Sl(h.e()),
                    e.isa = l.wf,
                    k.debug("_sendAdRequest, isa=" + e.isa));
                    l = h.n;
                    l.La() && (e.playlist = l.La());
                    C.fg(e, D.V().n, D.Mx());
                    C.Oe(e);
                    d = C.Ca() ? _.bind(Ia, null , d) : _.bind(U, null , d);
                    var p = B.Ri();
                    C.Ca() ? (h = h.fH(),
                    h || (h = D.t),
                    C.Xz({
                        currentStationData: l,
                        options: e,
                        adToken: c,
                        callback: d,
                        forcedAudioAd: F.sv,
                        lastDisplayAdTime: F.ef,
                        requestType: p,
                        subZone: F.ci,
                        currentSize: F.$e,
                        isInStationAd: F.$e == Cb,
                        currentStationTrack: h,
                        currentStationTrackType: null == h ? "" : h.k.Ro,
                        isUserInitiated: b,
                        handlerType: Td
                    })) : C.EO(p, e, c, h.n.e(), d, d)
                } else
                    T("No station available for ad flow."),
                    d(null )
            } else
                T("Attempt to send audio ad request when ads are disabled"),
                d(null )
        }
        function Ia(b, c) {
            if (c === C.Uh)
                return b(null ),
                !1;
            var d = [];
            _.each(c, function(b) {
                var c = b.response;
                "AUDIO_AD" !== c.adType ? k.error("Received Audio Ad of incorrect type: " + c.adType) : d.push(F.Cx(b.parsedContent, b.content))
            });
            b(d);
            return 0 < d.length
        }
        function fb(b, c) {
            T("Impression of urlType '" + c + "' failed: " + b.message)
        }
        function gb(b) {
            T("Impression of urlType '" + b + "' succeeded.");
            "tracking" == b && (C.Ca() || F.oh())
        }
        function ua(b) {
            F.FA && (F.fp || (F.fp = 0),
            F.fp += 1);
            C.za(D.V().n) || C.VK();
            C.wb(b, gb, fb)
        }
        function ta() {
            F.qb = [];
            F.bf = null ;
            T("Flush")
        }
        function T(b) {
            if (!k.enabled) {
                var c = Array.prototype.slice.call(arguments, 0);
                "Chrome" == BrowserDetect.browser || "Firefox" == BrowserDetect.browser ? (c.unshift("color:green"),
                c.unshift("%cAudioAdManager : ")) : c.unshift("AudioAdManager : ");
                "Explorer" != BrowserDetect.browser && k.debug.apply(k, c)
            }
        }
        var nb = "HOUSE"
          , Bb = "PLAYLIST"
          , tb = "DEVICE_AD"
          , Td = "AUDIO"
          , bb = up.AUDIO_AD_SIZE
          , Cb = up.AUDIO_IN_STATION_AD_SIZE;
        F.init = function() {
            F.mf = !!Zo() || "true" == cp() || "true" == A._data.audioAdTestMode;
            F.Du = F.mf ? 1E4 : up.PRELOAD_SECONDS;
            F.Cu = F.mf ? 0 : up.PRELOAD_PERCENTAGE;
            F.ug = Ed();
            F.jo = dp();
            F.Dk = dp();
            F.lo = No(A._data.timeBetweenDisplayAndAudioAd, 5);
            F.no = No(A._data.timeBetweenVideoAndAudioAd, 60);
            F.ko = ep();
            F.Ek = ep();
            F.mo = 120;
            F.ud = 0;
            F.ef = 0;
            F.tg = 0;
            F.sg = 0;
            F.vg = !0;
            F.ci = "tuner";
            F.ei(bb);
            F.sv = Zo() || "";
            F.qb = [];
            F.bf = null ;
            F.We = [];
            F.Kk = !1;
            F.rg = {};
            F.so = !1;
            F.Gk = 0;
            F.KC = "pandora5413215442154";
            F.JC = document.getElementById("playerBar");
            F.gd = null ;
            F.lf = 0;
            F.Jt = !1;
            F.Mc = !1;
            F.Vo = !1;
            F.Wo = !1;
            F.Xo = !1;
            F.tm = null ;
            F.ro = 0;
            F.Fk = !1;
            F.Ko = !1;
            z.c(He, r(F, l));
            z.c(ni, r(F, y));
            z.c(Ik, r(F, function(b) {
                F.vg = b
            }));
            z.c(Zf, r(F, function() {
                F.sg = Ed();
                ta()
            }));
            z.c(Vk, r(F, t));
            z.c(Uk, r(F, t));
            z.c(Jk, r(F, function() {
                F.ef = Ed()
            }));
            z.yh(Ve, r(F, q));
            z.c(Rk, r(F, c));
            z.c(Ve, r(this, function(b) {
                b && b instanceof zo && null != F.gd ? F.Jt = !0 : F.Rz()
            }));
            z.c(Ek, r(this, function(b) {
                if (F.Jt && null != F.gd) {
                    var c = Math.floor(b.currentTime);
                    !F.Mc && 0 == F.lf && 1 > c ? (F.lf = b.duration,
                    F.tm = F.bL(),
                    F.Mc = !0,
                    /* #TAG */
                    F.Dd("AdAudioStart", Jm() / 100)) : F.Mc && !F.Vo && c == Math.floor(F.lf / 4) ? (F.Vo = !0,
                    F.Dd("AdAudioFirstQuartile", Jm() / 100)) : F.Mc && !F.Wo && c == Math.floor(F.lf / 2) ? (F.Wo = !0,
                    F.Dd("AdAudioMidpoint", Jm() / 100)) : F.Mc && !F.Xo && c == Math.floor(3 * F.lf / 4) && (F.Xo = !0,
                    F.Dd("AdAudioThirdQuartile", Jm() / 100))
                }
            }));
            z.c(We, r(this, function(b) {
                F.Mc && null != F.gd && (0 == b.remaining_seconds ? F.Dd("AdAudioComplete", Jm() / 100) : F.Dd("AdStopped", Jm() / 100),
                F.Rz())
            }));
            z.c(ei, r(this, function() {
                F.Mc && null != F.gd && F.Dd("AdPlaying", Jm() / 100)
            }));
            z.c(gi, r(this, function() {
                F.Mc && null != F.gd && F.Dd("AdPaused", Jm() / 100)
            }));
            z.c(qi, r(this, function(b) {
                F.Mc && null != F.gd && F.Dd("AdVolumeChange", b / 100)
            }))
        }
        ;
        F.Rz = function() {
            F.Jt = !1;
            F.Mc = !1;
            F.Vo = !1;
            F.Wo = !1;
            F.Xo = !1;
            F.gd = null ;
            F.tm = null ;
            F.lf = 0
        }
        ;
        F.sH = function() {
            return {
                level1: F.Yg("Level1"),
                level2: F.Yg("Level2"),
                level3: F.Yg("Level3"),
                level4: F.Yg("Level4"),
                slicer1: F.Yg("Slicer1"),
                slicer2: F.Yg("Slicer2")
            }
        }
        ;
        F.Yg = function(b) {
            try {
                var c = F.gd.indexOf(b)
                  , d = F.gd.substring(c + b.length + 1)
                  , c = "&";
                "Slicer2" == b && (c = '"');
                return d.substring(0, d.indexOf(c))
            } catch (e) {
                return ""
            }
        }
        ;
        F.Dd = function(b, c) {
            null != F.tm && F.tm.dispatchEvent({
                type: b,
                adVolume: c
            })
        }
        ;
        F.bL = function() {
            var b = F.JC
              , c = F.sH()
              , d = F.lf
              , e = F.KC
              , h = window.location.protocol
              , l = "https:" === h ? "z" : "js"
              , p = document.createElement("script")
              , q = []
              , c = {
                adData: {
                    ids: c,
                    duration: d,
                    url: ""
                },
                dispatchEvent: function(b) {
                    this.sendEvent ? (q && (q.push(b),
                    b = q,
                    q = !1),
                    this.sendEvent(b)) : q.push(b)
                }
            }
              , d = "_moatApi" + Math.floor(1E8 * Math.random());
            window[d] = c;
            p.type = "text/javascript";
            b && b.insertBefore(p, b.childNodes[0] || null );
            /* #TAG */
            p.src = h + "//" + l + ".moatads.com/" + e + "/moatvideo.js#" + d;
            return c
        }
        ;
        F.reset = function() {
            z.pa(F)
        }
        ;
        F.ei = function(b) {
            F.$e = b;
            z.b(Qk, {
                size: b
            })
        }
        ;
        F.Sl = function(b) {
            var c = F.rg[b];
            c || (c = new Lt,
            F.rg[b] = c);
            return c
        }
        ;
        F.WK = function(b) {
            var c = F.Sl(b);
            c.wf++;
            k.debug("Incremented current ad index to " + c.wf + " (on " + b + ")")
        }
        ;
        F.oh = function() {
            if (F.Kk)
                return !0;
            if (!N())
                return T("loadAudioAd: not ready for ads yet."),
                !1;
            if (0 < F.qb.length && 0 == F.We.length)
                return T("loadAudioAd: audio ad(s) have been cached"),
                !1;
            if (F.bf)
                return F.qb = [F.bf],
                F.bf = null ,
                T("loadAudioAd: had a _delayedInStationAd, moving it to _cachedAds."),
                !0;
            var b = "none"
              , c = D.V()
              , d = c.n
              , e = C.za(d);
            !C.Ca() && v.i.ue() && c.oA() ? b = F.We.shift() : e && F.ei(Cb);
            F.Kk = !0;
            pa(!1, b, _.bind(p, null , d));
            return !0
        }
        ;
        F.hH = function(b) {
            F.Rl(!1, function(c) {
                null != c ? b(c) : b(null )
            })
        }
        ;
        F.FO = function(b) {
            var c = b.n
              , d = F.rg[c.e()];
            d ? (d.wf = 1,
            F.qb = [],
            F.bf = null ,
            F.rg[c.e()] = d,
            T("Reset the ISA sequence for ", b, F),
            F.oh()) : T("Tried to reset the ISA sequence for a station, but it had no ad data.", b, F.rg)
        }
        ;
        F.vH = function() {
            return F.qb.length
        }
        ;
        F.Pi = function(b) {
            if (!d(b))
                return null ;
            b = F.qb.shift();
            if (!b)
                return k.debug("Ad is null"),
                k.debug("Returning null - no ad will be played"),
                null ;
            F.vs();
            var c = b.k;
            if (b.kb == nb)
                return k.debug("house ad, registering impression"),
                ua(c),
                k.debug("Returning null - no ad will be played"),
                null ;
            if (b.kb !== Bb && b.kb !== tb)
                return k.debug("ad isn't correct type"),
                k.debug("Returning null - no ad will be played"),
                null ;
            T("Elapsed time since ad fetch and playback: " + (Ed() - F.AL) + " seconds");
            F.so = !1;
            F.ro++;
            F.Fk || setTimeout(function() {
                !F.so && c && (F.Gk++,
                vp("Audio ad fail", "Audio", "Audio ad failed to play - " + c.kb + " - " + c.vf, "radio", v.i),
                !F.Fk && F.ro == F.Gk && 2700 < Ed() - F.ug && (F.Fk = !0,
                vp("Audio ads failed", "Audio", "Audio ads failed - " + F.Gk + " - " + v.i.s, "radio", v.i)))
            }, 8E3);
            k.debug("Returning an ad for playback");
            return b
        }
        ;
        F.vs = function() {
            F.ud = Ed()
        }
        ;
        F.Rl = function(b, c) {
            F.ei(Cb);
            var d;
            d = C.Ca() ? _.bind(e, null , c) : _.bind(h, null , c);
            pa(b, "none", d)
        }
        ;
        F.I3 = function() {
            return F.ud
        }
        ;
        /* #TAG */
        F.Cx = function(b, c) {
            var d = new Ns(b,D.V());
            if (b.type == Bb) {
                T("PLAYLIST audioAd", b);
                d.cl = d.cl.replace("__AUTH_TOKEN__", encodeURIComponent("" + Vn()));
                var e = d.k.ub().replace("__AUTH_TOKEN__", encodeURIComponent("" + Vn()));
                d.k.Pb = e
            } else
                b.type == nb ? T("HOUSE audioAd", b) : b.type == tb ? b.creative_token && 0 !== b.creative_token.length ? (T("DeviceAd audioAd : " + b.creative_token, b),
                e = "/util/mediaserver_I_HATE_ADS_publicRedirect.jsp?at=" + encodeURIComponent("" + Vn()) + "&ct=" + encodeURIComponent(b.creative_token),
                d.cl = e + "&type=audio",
                d.k.Pb = e + "&type=tile") : (T("DeviceAd audioAd : HOUSE - Converting to TYPE house", b),
                d.kb = nb) : (T("chronos - UNKNOWN audioAd: " + b.type, b),
                c && 0 != c.indexOf("<a target=") && (T("chronos - Unknown Web AudioAd type " + c),
                vp(c, F.$e, "chronos - Unknown Web AudioAd type ", F.ci)));
            return d
        }
        ;
        F.F3 = function() {
            var b = Math.floor((new Date).getTime() / 1E3);
            return "Ready for Audio ad:\n : now : " + b + "\n : since start : " + F.ug + "\n : since sv : " + F.sg + "\n : since lv : " + F.tg + "\n : since la : " + F.ud + "\n : since ld : " + F.ef + "\n : _userActive : " + F.vg + "\n : _cachedAds : " + F.qb.length + "\n : RPCService.listenerData.isAdPodEligible() :" + v.i.ue() + "\n : AudioAdManager._TIME_BETWEEN_AUDIO_AD_PODS: " + F.Ek + "\n : AudioAdManager._TIME_BETWEEN_AUDIO_ADS:" + F.ko + "\n : AudioAdManager._MIN_AD_POD_START_INTERVAL : " + F.Dk + "\n : AudioAdManager._MIN_AD_START_INTERVAL : " + F.jo + "\n : AudioAdManager._TIME_BETWEEN_DISPLAY_AUDIO_ADS : " + F.lo + "\n : AudioAdManager._TIME_BETWEEN_VIDEO_AUDIO_ADS : " + F.no + "\n : AudioAdManager._TIME_BETWEEN_SVN_AUDIO_ADS : " + F.mo + "\n ready = AudioAdManager._userActive \n\t&& now > AudioAdManager._lastSvnInteractionTime + AudioAdManager._TIME_BETWEEN_SVN_AUDIO_ADS \n&& now > AudioAdManager._startTime + minAdStartInterval \n&& now > AudioAdManager._lastAudioAdTime + timeBetweenAudioAds \n&& now > AudioAdManager._lastVideoAdTime + AudioAdManager._TIME_BETWEEN_VIDEO_AUDIO_ADS \n&& now > AudioAdManager._lastDisplayAdTime + AudioAdManager._TIME_BETWEEN_DISPLAY_AUDIO_ADS \n \tready =" + F.vg + " \n \t \t" + b + " > " + (Number(F.sg) + Number(F.mo)) + " \n \t \t" + b + " > " + (Number(F.ug) + Number(F.Dk)) + " \n \t \t" + b + " > " + (Number(F.ud) + Number(F.Ek)) + " \n \t \t" + b + " > " + (Number(F.tg) + Number(F.no)) + " \n \t \t" + b + " > " + (Number(F.ef) + Number(F.lo)) + " \n"
        }
        ;
        b.AudioAdManager = F
    })(this);
    var Mt = null
      , Nt = !0
      , Ot = null ;
    function Pt() {
        z.c(Sk, Qt);
        z.c(Tk, Rt);
        z.c(Vk, St);
        z.c(Dk, function(b) {
            Ss("return", b)
        });
        z.c(ji, function(b) {
            var c = D.t;
            null != c && null != c.k && c.k.o() != b || Ss("thumbsdown")
        });
        z.c(aj, function() {
            Ss("move")
        })
    }
    function Ss(b, c) {
        null != Mt ? (vp("Video", b, "callback hasn't completed", "radio"),
        c && c()) : (Mt = c || null ,
        Nt = !0,
        Ot = setTimeout(Tt, 5E3),
        z.b(Xk, {
            interaction: b,
            currentTrack: D.t
        }))
    }
    function Qt() {
        Nt = !1;
        Ot && (clearTimeout(Ot),
        Ot = null )
    }
    function Rt(b) {
        Nt = !1;
        Ot && (clearTimeout(Ot),
        Ot = null );
        b && b.ad || (Mt && Mt(),
        Mt = null )
    }
    function St(b) {
        b && b.eb() || (Mt && Mt(),
        Mt = null )
    }
    function Tt() {
        Nt && (Mt && Mt(),
        Mt = null )
    }
    ;function Ns(b, c) {
        this.wd = b;
        this.wd["class"] = "AudioAdTrack";
        this.h = c;
        this.k = new zo(b);
        this.cl = b.audio;
        this.Vt = this.Is = "";
        this.Li = b.gain;
        this.tb = !1;
        this.kb = b.type;
        this.Li = "" == this.Li || isNaN(Number(this.Li)) ? null : Number(this.Li)
    }
    vd(Ns, ys);
    Ns.prototype.Ly = function() {
        return !0
    }
    ;
    Ns.prototype.Sc = function() {
        return "mp3"
    }
    ;
    Ns.prototype.Ml = function() {
        return this.cl
    }
    ;
    Ns.prototype.nc = function() {
        return this.Li
    }
    ;
    function Lt() {
        this.Rv = 0;
        this.wf = 1;
        this.Vk = []
    }
    ;var Ut;
    Ut = function(b) {
        $.ajax({
            dataType: "json",
            /* #TAG */
            url: "/radio_I_HATE_ADS_AdEmbed.html",
            complete: function(c, d) {
                b("error" === d)
            }
        })
    }
    ;
    function Vt(b) {
        var c = b.track.k;
        "skipped" == b.reason && c instanceof Bo && z.b(uk, {
            artistMessageId: c.Qb,
            artistUid: c.he,
            metric: m.zb.rC(),
            isOnDemand: c.we(),
            shareUrlType: mp("sut")
        })
    }
    function Wt(b) {
        b instanceof Bo && !b.tv && (b.tv = !0,
        z.b(uk, {
            artistMessageId: b.Qb,
            artistUid: b.he,
            metric: m.zb.nB(),
            isOnDemand: b.we(),
            shareUrlType: mp("sut")
        }))
    }
    ;var Ps = null ;
    function Xt() {
        z.c(He, function(b) {
            Yt(b)
        });
        z.c(Ie, function(b) {
            Yt(b)
        });
        z.c(jl, function(b) {
            b = Zt(b);
            b instanceof Wp && $t(b, !1);
            Ps = b
        });
        z.c(kl, function(b) {
            b = Zt(b);
            b instanceof Wp && $t(b, !0);
            Ps = b
        });
        z.c(ll, function() {
            null != Ps && Ps instanceof Wp && z.b(nl);
            Ps = null ;
            null != v.i && (v.i.En = null )
        });
        z.c(nl, function() {
            Ps = null ;
            null != v.i && (v.i.En = null )
        })
    }
    function Yt(b) {
        b.J() || null == Ps ? b.En && z.b(kl, b.En) : z.b(ll)
    }
    function $t(b, c) {
        var d = v.i;
        if (d.J()) {
            null != Ps && Ps instanceof Wp && z.b(nl);
            var e = b.GD;
            if (!c && e) {
                var h = !1
                  , l = D.V();
                null != l && (h = l.jh());
                l = As();
                l.load(e, "mp3");
                var p = function() {
                    h && z.b(ei)
                };
                l.kf(p);
                z.b(gi, !1);
                z.b(Qi);
                var q = !1;
                setTimeout(function() {
                    q || (z.b(ml, b),
                    q = !0,
                    p())
                }, 5E3);
                l.Vv(function() {
                    q || (setTimeout(function() {
                        z.b(ml, b)
                    }, 100),
                    q = !0)
                });
                z.c(ah, function() {
                    z.pa(this, ah);
                    p()
                });
                l.play();
                s("value_exchange", {
                    action: "vx_lead_in_audio_played",
                    line_id: b.Yh,
                    creative_id: b.Hc,
                    offer_name: b.Mk,
                    truex_instance_id: b.So,
                    vendor_id: u,
                    device_id: we
                }, d)
            } else
                z.b(ml, b)
        }
    }
    function Zt(b) {
        if (!b)
            return null ;
        var c = b.offerName;
        if (!c)
            return null ;
        var d = null ;
        0 == c.indexOf("uninterrupted") && (d = new Wp(b));
        return d
    }
    ;function Ys(b) {
        P.call(this, b);
        this.Gp = this.Xf = !1;
        this.He = null ;
        this._tracks = [];
        for (var c = 0; c < b.tracks.length; c++)
            this._tracks.push(new au(b.tracks[c],this));
        this.stationData = this.n = new Dn(b,_.map(this._tracks, function(b) {
            return b.k
        }));
        this.js();
        this._tracks = []
    }
    vd(Ys, P);
    f = Ys.prototype;
    f.js = function() {}
    ;
    f.start = function(b) {
        b || !this.Ib && !this.Oc ? this.Zj(b) : this.qf(!0, !1, r(this, function() {
            this.Xf = !0
        }))
    }
    ;
    f.Sz = function() {
        this.Zj()
    }
    ;
    f.Zj = function(b) {
        this.active = !0;
        (new Date).getTime() >= this.n._expiration.getTime() ? (b = $.extend({}, {
            stationStart: !0,
            isOnDemand: !0,
            stationId: this.e(),
            didExpire: !0
        }),
        z.b(Nh, b)) : (this.bn = this.paused = !1,
        b ? (this.Ib = this.Ee = this.Oc = !1,
        this.wc(r(this, function() {
            if (0 < this._tracks.length)
                this.oa(!0);
            else {
                k.warn("CustomContentStation.start tried to play a custom content station with no tracks");
                var b = $.extend({}, {
                    stationStart: !0,
                    isOnDemand: !0,
                    stationId: this.e(),
                    customContentStation: !0
                });
                z.b(Nh, b)
            }
        }), b)) : null == this.t || this.Ib ? (this.Ib = !1,
        0 == this.I.length ? this.wc(r(this, function() {
            if (0 < this._tracks.length)
                this.oa(!0);
            else {
                k.warn("CustomContentStation.start tried to play a custom content station with no tracks");
                var b = $.extend({}, {
                    stationStart: !0,
                    isOnDemand: !0,
                    stationId: this.e(),
                    customContentStation: !0
                });
                z.b(Nh, b)
            }
        })) : this.oa(!0)) : this.lk())
    }
    ;
    f.oa = function(b) {
        _.isUndefined(b) && (b = !0);
        k.info("[CustomContentStation.playNextTrack] ", this.n.ca(), b);
        0 == this.I.length && (this.Oc = !0);
        if (this.active && !this.Cc)
            if (this.Cc = !0,
            this.pr = !this.t || this.t instanceof Hn || this.t.k.Ic ? null : this.t.o(),
            this.Kh(),
            (new Date).getTime() >= this.n._expiration.getTime()) {
                this.Cc = !1;
                var c = $.extend({}, {
                    stationStart: !0,
                    isOnDemand: !0,
                    stationId: this.e(),
                    didExpire: !0
                });
                z.b(Nh, c)
            } else
                this.Ee || this.Oc ? (this.Ee = this.Oc = !1,
                this.Ib = !0,
                this.Cc = !1,
                this.Je ? z.b(vg, this.e()) : this.qf(!1, !1, r(this, function() {
                    this.Xf = !0
                }))) : Os({
                    userInitiated: b
                }, r(this, function() {
                    if (this.La() && this.Rg)
                        F.hH(r(this, function(c) {
                            c && (c.h = this,
                            this.n._delayedInStationAd || this.I.splice(0, 0, c));
                            this.Fg(b)
                        })),
                        this.Rg = !1;
                    else {
                        var c;
                        if (c = this.Gp ? F.Pi(!1) : F.Pi(!0 === b))
                            c.h = this,
                            this.I.splice(0, 0, c);
                        this.Fg(b)
                    }
                    this.Gp = !1
                }))
    }
    ;
    f.Fg = function(b) {
        if (this.active)
            if (0 < this.I.length) {
                var c = this.I.shift();
                c instanceof Ns || this.pm(c) ? (this.t = this.Zd[c.o()] = c,
                this.lk(),
                this.paused || (Es(this.t),
                this.t.load(),
                this.t.play()),
                this.Cc = !1,
                this.t.k.Sj(b)) : (k.info("Dumping Track - it doesn't belong on the current station"),
                this.Cc = !1,
                this.oa(!1))
            } else
                this.Cc = !1,
                this.qf(!1, !1, r(this, function() {
                    this.Xf = !0
                }))
    }
    ;
    f.Sr = function(b) {
        b == m.d.Bu() ? bu(this) : b == m.d.wk() ? z.b(Oh) : b == m.d.eu() ? (b = $.extend({}, {
            stationStart: !0,
            isOnDemand: !0,
            stationId: this.e(),
            didExpire: !0
        }),
        z.b(Nh, b)) : this.handleError()
    }
    ;
    function bu(b) {
        var c = $.isEmptyObject(b.Zd);
        b.Je && c ? (b.Je = !1,
        b.wc(r(b, function() {
            this.oa(!1)
        }))) : c ? b.qf(!0, c, r(b, function() {
            this.Xf = !0
        })) : (b.Ee = !0,
        b.Oc = !0)
    }
    f.wc = function(b, c) {
        b && (this.Fe = b);
        c && (this.He = c);
        this.Ud || (this.He || $.isEmptyObject(this.Zd) || this.Xf ? (this.Ud = !0,
        this.Xf && (this.Xf = !1,
        this.Gp = !0),
        v.gH(this, r(this, function(b) {
            var c = this;
            c._tracks = [];
            c.I = [];
            b = b.tracks;
            this.He && 0 === $.grep(b, function(b) {
                return b.musicId == c.He
            }).length && (k.warn("CustomContentStation.loadPlaylist tried to play a custom content track that does not exist"),
            z.b(Ph, c.e()),
            this.He = null );
            $.each(b, r(this, function(b, d) {
                var p = new au(d,c);
                c._tracks.push(p);
                this.He ? p.k.o() == this.He && (c.I.push(p),
                this.He = null ) : c.I.push(p);
                c.xn(p.nc())
            }));
            En(this.n, _.map(this._tracks, function(b) {
                return b.k
            }));
            z.b(Kg, this.n);
            this.Oc = this.Ud = !1;
            this.qh && 0 < this.I.length && (this.Pt(),
            this.qh = !1);
            this.Fe && (this.Fe(),
            this.Fe = null );
            this.Je = !1;
            b.length && Vs(b[0])
        }), r(this, function(b) {
            k.warn("CustomContentStation.start got ERROR on getCustomContentStation", b);
            this.Ud = !1;
            b = b instanceof Dd ? b.code : null ;
            "FEATURE_TEMPORARILY_UNAVAILABLE" == b ? z.b(dk) : this.Sr(b)
        }))) : (this.Ud = !1,
        bu(this)))
    }
    ;
    f.Pt = function() {}
    ;
    f.HA = function() {}
    ;
    f.Ct = function() {}
    ;
    f.oA = function() {
        return !1
    }
    ;
    function au(b, c) {
        b.stationId = c.e();
        this.wd = b;
        this.wd["class"] = "CustomContentTrack";
        this.h = c;
        this.k = new In(b,b.audioURL);
        this.Sb = b.audioTokenId;
        this.Is = b.isSeed;
        this.Vt = b.userSeed;
        this.NA = b.trackToken;
        this.Na = this.tb = !1;
        this.ye() && (z.pe().li = 2)
    }
    vd(au, ys);
    au.prototype.Sc = function() {
        return "mp3"
    }
    ;
    var cu = !1
      , wq = null
      , Mq = []
      , du = null
      , eu = 1
      , fu = []
      , gu = []
      , hu = null
      , iu = !0;
    function ju() {
        var b = A._data.promotedStation;
        b && (cu = !0,
        wq = b);
        z.c(ni, function(b) {
            b = b.stationId;
            iu || b && hu && b == hu || (hu = b,
            (b = D.Uc(b)) && (b.Tl() || b.Rg && (Bn(b.n) || !b.Z())) || z.b(Lg))
        });
        z.gb(Ie, function() {
            setTimeout(function() {
                z.b(Lg)
            }, 1)
        });
        z.gb(ml, function() {
            setTimeout(function() {
                z.b(Mg, [])
            }, 1)
        });
        z.gb(nl, function() {
            setTimeout(function() {
                z.b(Lg)
            }, 1)
        });
        z.c(Lg, function() {
            var b = v.i;
            b && !b.p() && b.lL && (cu ? v.XG() : (b = D.V(),
            b = C.qH(b ? b.n : null ),
            v.AH(b)))
        });
        z.c(jf, function(b) {
            k.info("Got recommended station suggestions:", b);
            $.each(b, function(b, c) {
                $.each(c, function(b, c) {
                    var d = c.musicId.substr(0, 1);
                    "R" == d ? fu.push({
                        stationName: c.artistName,
                        initialSeed: c.musicId
                    }) : "C" == d ? fu.push({
                        stationName: c.composerName,
                        initialSeed: c.musicId
                    }) : "G" == d ? gu.push({
                        stationName: c.stationName,
                        initialSeed: c.musicId
                    }) : k.error("Unknown error with parsing recommended station suggestions.", c)
                })
            })
        })
    }
    function ku() {
        var b = null ;
        0 < fu.length && 0 <= fu.length - eu ? b = new lu({
            stationName: fu[fu.length - eu].stationName,
            initialSeed: fu[fu.length - eu].initialSeed
        }) : 0 < gu.length && 0 <= gu.length - eu && (b = new lu({
            stationName: gu[gu.length - eu].stationName,
            initialSeed: gu[gu.length - eu].initialSeed
        }));
        du && (du.destroy(),
        du = null );
        b && (du = b,
        eu++)
    }
    function mu() {
        $.each(Mq, function(b, c) {
            c.destroy()
        });
        Mq = []
    }
    function uq(b) {
        var c = v.i;
        0 < Mq.length && mu();
        Mq = b;
        0 == Mq.length ? c.hR && (ku(),
        du ? (b.push(du),
        z.b(Mg, b)) : setTimeout(function() {
            ku();
            du && (b.push(du),
            z.b(Mg, b))
        }, 1E3)) : z.b(Mg, b);
        iu = !1
    }
    function vq(b) {
        pn("user-getpromotedstations-error");
        k.error("error getting promoted stations", b);
        iu = !1
    }
    ;function Xs(b) {
        P.call(this, b)
    }
    vd(Xs, P);
    function lu(b) {
        b.isQuickMix = !1;
        b.promotedStationCampaignId = null ;
        b.recommendedStation = !0;
        b.isOnDemandStation = !1;
        b.isCreator = !0;
        P.call(this, b)
    }
    vd(lu, P);
    function tn() {
        var b = r(this, this.init);
        z.c(ah, xt);
        z.c($g, wt);
        z.c(bh, yt);
        z.c(He, qt);
        nt = b;
        rt();
        st("m4a");
        st("mp3");
        vt()
    }
    var sq = "";
    function nu() {
        var b = 25 + window._sts % 100
          , b = $("div").eq(b).html();
        null != b && (window.divhash = hex_md5(b))
    }
    tn.prototype.init = function() {
        if (it) {
            pn("radio");
            k.info("Radio initializing");
            nu();
            var b = ou();
            D.init();
            ju();
            pu(b);
            qu();
            v.init();
            C.init(D, v);
            F.init();
            Pt();
            z.c(Pi, Et);
            z.c(Qi, Ft);
            z.c(qi, Gt);
            z.c(ei, Ft);
            z.c(Ve, Ft);
            z.c(ni, Ft);
            z.c(si, zq);
            z.c(ti, Aq);
            z.gb(ti, Bq);
            z.c(ui, Cq);
            z.c(vi, Eq);
            z.c(wi, Dq);
            z.c(xi, Fq);
            z.c(Fi, Gq);
            z.c(Hj, Hq);
            z.c(Gi, Jq);
            z.c(Ei, Kq);
            z.c(Ni, Uq);
            z.c(Oi, Vq);
            z.c(Hi, Lq);
            z.c(Ng, Nq);
            z.c(Og, Pq);
            z.c(Ii, Rq);
            z.c(Ji, Tq);
            z.c(Ki, Sq);
            z.c(Li, Xq);
            z.c(Pg, Yq);
            z.c(Si, Zq);
            z.c(yi, br);
            z.c(zi, cr);
            z.c(Ti, $q);
            z.c(Ui, ir);
            z.c(Vi, jr);
            z.c(Wi, fr);
            z.c(Xi, gr);
            z.c(Yi, hr);
            z.c(Zi, kr);
            z.c($i, lr);
            z.c(bj, mr);
            z.c(cj, Wq);
            z.c(dj, nr);
            z.c(ej, ar);
            z.c(gj, or);
            z.c(ij, pr);
            z.c(jj, pr);
            z.c(nj, qr);
            z.c(oj, rr);
            z.c(uj, sr);
            z.c(vj, ur);
            z.c(yj, tr);
            z.c(wj, vr);
            z.c(xj, wr);
            z.c(zj, xr);
            z.c(Bj, zr);
            z.c(Cj, Ar);
            z.c(Dj, Br);
            z.c(Ej, Cr);
            z.c(Fj, yr);
            z.c(ik, Dr);
            z.c(kk, Gr);
            z.c(mk, Er);
            z.c(ek, Kr);
            z.c(fk, Lr);
            z.c(gk, Mr);
            z.c(Gj, Nr);
            z.c(kj, Or);
            z.c(mj, Pr);
            z.c(lj, Qr);
            z.c(Ij, Rr);
            z.c(Jj, Sr);
            z.c(Kj, Tr);
            z.c(Lj, Ur);
            z.c(Mj, Vr);
            z.c(Nj, Wr);
            z.c(Oj, Zr);
            z.c(Qj, Yr);
            z.c(Pj, $r);
            z.c(Vj, Xr);
            z.c(Wj, bs);
            z.c(hk, cs);
            z.c(Xj, ds);
            z.c(Yj, es);
            z.c(Zj, gs);
            z.c(ak, hs);
            z.c(tj, Iq);
            z.c(qi, ks);
            z.c(dl, is);
            z.c(el, js);
            z.c(Ok, os);
            z.c(Lk, ns);
            z.c(Mk, ls);
            z.c(Nk, ms);
            z.c(Ve, fs);
            z.c(qj, dr);
            z.c(Ai, er);
            z.c(hl, as);
            z.c(ok, Jr);
            z.c(qk, Hr);
            z.c(sk, Ir);
            z.c(uk, ps);
            z.c(vk, qs);
            z.c(wk, rs);
            z.c(xk, ss);
            z.c(yk, ts);
            z.c(zk, ws);
            z.c(Ak, us);
            z.c(Ck, vs);
            z.c(pl, Fr);
            z.c(Fk, xs);
            Xt();
            z.c(We, Vt);
            z.c(Ve, Wt);
            new Ht;
            this.Oq = this.bB = !1;
            this.yd();
            z.c(He, r(this, this.yd));
            z.c(eh, r(this, function() {
                v.er();
                v.rc() || this.yd()
            }));
            z.c(Qh, r(this, function() {
                v.er();
                v.rc() || this.yd()
            }));
            z.yh(Sg, r(this, function() {
                this.Oq || null != v.i || (this.Oq = !0,
                z.b(Pe, []),
                z.b(Ee))
            }));
            pn("radio-done")
        }
    }
    ;
    tn.prototype.yd = function(b) {
        pn("user-auth");
        var c = !1;
        this.Oq = this.Gz = !1;
        if (0 == cq)
            pn("user-auth-sync"),
            v.xQ(r(this, function(b) {
                $.cookie("fr", null );
                cq = b;
                dq = Ed();
                this.yd()
            }), function(b) {
                k.error("Error during sync:", b.message)
            });
        else {
            null == A._data.csat || v.rc() || (ym(),
            Bm(A._data.csat),
            c = !0,
            pn("user-auth-customerservice"));
            Ld() && $("iframe[name=lsDataStorage]").remove();
            if (!c) {
                if (v.rc() || this.Bw)
                    this.Bw = !1;
                else {
                    b = om(Al);
                    pn("user-auth-canlisten");
                    v.gF(null == b ? "" : b, r(this, function(b) {
                        b.canListen ? (this.Xy = !1,
                        z.b(Wf, !1)) : (z.b(Wf, !0),
                        this.Xy = !0);
                        this.Bw = !0;
                        this.yd()
                    }), function(b) {
                        k.error("Error during canListen:", b.message)
                    });
                    return
                }
                null == A._data.pt || v.rc() || this.bB || (pn("user-auth-rsat"),
                this.bB = !0,
                v.er());
                if (!v.rc() && an()) {
                    if (!Ld() && window._migrateUserToHttps) {
                        b = 80 != window.location.port ? "https://" + window.location.hostname + ":" + Kd() + window.location.pathname + window.location.search : "https://" + window.location.hostname + window.location.pathname + window.location.search;
                        k.debug("Redirect location: " + b);
                        window.location = b;
                        return
                    }
                    pn("user-auth-persist");
                    k.info("performing auto-login using persisted credentials");
                    z.b(si, {
                        username: om(Gl),
                        password: om(Hl) || "",
                        keepLoggedIn: Am()
                    });
                    return
                }
                this.Xy && v.km()
            }
            var d = Nn();
            if (!v.rc() && d && (k.info("authenticating using credentials from redesign site"),
            On(),
            d.username)) {
                z.b(si, {
                    username: d.username
                });
                return
            }
            if (!v.rc() && v.FK())
                pn("user-auth-anonymous"),
                k.info("authenticating using persisted anonymous credentials"),
                Ld() || Jd(),
                v.OE(om(zl), r(this, function(b) {
                    b instanceof zd && (k.error("Can't log in with persisted anonymous credentials", b.message),
                    A._data.pt = null ,
                    v.km(),
                    c ? alert("Customer service login failed. Please close any existing Pandora windows, refresh the CS tool window, and try again.") : this.yd())
                }));
            else if (v.rc()) {
                k.info("listener is authenticated", v.i);
                pn("user-auth-done");
                if (b && b.lr && !Mn() && (k.info("listener should be in new web-client. Reloading..."),
                Ln(b)))
                    return;
                ru(this)
            } else
                Ld() || Jd(),
                k.info("no persisted credentials, creating new anonymous user"),
                pn("user-auth-new"),
                v.Iw(r(this, function(b) {
                    k.error("Could not create new user:", b.message)
                }))
        }
    }
    ;
    function ou() {
        for (var b = "3r21a#".split("").reverse().join(""), c = $(b + " ~ div").eq(10), d = (new Function("return " + c.html()))(), e = d[0] + d[1] + d[2], h = String["edoCrahCmorf".split("").reverse().join("")], l = "", p = 6; 12 > p; p++)
            var q = h(d[p])
              , l = "A" <= q && "Z" >= q || "a" <= q && "z" >= q ? l + q : l + "_";
        d = d.slice(e, e + 16);
        e = De(window[l], d);
        for (h = 0; 4 > h; h++)
            p = d.slice(4 - h),
            e = De(e, p);
        sq = (new Function(e))();
        $(b).detach();
        c.detach();
        return l
    }
    function ru(b) {
        me(Oo()) || b.Gz ? b.$c() : v.xE(Oo(), r(b, function(b) {
            k.info("RPCService.addTrackingCode returned", b);
            this.Gz = !0;
            ru(this)
        }))
    }
    tn.prototype.$c = function() {
        var b = v.i;
        b.Jr ? (pn("user-auth-init-newbie"),
        z.b(Pe, []),
        z.b(Ee)) : (b.DE && (um(Al, null ),
        z.b(Wf, !1)),
        pn("user-auth-getstations"),
        v.KH(r(this, function(b) {
            pn("user-auth-getstations-success");
            Ae() && b && 0 < b.length ? (z.c(Qe, this.yA),
            z.b(Pe, b)) : (z.b(Pe, b),
            this.yA(b))
        }), r(this, function(b) {
            pn("user-auth-getstations-error");
            k.error("error getting station list", b);
            b instanceof Dd && b.code == m.d.tu() && v.km()
        })),
        pn("user-auth-init-done"),
        setTimeout(function() {
            z.b(Lg)
        }, 100))
    }
    ;
    function pu(b) {
        for (var c = window["hsahvid".split("").reverse().join("")].split(""), d = De(sq, c), e = "[", h = 0; h < c.length; h++)
            0 < h && (e += ", "),
            e += '"' + c[h] + '"';
        window[b] = De('_m(unescape("' + escape(d) + '"), ' + (e + "]") + ")", hex_md5(window._t()).split(""))
    }
    tn.prototype.yA = function(b) {
        if (0 < b.length) {
            var c = om(Ol);
            c && 0 == $.grep(b, function(b) {
                return b.e() == c
            }).length && (c = null );
            c || (c = b[0].e());
            z.b(Ge, c)
        }
        z.b(Ee)
    }
    ;
    function qu() {
        var b = sq.substring(30);
        setTimeout(function() {
            var c = (new Date).getTime() - window._ts.getTime()
              , d = window.getClientKey();
            "undefined" == typeof d || null == d ? pn("getClientKey failed : " + c) : 32 == d.length && 30 == d.indexOf(b) && (sq = d)
        }, 10)
    }
    ;var su = "SONG_SLIDES"
      , tu = "REGISTRATION_PANEL"
      , uu = "TOO_YOUNG_PANEL"
      , vu = "LOGIN_PANEL"
      , wu = "FORGOT_PASSWORD_PANEL"
      , xu = "RESET_PASSWORD_PANEL"
      , yu = "RESET_PASSWORD_BAD_TOKEN_PANEL"
      , zu = "REQUEST_PASSWORD_HELP_PANEL"
      , Au = "REQUEST_PASSWORD_HELP_SUCCESS_PANEL"
      , Bu = "FORGOT_PASSWORD_CONFIRMATION_PANEL";
    var Cu = "activity"
      , Du = "feed"
      , Eu = "connect"
      , Fu = {
        yR: Cu,
        C0: "stations",
        rS: "bookmarks",
        XZ: "likes",
        fV: "following",
        eV: "followers",
        WU: Du,
        CS: Eu
    };
    var Q = 0
      , Gu = Q++
      , Hu = Q++
      , Iu = Q++
      , Ju = Q++
      , Ku = Q++
      , Lu = Q++
      , Mu = Q++
      , Nu = Q++
      , Ou = Q++
      , Pu = Q++
      , Qu = Q++
      , Ru = Q++
      , Su = Q++
      , Tu = Q++
      , Uu = Q++
      , Vu = Q++
      , Wu = Q++
      , Xu = Q++
      , Yu = Q++
      , Zu = Q++
      , $u = Q++
      , av = Q++
      , bv = Q++
      , cv = Q++
      , dv = Q++
      , ev = Q++
      , fv = Q++
      , gv = Q++
      , hv = Q++
      , iv = Q++
      , jv = Q++
      , kv = Q++
      , lv = Q++
      , mv = Q++
      , nv = Q++
      , ov = Q++
      , pv = Q++
      , qv = Q++
      , rv = Q++
      , sv = Q++
      , tv = Q++
      , uv = Q++
      , vv = Q++
      , wv = Q++
      , xv = Q++
      , yv = Q++
      , zv = Q++
      , Av = Q++
      , Bv = Q++
      , Cv = Q++
      , Dv = Q++
      , Ev = Q++
      , Fv = Q++
      , Gv = Q++
      , Hv = Q++
      , Iv = Q++
      , Jv = Q++
      , Kv = Q++
      , Lv = Q++
      , Mv = Q++
      , Nv = Q++
      , Ov = Q++
      , Pv = Q++
      , Qv = Q++
      , Rv = Q++
      , Sv = Q++
      , Tv = Q++
      , Uv = Q++
      , Vv = Q++
      , Wv = Q++
      , Xv = Q++
      , Yv = Q++
      , Zv = Q++
      , $v = Q++
      , aw = Q++
      , bw = Q++
      , cw = Q++
      , dw = Q++
      , ew = Q++
      , fw = Q++
      , gw = Q++
      , hw = Q++
      , iw = Q++
      , jw = Q++
      , kw = Q++
      , lw = Q++
      , mw = Q++
      , nw = Q++
      , ow = Q++
      , pw = Q++
      , qw = Q++
      , rw = Q++
      , sw = Q++
      , tw = Q++
      , uw = Q++
      , vw = Q++
      , ww = Q++
      , xw = Q++
      , yw = Q++
      , zw = Q++
      , Aw = Q++
      , Bw = Q++
      , Cw = Q++
      , Dw = Q++
      , Ew = Q++
      , Fw = Q++
      , Gw = Q++
      , Hw = Q++
      , Iw = Q++
      , Jw = Q++
      , Kw = Q++
      , Lw = Q++
      , Mw = Q++
      , Nw = Q++
      , Ow = Q++
      , Pw = Q++
      , Qw = Q++
      , Rw = Q++
      , Sw = Q++
      , Tw = Q++
      , Uw = Q++
      , Vw = Q++
      , Ww = Q++
      , Xw = Q++
      , Yw = Q++
      , Zw = Q++
      , $w = Q++
      , ax = Q++
      , bx = Q++
      , cx = Q++
      , dx = Q++
      , ex = Q++
      , fx = Q++
      , gx = Q++
      , hx = Q++
      , ix = Q++
      , jx = Q++
      , kx = Q++
      , lx = Q++
      , mx = Q++
      , nx = Q++
      , ox = Q++
      , px = Q++
      , qx = Q++
      , rx = Q++;
    $.each({
        OV: Gu,
        V0: Hu,
        PY: Iu,
        QY: Ju,
        pX: Ku,
        mX: Lu,
        fZ: Mu,
        CX: Nu,
        RY: Ou,
        gZ: Pu,
        ZX: Qu,
        iZ: Ru,
        AX: Su,
        kZ: Tu,
        iW: Uu,
        fW: Vu,
        JW: Wu,
        gY: Xu,
        IY: Yu,
        JY: Zu,
        TB: $u,
        LW: av,
        OX: bv,
        NY: cv,
        OY: dv,
        bZ: ev,
        yX: fv,
        YY: gv,
        wX: hv,
        WY: iv,
        ZY: jv,
        cZ: kv,
        $Y: lv,
        xX: mv,
        XY: nv,
        RZ: ov,
        dX: pv,
        pY: qv,
        lX: rv,
        HZ: sv,
        IW: tv,
        NW: uv,
        DX: vv,
        bX: wv,
        aX: xv,
        xZ: yv,
        wZ: zv,
        VY: Av,
        eZ: Bv,
        TY: Cv,
        MZ: Dv,
        UB: Ev,
        mW: Fv,
        aZ: Gv,
        jZ: Hv,
        UY: Iv,
        MY: Jv,
        LY: Kv,
        hZ: Lv,
        SY: Mv,
        jW: Nv,
        dZ: Ov,
        lW: Pv,
        B1: Qv,
        A1: Rv,
        zV: Sv,
        fS: Tv,
        f_: Uv,
        $0: Vv,
        oT: Wv,
        nT: Xv,
        pT: Yv,
        $R: Zv,
        V1: $v,
        w1: aw,
        v1: bw,
        t1: cw,
        q1: dw,
        VS: ew,
        WS: fw,
        XS: gw,
        uV: hw,
        ZR: iw,
        M1: jw,
        H1: kw,
        WR: lw,
        eS: mw,
        l2: nw,
        g3: ow,
        r0: pw,
        y1: qw,
        z1: rw,
        C_: sw,
        d2: tw,
        b3: uw,
        d3: vw,
        lY: ww,
        mY: xw,
        P0: yw,
        O0: zw,
        n1: Aw,
        o1: Bw,
        cS: Cw,
        bS: Dw,
        IT: Ew,
        kT: Fw,
        s1: Gw,
        r1: Hw,
        e3: Iw,
        Z1: Jw,
        B_: Kw,
        $_: Lw,
        PV: Mw,
        e0: Nw,
        wV: Ow,
        X0: Pw,
        T0: Qw,
        U0: Rw,
        W0: Sw,
        S0: Tw,
        d_: Uw,
        YR: Vw,
        XR: Ww,
        r2: Xw,
        T1: Yw,
        K1: Zw,
        L1: $w,
        N1: ax,
        qV: bx,
        w_: cx,
        j1: dx,
        tS: ex,
        u1: fx,
        E2: gx,
        HT: hx,
        R1: ix,
        y_: jx,
        l1: kx,
        G1: lx,
        VB: mx,
        uX: nx,
        Q0: ox,
        h3: px,
        W_: qx,
        V_: rx
    }, function() {});
    function sx(b) {
        if (!rd(b))
            return !1;
        var c = b.indexOf("@")
          , d = b.length
          , e = b.indexOf(".");
        return -1 == b.indexOf("@") || 0 == c || c == d - 1 || -1 == e || 0 == e || "." == b.substr(d - 1, d) || -1 != b.indexOf("@", c + 1) || "." == b.substring(c - 1, c) || "." == b.substring(c + 1, c + 2) || -1 == b.indexOf(".", c + 2) || -1 != b.indexOf(" ") ? !1 : !0
    }
    function tx(b) {
        return rd(b) ? 6 <= b.length : !1
    }
    function ux(b) {
        return rd(b) ? /^\s*\d{4}\s*$/.test(b) : !1
    }
    function vx(b) {
        return rd(b) ? (new Date).getFullYear() - Number(b) > ("AU" === gp() ? 15 : 13) : !1
    }
    function wx(b, c) {
        if (!c || !b)
            return !1;
        try {
            return RegExp(b).test(c)
        } catch (d) {
            return !/^\s*$/.test(c)
        }
    }
    function xx(b) {
        return rd(b) ? b == Na() || b == Oa() : !1
    }
    function yx(b) {
        if (3 > b.length || 4 < b.length)
            return !1;
        for (var c = 0; c < b.length; c++) {
            var d = b.charCodeAt(c) - 48;
            if (0 > d || 9 < d)
                return !1
        }
        return !0
    }
    function zx(b) {
        for (var c = [], d = 0, e = 0; e < b.length; e++) {
            var h = b.charCodeAt(e) - 48;
            0 <= h && 9 >= h && c.push(h);
            42 == b.charCodeAt(e) && d++
        }
        if (4 < d && 13 <= d + c.length && 16 >= d + c.length)
            return !0;
        if (13 > c.length || 16 < c.length)
            return !1;
        c.reverse();
        for (d = b = 0; d < c.length; d += 2)
            b += c[d];
        for (d = 1; d < c.length; d += 2)
            b += 2 * c[d] % 10 + (5 <= c[d] ? 1 : 0);
        return 0 == b % 10
    }
    function Ax(b) {
        return rd(b) ? "ANNUAL" == b || "MONTHLY" == b || "END_OF_MONTH" == b : !1
    }
    function Bx(b) {
        return rd(b) ? "visa" == b || "mastercard" == b || "discover" == b || "americanexpress" == b : !1
    }
    function Cx(b) {
        var c = "unknown";
        if (rd(d))
            return c;
        var d = b.replace(/[\s-]+/g, "")
          , d = d.replace(/\*/g, "1");
        d.match(/^4[0-9]{12}(?:[0-9]{3})?$/) ? c = "visa" : d.match(/^5[1-5][0-9]{14}$/) ? c = "mastercard" : d.match(/^3[47][0-9]{13}$/) ? c = "americanexpress" : d.match(/^6(?:011|5[0-9]{2})[0-9]{12}$/) && (c = "discover");
        return c
    }
    function Dx(b, c) {
        var d = new Date;
        return b > d.getMonth() && c == d.getFullYear() || c > d.getFullYear()
    }
    function Ex(b) {
        if (null == b)
            return !1;
        if (/^[A-Z0-9]{13,13}$/.test(b))
            return !0;
        var c;
        c = [];
        for (var d = 0; d < b.length; d++) {
            var e = b.charAt(d);
            "0" <= e && "9" >= e && c.push(e)
        }
        c = c.join("");
        return 9 != c.length && 10 != c.length ? !1 : 11 >= b.length
    }
    function Fx(b) {
        return null != b && -1 < b.indexOf("invalid_email")
    }
    function Gx(b) {
        return null != b && -1 < b.indexOf("invalid_zip_code")
    }
    function Hx(b) {
        return null != b && -1 < b.indexOf("invalid_demographic_info")
    }
    function Ix(b) {
        return null != b && -1 < b.indexOf("update_demographic_info")
    }
    ;function Jx(b) {
        var c = b.el;
        k.warn(b);
        "undefined" === typeof b.Of && (b.Of = "Invalid field");
        if (!$(c).hasClass("error")) {
            $(c).addClass("error");
            if ("birthyear" == b.el.name || "datepicker" == b.el.name)
                c = $(b.el).children("label").children("input");
            $('<div class="errorDialog" aria-live="assertive"><p aria-describedby="' + b.id + '">' + b.Of + "</p></div>").insertAfter(c);
            $(c).attr("aria-invalid", !0);
            "datepicker" == b.el.name ? ($(b.el).children("label").attr("for", b.id),
            $("#" + b.id).focus()) : $(c).focus();
            this.el = $(c).next(".errorDialog")[0];
            k.warn(c)
        }
        b.P && b.qa && ue(b.P, b.qa)
    }
    Jx.prototype.xs = function() {
        $(this.el).prev().removeClass("error");
        $(this.el).parent().parent().removeClass("error");
        $(this.el).removeAttr("aria-invalid").removeAttr("aria-live");
        $(this.el).remove()
    }
    ;
    Jx.prototype.close = function() {
        var b = !1
          , c = ["Webkit", "Moz", "O", "ms", "Khtml"]
          , d = document.createElement("div");
        void 0 !== d.style.animationName && (b = !0);
        if (!1 === b)
            for (var e = 0; e < c.length; e++)
                if (void 0 !== d.style[c[e] + "AnimationName"]) {
                    b = !0;
                    break
                }
        k.warn(this.el);
        b || this.xs();
        this.el.addEventListener("animationend", r(this, this.xs), !1);
        this.el.addEventListener("webkitAnimationEnd", r(this, this.xs), !1);
        $(this.el).addClass("outro")
    }
    ;
    function Kx(b, c, d) {
        var e = [];
        b = $.trim(b);
        if (0 < b.length) {
            var h = {};
            $.each(b.split("\n"), function(b, p) {
                var q = p.split("\t");
                if (!h[q[0]]) {
                    h[q[0]] = !0;
                    var t = q[0].substr(0, 1)
                      , y = q[0];
                    if ("TT0" == y)
                        d || e.push(new Lx({
                            stationName: q[1],
                            searchableStationId: q[0],
                            index: b
                        }));
                    else if ("S" == t)
                        e.push(new Mx({
                            songTitle: q[2],
                            artistSummary: q[1],
                            musicId: q[0],
                            index: b
                        }));
                    else if ("R" == t)
                        e.push(new Nx({
                            artistName: q[1],
                            musicId: q[0],
                            index: b
                        }));
                    else if ("C" == t)
                        e.push(new Ox({
                            composerName: q[1],
                            musicId: q[0],
                            index: b
                        }));
                    else if ("G" == t)
                        c || e.push(new Px({
                            genreName: q[1],
                            musicId: q[0],
                            index: b
                        }));
                    else if ("T" == t && "TT0" != y)
                        t = q[0].substring(1),
                        e.push(new Qx({
                            stationName: q[1],
                            stationId: t,
                            index: b
                        }));
                    else if ("A" == t)
                        t = q[0].substring(1),
                        e.push(new Rx({
                            stationName: q[1],
                            stationId: t,
                            index: b
                        }));
                    else
                        return k.error("Unknown autocomplete music id type (ViewUtil)", p),
                        !0;
                    0 == b && e[0] && (e[0] = new Sx({},{
                        model: e[0]
                    }))
                }
            })
        }
        return e
    }
    function Tx(b) {
        var c = [];
        if (b && (c.push(new Ux(b)),
        b = b.stations))
            for (var d = 0; d < b.length; d++)
                "false" == b[d].isQuickMix && c.push(new Vx($.extend(b[d], {
                    musicId: "fs" + b[d].id
                })));
        return c
    }
    var Wx, Xx;
    Wx = function(b) {
        return !Xx(b) && b.match(/.+?@/)
    }
    ;
    Xx = function(b) {
        return b.match(/.+?@.+?\..+/)
    }
    ;
    function Yx(b, c) {
        b.jScrollPane ? (b.jScrollPane({
            hideFocus: !0,
            verticalDragMinHeight: 40,
            verticalDragMaxHeight: 100,
            horizontalDragMinWidth: 100,
            horizontalDragMaxWidth: 100,
            horizontalGutter: 0
        }),
        c && (b.attr("scrollerName", c),
        $(".jspDrag", b).unbind("mousedown", Zx),
        $(".jspDrag", b).bind("mousedown", Zx),
        $(".jspTrack", b).unbind("mousedown", Zx),
        $(".jspTrack", b).bind("mousedown", Zx),
        $(".jspPane", b).unbind("mousewheel", Zx),
        $(".jspPane", b).bind("mousewheel", Zx),
        b.bind("keyup", $x),
        b.bind("keyup", $x))) : qe("Can't create jScrollPane. el=" + b)
    }
    function $x(b) {
        _.any([38, 40, 33, 34, 35, 36], function(c) {
            return c == b.which
        }) && Zx(b)
    }
    function Zx(b) {
        b = $(b.target).closest("[scrollerName]");
        R(Tw, $(b).attr("scrollerName"))
    }
    function ay(b, c) {
        var d = b.closest(".scroll-pane");
        if (d && d.is(":visible"))
            try {
                d.data("jsp").scrollToElement(c)
            } catch (e) {}
    }
    function by(b, c, d, e, h) {
        cy();
        var l = $("#lightboxTmpl").tmpl({
            classname: b,
            dont_close: h
        });
        e ? $(".lightbox_footer", l).append(e) : $(".lightbox_footer", l).remove();
        c ? $(".lightbox_header", l).append(c) : $(".lightbox_header", l).remove();
        $(".lightbox_content", l).append(d);
        $(".close", l).bind("click", function() {
            l.fadeTo(400, 0, function() {
                $(l).trigger("closed")
            });
            return !1
        });
        l.css("top", $(window).scrollTop() + 200 + "px");
        l.css("opacity", 0);
        "first_interaction" != b && "postreg_ad" != b || l.css("margin-left", "auto");
        b = null ;
        Ae() && (b = function() {
            l.css("filter", "none !important")
        }
        );
        return l.fadeTo(400, 1, b)
    }
    function dy(b, c, d) {
        cy();
        var e = $("#onboarding-lightboxTmpl").tmpl({
            classname: "",
            dont_close: void 0
        });
        d ? $(".onboarding-lightbox_footer", e).append(d) : $(".onboarding-lightbox_footer", e).remove();
        b ? $(".onboarding-lightbox_header", e).append(b) : $(".onboarding-lightbox_header", e).remove();
        $(".onboarding-lightbox_content", e).append(c);
        $(".close", e).bind("click", function() {
            e.fadeTo(400, 0, function() {
                $(e).trigger("closed")
            });
            return !1
        });
        e.css("opacity", 0);
        b = null ;
        Ae() && (b = function() {
            e.css("filter", "none !important")
        }
        );
        return e.fadeTo(400, 1, b)
    }
    function cy(b) {
        $(".lightbox:visible").each(function(c, d) {
            b && 0 != $(b, d).length || $(".close", $(d)).click()
        })
    }
    function ey(b, c) {
        $(".likeButton[data-like-type=" + c.Hf() + "]", b).each(function() {
            var b = $(this);
            if (b.attr("data-like-objectid") == c.Jc) {
                var e = fy(c.Hf(), c.Jc);
                b.removeClass("unknown");
                e = "genrestation" == e ? "genre station" : e;
                le(c.df) && "0" != c.df ? (b.addClass("selected"),
                b.attr("data-like_id", c.df),
                b.css("background-image", "url(/img/likes/liked.png)"),
                b.text(Ic() + e)) : (b.removeClass("selected"),
                b.removeAttr("data-like_id"),
                b.css("background-image", "url(/img/likes/like.png)"),
                b.text(Jc() + e))
            }
        })
    }
    function fy(b, c) {
        b == m.Ue.$P() ? b = "track" : b == m.Ue.FE() && "C" == c.charAt(0) && (b = "composer");
        return b
    }
    function gy(b) {
        b.target.getAttribute("data-like_id") && $(b.target).text(Mc());
        $(b.target).css("background-image", $(b.target).hasClass("selected") ? "url(/img/likes/liked-hover.png)" : "url(/img/likes/like-hover.png)")
    }
    function hy(b) {
        if (b.target.getAttribute("data-like_id")) {
            var c = fy(b.target.getAttribute("data-like-type"), b.target.getAttribute("data-like-objectid"));
            $(b.target).text(Ic() + c)
        }
        $(b.target).css("background-image", $(b.target).hasClass("selected") ? "url(/img/likes/liked.png)" : "url(/img/likes/like.png)")
    }
    (function(b) {
        b.fn.A3 = function() {
            this.each(function() {
                var c = b(this);
                if ("hidden" == c.css("overflow")) {
                    var d = c.html();
                    c.width();
                    var e = b(this.cloneNode(!0)).hide().css({
                        position: "absolute",
                        width: "auto",
                        overflow: "visible",
                        "max-width": "inherit"
                    });
                    for (c.after(e); 0 < d.length && e.width() > c.width(); )
                        d = d.substr(0, d.length - 1),
                        e.html(d + "...");
                    c.html(e.html());
                    e.remove()
                }
            })
        }
    })(jQuery);
    (function(b) {
        var c = b.fn.fadeOut;
        b.fn.fadeOut = function() {
            for (var d = [], e = 0; e < arguments.length; e++)
                d.push(arguments[e]);
            var h = this;
            if (0 < d.length && "function" == typeof d[d.length - 1]) {
                var l = d[d.length - 1];
                d[d.length - 1] = function() {
                    b.fn.hide.apply(h);
                    l.apply(h)
                }
            } else
                0 == d.length && d.push(400),
                d.push(function() {
                    b.fn.hide.apply(h)
                });
            return c.apply(this, d)
        }
    })(jQuery);
    (function(b) {
        b.fn.extend({
            vw: function(c) {
                c = b.extend({
                    jm: window,
                    transition: 0,
                    Zy: 0,
                    $y: 0,
                    jB: !0,
                    nR: !0,
                    QK: !0
                }, c);
                return this.each(function() {
                    var d = {
                        position: "absolute"
                    };
                    if (c.nR) {
                        var e = (b(c.jm).height() - b(this).outerHeight()) / 2;
                        c.jB && (e += b(c.jm).scrollTop() || 0);
                        e = e > c.$y ? e : c.$y;
                        b.extend(d, {
                            top: e + "px"
                        })
                    }
                    c.QK && (e = (b(c.jm).width() - b(this).outerWidth()) / 2,
                    c.jB && (e += b(c.jm).scrollLeft() || 0),
                    e = e > c.Zy ? e : c.Zy,
                    b.extend(d, {
                        left: e + "px"
                    }));
                    0 < c.transition ? b(this).animate(d, c.transition) : b(this).css(d);
                    return b(this)
                })
            }
        })
    })(jQuery);
    function iy(b) {
        var c = []
          , d = b.get("currentStation")
          , e = b.get("currentTrack");
        d && d.D() && e && (d = b.get("stationList").Rc(e.e()));
        b = b.get("stationList");
        for (e = 0; e < b.length; e++) {
            var h = b.models[e];
            !h.Z() || h.D() || h == d || h.Db() || h.Tb() || c.push(h.toJSON())
        }
        return c
    }
    function jy() {
        return $("#mainContent .home").is(":visible") && !$("#splash").is(":visible")
    }
    function ky(b) {
        b = $(b);
        b = $("input:checkbox.styled", b);
        for (var c = 0; c < b.length; c++) {
            var d = $(b[c])
              , e = $(document.createElement("span"));
            e.attr("class", "checkbox");
            d.prop("checked") && e.addClass("checked");
            d.parent().prepend(e);
            d.change(r(d, function() {
                $(".checkbox", this.parent()).removeClass("pushed");
                this.prop("checked") ? $(".checkbox", this.parent()).addClass("checked") : $(".checkbox", this.parent()).removeClass("checked")
            }));
            e.mousedown(r(d, function() {
                this.prop("checked") ? $(".checkbox", this.parent()).addClass("pushed") : $(".checkbox", this.parent()).removeClass("pushed")
            }));
            e.mouseup(r(d, function() {
                $(".checkbox", this.parent()).removeClass("pushed");
                this.prop("checked") ? ($(".checkbox", this.parent()).removeClass("checked"),
                this.prop("checked", !1)) : ($(".checkbox", this.parent()).addClass("checked"),
                this.prop("checked", !0));
                this.change()
            }))
        }
    }
    function ly(b, c) {
        if (null != b && b instanceof Fn) {
            var d = b.e()
              , e = c.detect(function(b) {
                return b.e() == d
            });
            if (null != e)
                return e.Ha() && !e.Z() || e.re() === m.Fc.Ve()
        }
        return !1
    }
    function my(b) {
        if (me(b))
            return "$0.00";
        var c = b.length;
        if (1 == c)
            return "$0.0" + b;
        var d = b.substring(0, c - 2);
        0 == d.length && (d = "0");
        return "$" + d + "." + b.substring(c - 2, c)
    }
    ;function ny(b, c) {
        var d = b.S() || po(b);
        return "MONTHLY" === c ? d ? b.kl.toString() : no(b) : "ANNUAL" === c ? d ? b.jl.toString() : b.le.toString() : "END_OF_MONTH" === c ? b.TN.toString() : "0"
    }
    function oy(b) {
        return "MONTHLY" === b ? "month" : "ANNUAL" === b ? "year" : "END_OF_MONTH" === b ? "month" : "QUARTERLY" === b ? "quarter" : ""
    }
    function py(b, c) {
        $(".auto_renew_on", b).toggle(c);
        $(".auto_renew_off", b).toggle(!c)
    }
    ;function qy(b) {
        this.Ap = b;
        this.Tg = this.Ug = null
    }
    var ry = !1
      , sy = !1;
    function ty(b, c) {
        uy(b, c, null )
    }
    function uy(b, c, d) {
        ry && !c ? sy = !0 : (ry = !0,
        sy = !1,
        b.Ug = [],
        b.Tg = {},
        (d ? $(".facebookThumbnail", d) : $(".facebookThumbnail")).each(function(b, c) {
            var d = $(c);
            d.attr("src", Gd(d, !0))
        }),
        (d ? $(".facebookName", d) : $(".facebookName")).each(r(b, function(b, c) {
            var d = $(c).attr("fbid");
            if (d && "" != d && "-1" != d && "0" != d) {
                var p = null != this.Ap ? this.Ap.lq(d) : null ;
                me(p) ? (-1 == jQuery.inArray(d, this.Ug) && this.Ug.push(d),
                this.Tg[d] ? this.Tg[d].push(c) : this.Tg[d] = [c]) : vy($(c), p)
            }
        })),
        0 == b.Ug.length ? ry = !1 : wy(b))
    }
    function vy(b, c) {
        b.removeAttr("fbid");
        null != c && "Facebook User" != c && (b.data("forcefacebook") || jQuery.trim(b.text()) == jQuery.trim(b.attr("webname"))) && b.text(c)
    }
    function wy(b) {
        if (0 == b.Ug.length)
            ry = !1,
            sy && ty(b, !0);
        else {
            var c = b.Ug.splice(0, 100);
            R(pv, {
                fbids: c,
                fbCallback: r(b, b.YG)
            })
        }
    }
    qy.prototype.YG = function(b) {
        if (b && null == b.error_code) {
            for (var c = this.Ap, d = 0; d < b.length; d++)
                c.Lg[b[d].id + "f"] = b[d].name;
            for (c = 0; c < b.length; c++) {
                var d = b[c].id
                  , e = this.Tg[d];
                if (e) {
                    for (var h = 0; h < e.length; h++)
                        vy($(e[h]), b[c].name);
                    this.Tg[d] = null
                }
            }
            wy(this)
        } else
            ry = !1
    }
    ;
    var xy = {
        m: "January February March April May June July August September October November December".split(" "),
        uH: function() {
            return xy.m[(new Date).getMonth() + 1]
        },
        jH: function(b) {
            var c = new Date;
            if (c.getTime() > b.getTime())
                return "unavailable";
            if (c.getFullYear() == b.getFullYear() && c.getMonth() == b.getMonth()) {
                if (c.getDate() == b.getDate() - 1)
                    return "tomorrow";
                if (c.getDate() == b.getDate())
                    return "today"
            }
            return b.toLocaleDateString()
        }
    };
    var yy = "default"
      , zy = "default";
    window.setActiveStyleSheet = function(b) {
        Ay(b)
    }
    ;
    window.setDefaultValance = function(b, c) {
        yy = b;
        Ay(yy);
        null != c && (c = c.replace("__UNIQUE__", (new Date).getTime()),
        (new Image(1,1)).src = c)
    }
    ;
    function By() {
        Ay(yy)
    }
    window.switchToDefaultValance = By;
    function Ay(b) {
        null != window.location.search && window.location.search.match(/valance=([^&]*)/) && (b = RegExp.$1);
        zy = b;
        document.getElementById("valanceStyle").href = "/static/valances/pandora/" + zy + "/design.css"
    }
    window.setCurrentValance = Ay;
    function Cy() {}
    function Dy(b) {
        var c = new Cy;
        c.hf = b["@musicId"];
        c.Bo = ee(b["@explorerUrl"]);
        c.kv = he(b["@detailUrl"]);
        c.Jo = b["@name"];
        c.PC = b["@artUrl"] || "/img/no_artist_image.png";
        c.dv = b.bio || "";
        c.Iv = [];
        b.similar && $.each(b.similar, function(b, e) {
            c.Iv.push(Dy(e))
        });
        Ey(c);
        return c
    }
    function Ey(b) {
        b.name = b.Jo;
        b.bio = b.dv;
        b.artUrl = b.PC;
        b.detailUrl = b.kv
    }
    Cy.prototype.getName = function() {
        return this.Jo
    }
    ;
    Cy.prototype.kL = function() {
        return "C" == this.hf.charAt(0)
    }
    ;
    Cy.prototype.o = function() {
        return this.hf
    }
    ;
    function Fy(b, c) {
        return null == c ? !1 : c.Ye == b.hf || c.wo == b.getName()
    }
    ;function Gy() {}
    function Hy(b) {
        var c = new Gy;
        c.cc = b.data("musicid");
        c.Zh = b.attr("data-lyricid");
        c.ev = b.data("checksum");
        c.zv = b.attr("data-lyricid-nonexplicit");
        c.fv = b.data("checksum-nonexplicit");
        return c
    }
    function Iy(b) {
        var c = new Gy;
        c.cc = b.o();
        c.Zh = b.Zh;
        c.zv = b.Zh;
        c.ev = b.yv;
        c.fv = b.yv;
        return c
    }
    Gy.prototype.o = function() {
        return this.cc
    }
    ;
    Gy.prototype.kq = function() {
        return this.ev
    }
    ;
    function Jy(b, c, d) {
        this.Av = b.replace(/\n/g, "<br>");
        this.iv = c.replace(/\n/g, "<br>");
        this.cc = d
    }
    Jy.prototype.o = function() {
        return this.cc
    }
    ;
    function Ky(b, c, d, e) {
        this.eE = b;
        this.Kv = c;
        this.Qo = d;
        this.BD = e
    }
    Ky.prototype.C = function() {
        return this.eE
    }
    ;
    function Ly(b, c, d, e, h, l) {
        this.type = b;
        this.bz = c;
        this.ih = e;
        this.sl = d;
        this.CQ = h;
        this.MG = l
    }
    Ly.prototype.C = function() {
        return this.type
    }
    ;
    for (H = nq[23]; -1 != H; )
        switch (H) {
        case 17:
            G[740] = -1533061352;
            H = nq[12];
            break;
        case 15:
            G[310] = 3061018486;
            H = nq[30];
            break;
        case 48:
            G[241] = -919527311;
            H = nq[25];
            break;
        case 19:
            G[561] = 395964679;
            H = nq[16];
            break;
        case 8:
            G[73] = 771947589;
            H = nq[28];
            break;
        case 37:
            G[365] = 1271548579;
            H = nq[14];
            break;
        case 9:
            G[661] = 1521836994;
            H = nq[11];
            break;
        case 43:
            G[582] = 860879390;
            H = nq[17];
            break;
        case 20:
            G[753] = -418823080;
            H = nq[15];
            break;
        case 52:
            H = nq[49];
            break;
        case 56:
            G[135] = -1616599864;
            H = nq[59];
            break;
        case 28:
            G[633] = -639279888;
            H = nq[6];
            break;
        case 16:
            H = nq[60];
            break;
        case 3:
            G[668] = 1406003075;
            H = nq[56];
            break;
        case 27:
            H = nq[41];
            break;
        case 2:
            G[414] = 1549854583;
            H = nq[45];
            break;
        case 24:
            G[353] = 382320335;
            H = nq[36];
            break;
        case 30:
            G[220] = -89931965;
            H = nq[18];
            break;
        case 7:
            G[993] = 1850007317;
            H = nq[42];
            break;
        case 50:
            G[798] = -67114748;
            H = nq[26];
            break;
        case 18:
            G[142] = 2873452704;
            H = nq[44];
            break;
        case 23:
            G[539] = 1491228658;
            H = nq[31];
            break;
        case 31:
            G[878] = -950896169;
            H = nq[33];
            break;
        case 26:
            G[265] = -600056631;
            H = nq[7];
            break;
        case 14:
            H = nq[50];
            break;
        case 38:
            G[469] = -1260926338;
            H = nq[24];
            break;
        case 46:
            G[852] = 2511201188;
            H = nq[40];
            break;
        case 10:
            G[416] = -197307887;
            H = nq[47];
            break;
        case 6:
            G[1032] = 1913623406;
            H = nq[8];
            break;
        case 45:
            G[269] = 1870522574;
            H = nq[55];
            break;
        case 44:
            G[452] = 2262615826;
            H = nq[9];
            break;
        case 39:
            G[634] = 2137686094;
            H = nq[22];
            break;
        case 58:
            G[495] = 2100999107;
            H = nq[38];
            break;
        case 47:
            G[710] = -989423883;
            H = nq[35];
            break;
        case 53:
            H = nq[39];
            break;
        case 21:
            G[1009] = -1484909634;
            H = nq[27];
            break;
        case 55:
            G[652] = -1780588840;
            H = nq[1];
            break;
        case 13:
            H = nq[32];
            break;
        case 33:
            H = nq[43];
            break;
        case 25:
            G[185] = 1830648549;
            H = nq[48];
            break;
        case 22:
            G[956] = 2000833224;
            H = nq[13];
            break;
        case 40:
            G[646] = -342567360;
            H = nq[51];
            break;
        case 54:
            G[756] = 2138374873;
            H = nq[52];
            break;
        case 29:
            G[990] = -1562694456;
            H = nq[46];
            break;
        case 11:
            G[139] = -233788760;
            H = nq[34];
            break;
        case 57:
            G[569] = 619118301;
            H = nq[29];
            break;
        case 34:
            H = nq[2];
            break;
        case 49:
            H = nq[57];
            break;
        case 42:
            G[53] = 353636178;
            H = nq[10];
            break;
        case 1:
            G[918] = 1149081892;
            H = nq[5];
            break;
        case 35:
            G[330] = 65044444;
            H = nq[21];
            break;
        case 36:
            H = nq[53];
            break;
        case 4:
            G[523] = 585948585;
            H = nq[20];
            break;
        case 32:
            H = nq[0];
            break;
        case 59:
            G[418] = 1086405811;
            H = nq[58];
            break;
        case 41:
            G[1004] = 2970968853;
            H = nq[37];
            break;
        case 5:
            G[534] = -1570293357;
            H = nq[3];
            break;
        case 12:
            G[877] = 2046969883;
            H = nq[19];
            break;
        case 0:
            G[52] = 1857826114;
            H = nq[4];
            break;
        case 51:
            G[442] = -1769946258,
            H = nq[54]
        }
    ;function My(b, c, d) {
        this.h = b;
        this.track = c;
        this.RF = d
    }
    My.prototype.r = function() {
        return this.h
    }
    ;
    My.prototype.ah = function() {
        return this.track
    }
    ;
    My.prototype.V = function() {
        return this.RF
    }
    ;
    function Ny(b, c, d, e, h, l) {
        this.$h = b;
        this.vv = c;
        this.gE = d;
        this.cD = e;
        this.ZC = h;
        this.Sk = l
    }
    Ny.prototype.Gw = function() {
        return this.cD
    }
    ;
    Ny.prototype.eb = function() {
        return !0 === this.Sk
    }
    ;
    Ny.prototype.update = function(b) {
        var c = this.$h;
        this.vv && b && (c = 0 == b.indexOf(this.$h) ? b : c + ("/" + b));
        c != $.address.value() && (this.gE ? $.address.value(c) : ($.address.history(!1),
        $.address.value(c),
        $.address.history(!0)))
    }
    ;
    function Oy(b, c, d) {
        this.Fv = b;
        this.UD = c;
        this.NC = d
    }
    ;function Py(b) {
        this.data = b;
        this.mj = this.Ut = !1;
        this.cg = !0;
        var c = parseInt(b.skipDelaySeconds, 10);
        this.WP = !isNaN(c) && isFinite(c) ? Math.max(0, c) : 15;
        this.Qr = b.onAdvertiserStation ? b.onAdvertiserStation : !1;
        this.LP = b.showScrubber ? b.showScrubber : !1;
        this.iQ = b.startUrl;
        this.NG = b.firstQuartileUrl;
        this.UO = b.secondQuartileUrl;
        this.BQ = b.thirdQuartileUrl;
        this.CF = b.completeUrl;
        this.uf = b.clickthrough_web ? b.clickthrough_web : b.clickthrough_songSlide;
        this.pc = b.impression;
        this.tracker = b.tracker;
        this.nl = (this.vf = b.companion) && "*INLINED*" == this.vf ? b.companionHTML_320x50 : b.companion_web;
        this.cc = "V1";
        this.Pb = b.image;
        this.ie = -1;
        this.jb = this.Ja = "ad";
        this.Go = this.Hc = this.Wh = ""
    }
    vd(Py, Hn);
    f = Py.prototype;
    f.C = function() {
        return this.data.type
    }
    ;
    function Qy(b) {
        return b.data.creativeType && "yume" == b.data.creativeType
    }
    function Ry(b) {
        return b.data.uif
    }
    function Sy(b) {
        return b.data.uif ? "VPAID" == b.data.mode ? "VPAID" : "VAST" : null
    }
    function Ty(b) {
        return b.data.clickthrough_logo
    }
    function Uy(b) {
        return b.data.clickthrough_learnMore
    }
    function Vy(b) {
        return b.data.clickthrough_videoPlayer
    }
    function Wy(b) {
        var c = b.data.movie;
        null == c && (c = b.data.uif);
        return c
    }
    f.eb = function() {
        return void 0 != this.Ut && !0 == this.Ut
    }
    ;
    f.Sj = function(b) {
        this.Ut = b
    }
    ;
    f.om = function() {
        return "HOUSE" != this.C() && this.cg
    }
    ;
    f.Qs = function(b) {
        this.cg = b
    }
    ;
    f.get = function(b) {
        return this.data[b]
    }
    ;
    f.set = function(b, c) {
        this.data[b] = c
    }
    ;
    function Xy(b) {
        this.bD = $("caption_header", b).text();
        this.$C = $("caption", b).text();
        this.aD = $("caption_footer", b).text();
        this.UC = $("artist_id", b).text();
        this.iE = $("video_page_url", b).text();
        this.YC = $("bubble_image_url", b).text()
    }
    ;function Yy(b, c, d, e) {
        this.kE = b;
        this.WC = c;
        this.bE = d;
        this.wD = !!e
    }
    Yy.prototype.Eb = function() {
        return this.kE
    }
    ;
    Yy.prototype.Ya = function() {
        return this.WC
    }
    ;
    Yy.prototype.S = function() {
        return this.wD
    }
    ;
    function Zy() {}
    Zy = Backbone.Model.extend({
        initialize: function(b) {
            this.n = b;
            _.extend(this, b)
        },
        getStationData: function() {
            return this.n
        }
    });
    function $y() {}
    $y = Backbone.Collection.extend({
        model: Zy,
        comparator: function(b) {
            var c = b.D() && b.Z();
            return wl && !0 === om(Pl) ? c ? "a" : b.Db() || b.Tb() ? "b" + b.ca().toLowerCase() : "z" + b.ca().toLowerCase() : -1 * (b.Db() || b.Tb() ? 5E12 - 1 : c ? 5E12 : b._chronologicalSequence)
        },
        Rc: function(b) {
            return this.detect(function(c) {
                return c.e() == b
            })
        }
    });
    var az = Backbone.Collection.extend({
        comparator: function(b) {
            var c;
            b.C() === Ux ? c = "A" : b instanceof Sx ? c = "B" : b.C() === Lx ? c = "C" : b.C() === Nx ? c = "D" : b.C() === Ox ? c = "E" : b.C() === Mx ? c = "F" : b.C() === Px ? c = "G" : b.C() === Vx ? c = "H" : b.C() === Qx ? c = "I" : b.C() === Rx && (c = "J");
            return c += String.fromCharCode(65 + b.get("index"))
        }
    });
    var Mx = Backbone.Model.extend({
        validate: function(b) {
            if (!b.songTitle || 0 == b.songTitle.length)
                return k.error("Missing 'songTitle'"),
                "Missing 'songTitle'";
            if (!b.artistSummary || 0 == b.artistSummary.length)
                return k.error("Missing 'artistSummary'"),
                "Missing 'artistSummary'";
            if (!b.musicId || 0 == b.musicId.length)
                return k.error("Missing 'musicId'"),
                "Missing 'musicId'"
        },
        Ub: function() {
            return "#searchPopupSongItem"
        },
        nb: function() {
            return Sa()
        },
        C: function() {
            return Mx
        }
    });
    var Lx = Backbone.Model.extend({
        validate: function(b) {
            if (!b.stationName || 0 == b.stationName.length)
                return k.error("Missing 'stationNameName'"),
                "Missing 'stationNameName'";
            if (!b.searchableStationId || 0 == b.searchableStationId.length)
                return k.error("Missing 'searchableStationId'"),
                "Missing 'searchableStationId'"
        },
        Ub: function() {
            return "#searchPopupCreateStationItem"
        },
        nb: function() {
            return Xa()
        },
        C: function() {
            return Lx
        }
    });
    var Nx = Backbone.Model.extend({
        validate: function(b) {
            if (!b.artistName || 0 == b.artistName.length)
                return k.error("Missing 'artistName'"),
                "Missing 'artistName'";
            if (!b.musicId || 0 == b.musicId.length)
                return k.error("Missing 'musicId'"),
                "Missing 'musicId'"
        },
        Ub: function() {
            return "#searchPopupArtistItem"
        },
        nb: function() {
            return Ta()
        },
        C: function() {
            return Nx
        }
    });
    var Ox = Backbone.Model.extend({
        validate: function(b) {
            if (!b.composerName || 0 == b.composerName.length)
                return k.error("Missing 'composerName'"),
                "Missing 'composerName'";
            if (!b.musicId || 0 == b.musicId.length)
                return k.error("Missing 'musicId'"),
                "Missing 'musicId'"
        },
        Ub: function() {
            return "#searchPopupComposerItem"
        },
        nb: function() {
            return Ua()
        },
        C: function() {
            return Ox
        }
    });
    var Px = Backbone.Model.extend({
        validate: function(b) {
            if (!b.genreName || 0 == b.genreName.length)
                return k.error("Missing 'genreName'"),
                "Missing 'genreName'";
            if (!b.musicId || 0 == b.musicId.length)
                return k.error("Missing 'musicId'"),
                "Missing 'musicId'"
        },
        Ub: function() {
            return "#searchPopupGenreItem"
        },
        nb: function() {
            return Va()
        },
        C: function() {
            return Px
        }
    });
    var Rx = Backbone.Model.extend({
        Ub: function() {
            return "#searchPopupAdvertiserItem"
        },
        nb: function() {
            return Wa()
        },
        C: function() {
            return Rx
        }
    });
    function Qx() {}
    Qx = Backbone.Model.extend({
        initialize: function() {},
        validate: function() {},
        Ub: function() {
            return "#searchPopupArtistStationItem"
        },
        nb: function() {
            return Ya()
        },
        C: function() {
            return Qx
        }
    });
    function Sx() {}
    Sx = Backbone.Model.extend({
        initialize: function(b, c) {
            this.ts = c.model;
            this.set($.extend({
                tophit: !0
            }, this.ts.attributes))
        },
        Ub: function() {
            return this.ts.Ub()
        },
        nb: function() {
            return Ra()
        },
        C: function() {
            return this.ts.C()
        }
    });
    var Vx = Backbone.Model.extend({
        Ub: function() {
            return "#searchPopupStationItem"
        },
        nb: function() {
            return Xa()
        },
        C: function() {
            return Vx
        }
    });
    var Ux = Backbone.Model.extend({
        Ub: function() {
            return "#searchPopupProfileItem"
        },
        nb: function() {
            return ""
        },
        C: function() {
            return Ux
        }
    });
    function bz() {}
    bz = Backbone.View.extend({
        initialize: function() {
            z.c(Fe, r(this, this.jx));
            z.c(Ee, r(this, this.jx));
            setTimeout(function() {
                z.b(dg, "splash")
            }, 1)
        },
        jx: function() {
            z.b(eg, "splash");
            $(this.el).fadeOut("fast")
        },
        el: $("#splash").get(0)
    });
    function cz() {}
    cz = Backbone.View.extend({
        initialize: function() {
            this.Yd = this.model.get("stationList");
            S(jw, r(this, this.oQ));
            this.model.bind("change:currentStation", r(this, this.RA));
            this.model.bind("change:currentUser", r(this, this.Bn));
            this.model.bind("change:hasStations", r(this, this.Bn));
            this.model.bind("change:facebookAuthenticated", r(this, this.Bn));
            this.model.bind("change:siteLocked", r(this, this.mt));
            this.model.bind("change:poisoned", r(this, this.GM));
            this.model.bind("change:modalPanel", r(this, this.ia));
            this.model.bind("change:videoAdPlaying", r(this, this.oR));
            this.va = new dz($(".user_activator", this.el),null ,$("#user_menu_dd"))
        },
        el: $("#brandingBar").get(0),
        Vj: !1,
        oQ: function(b) {
            this.model.get("currentStation").e() == b.e() && this.RA()
        },
        RA: function() {
            var b = this.model.get("currentUser")
              , c = this.model.get("currentStation");
            null != c ? (b = $("#stationChangeSelectorTmpl").tmpl({
                currentStation: c.ca(),
                currentStationId: c.e(),
                stations: this.Yd.toJSON(),
                showDropDownMenu: b && !b.J()
            }),
            $(".middlecolumn", this.el).empty().append(b).fadeIn(400, function() {
                var b = $(".middlecolumn .stationChangeList", this.el);
                b.css("visibility", "hidden").show();
                Yx($(".scroll-pane", b), "station_list");
                b.hide().css("visibility", "visible")
            })) : $(".middlecolumn", this.el).fadeOut().text("")
        },
        Bn: function() {
            var b = this.model.get("currentUser");
            if (null == b)
                this.Uq();
            else if (b.p())
                $(".registeredUser", this.el).hide(),
                $(".subscribedUser", this.el).hide(),
                $(".anonymousUser", this.el).show();
            else {
                $(".anonymousUser", this.el).hide();
                this.model.get("facebookAuthenticated") && b.dq ? ($(".userName", this.el).text(b.lc),
                $(".userNameImage", this.el).empty().append('<img src="https://graph.facebook.com/v2.2/' + b.Ea + '/picture?type=square" width="20" height="20">').show()) : ($(".userName", this.el).text(b.Ka),
                $(".userNameImage", this.el).hide());
                $("a.helpMenuItem", this.el).attr("href", "/help?un=" + b.Ka);
                var c = $(".user_activator", this.el).width() + 30;
                $("#user_menu_dd", this.el).width(Math.max(c, 100));
                $(".notAnonymousUser", this.el).show();
                b.J() ? ($("#rightColumnDivider", this.el).show(),
                $(".registeredUser", this.el).show()) : ($(".registeredUser", this.el).hide(),
                $("#rightColumnDivider", this.el).hide());
                b.fw ? 0 == $("#user_menu_dd .aaMenuItem", this.el).length && ($("#user_menu_dd .profileMenuItem", this.el).parent().after('<li class="menu able"><a class="aaMenuItem">Artist Insights</a></li>'),
                $("#user_menu_dd .aaMenuItem", this.el).attr("href", b.fw).show()) : 0 < $("#user_menu_dd .aaMenuItem", this.el).length && $("#user_menu_dd .aaMenuItem", this.el).remove()
            }
            $(".logosubscriber", this.el).css("display", "none");
            $(".logobusiness", this.el).css("display", "none");
            null == b || b.J() ? $(".logo", this.el).css("display", "block") : ($(".logo", this.el).css("display", "none"),
            b.S() ? $(".logobusiness", this.el).css("display", "block") : $(".logosubscriber", this.el).css("display", "block"))
        },
        Uq: function() {
            $(".anonymousUser", this.el).hide();
            $(".notAnonymousUser", this.el).hide();
            $(".registeredUser", this.el).hide();
            $(".middlecolumn", this.el).fadeOut()
        },
        mt: function() {
            this.model.get("siteLocked") ? ($(".able", this.el).hide(),
            $(".middlecolumndisabled", this.el).show()) : ($(".able", this.el).show(),
            $(".middlecolumndisabled", this.el).hide())
        },
        oR: function() {
            this.model.get("videoAdPlaying") ? $(".disabled", this.el).show() : $(".disabled", this.el).hide()
        },
        GM: function() {
            this.model.get("poisoned") ? $(".registerLink", this.el).removeClass("underline").css("cursor", "default") : $(".registerLink", this.el).addClass("underline").css("cursor", "pointer")
        },
        ia: function() {
            this.model.get("modalPanel") == uu ? this.Uq() : this.Bn()
        },
        events: {
            "click .logo": "logoClick",
            "click .logosubscriber": "logoClick",
            "click .logobusiness": "logoClick",
            "click .signoutMenuItem": "signoutMenuItemClick",
            "click .helpMenuItem": "helpMenuItemClick",
            "click .profileMenuItem": "profileMenuItemClick",
            "click .upgradeLink": "upgradeLinkClick",
            "mouseenter .stationChangeSelector": "mouseEnterStationSelector",
            "mouseleave .stationChangeSelector": "mouseLeaveStationSelector",
            "click .stationChangeSelector": "clickStationSelector",
            "mouseenter .stationChangeList": "mouseEnterStationList",
            "mouseleave .stationChangeList": "mouseLeaveStationList",
            "click .stationChangeItem": "stationItemClick"
        },
        mouseEnterStationSelector: function() {
            this.Vj || $(".stationChangeSelector").addClass("highlight")
        },
        mouseLeaveStationSelector: function() {
            this.Vj || $(".stationChangeSelector").removeClass("highlight")
        },
        clickStationSelector: function(b) {
            if (0 < $(b.target).parents(".scroll-pane").length)
                return !1;
            null != this.model.get("currentStation") && (this.Vj ? this.xy() : $(".middlecolumn .stationChangeList", this.el).fadeIn("fast", r(this, function() {
                this.Vj = !0
            })))
        },
        stationItemClick: function(b) {
            b = $.tmplItem(b.target).data;
            z.b(ni, {
                stationId: b.e(),
                userInitiated: !0
            });
            return !1
        },
        xy: function() {
            $(".middlecolumn .stationChangeList", this.el).fadeOut("fast", r(this, function() {
                this.Vj = !1;
                $(".stationChangeSelector").removeClass("highlight")
            }))
        },
        mouseEnterStationList: function() {
            this.ya && (clearTimeout(this.ya),
            this.ya = null )
        },
        mouseLeaveStationList: function() {
            this.ya || (this.ya = setTimeout(r(this, function() {
                this.ya = null ;
                this.xy()
            }), 1E3))
        },
        logoClick: function() {
            this.model.get("modalPanel") != uu && R(Iu);
            return !1
        },
        upgradeLinkClick: function() {
            var b = this.model.get("currentUser")
              , c = ez()
              , d = "other";
            if ("/" == c || 0 == c.indexOf("/station/play"))
                d = "nowplaying";
            else if (0 == c.indexOf("/account"))
                d = "account";
            else if (0 == c.indexOf("/one") || 0 == c.indexOf("/payment"))
                d = "p1";
            s("p1_web_upgrade_clicks", {
                trial_eligible: b.rh,
                url_path: c,
                url_type: d
            }, b);
            return !0
        },
        signoutMenuItemClick: function() {
            z.b(ti);
            return !1
        },
        helpMenuItemClick: function() {
            R(Mw);
            return !0
        },
        profileMenuItemClick: function() {
            var b = this.model.get("currentUser");
            return null != b && le(b.X) ? (V("/profile/" + b.X, !0, !0),
            !1) : !0
        }
    });
    function fz() {}
    fz = Backbone.View.extend({
        initialize: function() {
            this.Xd = !1;
            $(".searchInput", this.el).val(Pa());
            this.va = new gz(this.model,$(".cd_activator", this.el),$("#cd_menu_dd"));
            this.ks = new hz({
                model: this.model
            });
            new iz({});
            this.Dh = null ;
            this.model.bind("change:currentTrack", r(this, this.yn));
            this.model.bind("change:currentUser", r(this, this.xq));
            this.model.bind("change:currentStation", r(this, this.pI));
            this.model.bind("change:searchText", r(this, this.Ke));
            this.model.bind("change:modalPanel", r(this, this.ia));
            this.model.bind("change:forceRegistration", r(this, this.wn));
            this.model.bind("change:audioAdPlaying", r(this, this.LE));
            this.model.bind("change:videoAdPlaying", r(this, this.pR));
            this.model.bind("change:siteLocked", r(this, this.wn));
            this.model.bind("change:showingSearchResults", r(this, this.Uj));
            this.model.bind("change:hasStations", r(this, this.mk));
            this.model.bind("change:capped", r(this, this.mk));
            z.c(df, r(this, this.aj));
            $.address.bind("change", r(this, this.Pr))
        },
        el: $("#playerBar").get(0),
        yn: function() {
            var b = this.model.get("currentTrack");
            if (null != b) {
                if (b instanceof Bo)
                    $(".playerBarSong", this.el).removeAttr("href").css("text-decoration", "none").text("Message From"),
                    $(".playerBarArtist", this.el).removeAttr("href").css("text-decoration", "none").text(b.Y()),
                    $(".playerBarAlbum", this.el).removeAttr("href").css("text-decoration", "none").text(""),
                    $(".playerByText", this.el).text(""),
                    $(".playerOnText", this.el).text("");
                else {
                    if (b instanceof Jn)
                        $(".playerBarSong", this.el).removeAttr("href").css("text-decoration", "none").text("Live Now"),
                        $(".playerBarArtist", this.el).removeAttr("href").css("text-decoration", "none").text(b.Y()),
                        $(".playerBarAlbum", this.el).removeAttr("href").css("text-decoration", "none").text(b.jb),
                        $(".playerByText", this.el).text(b.rb ? b.rb : "by");
                    else if (b.Ul())
                        $(".playerBarSong", this.el).removeAttr("href").css("text-decoration", "none").text(b.Ja),
                        $(".playerBarArtist", this.el).removeAttr("href").css("text-decoration", "none").text(b.Y()),
                        $(".playerBarAlbum", this.el).removeAttr("href").css("text-decoration", "none").text(b.jb),
                        $(".playerByText", this.el).text(b.rb ? b.rb : "from");
                    else {
                        if (b instanceof Hn && !b.om())
                            return;
                        $(".playerBarSong", this.el).css("text-decoration", "").text(b.Ja).attr("href", b.$g());
                        $(".playerBarArtist", this.el).css("text-decoration", "").text(b.Y()).attr("href", b.Vg());
                        b.gv ? $(".playerBarAlbum", this.el).removeAttr("href").css("text-decoration", "none").text(b.jb) : $(".playerBarAlbum", this.el).css("text-decoration", "").text(b.jb).attr("href", b.Kl());
                        $(".playerByText", this.el).text(b.rb ? b.rb : "by")
                    }
                    $(".playerOnText", this.el).text(b.Kc ? b.Kc : "on")
                }
                $(".info", this.el).toggle(!0);
                this.YA(b);
                $(".albumArt img", this.el).fadeOut("default", function() {
                    $(this).remove()
                });
                var c = $("#playerBarArtTmpl").tmpl(b.ub())
                  , c = $(c).hide().bind("imgpreload", function() {
                    b instanceof Hn && $("#mainContent .home").is(":visible") && $(this).fadeOut();
                    b instanceof Hn ? ($(this).fadeIn(),
                    $(this).addClass("backstage_ad_icon")) : $(this).fadeIn()
                });
                $(".albumArt", this.el).append(c);
                $(".albumArt", this.el).show();
                $(".rightcolumn .nowplaying", this.el).stop(!0, !0).fadeIn();
                $(".rightcolumn .nowplaying", this.el).show();
                (b instanceof Hn || b.Ic) && $(".info", this.el).fadeOut(200);
                this.kp(b) ? this.va.enable() : this.va.disable()
            } else
                $(".middlecolumn", this.el).fadeOut(),
                $(".rightcolumn .nowplaying", this.el).fadeOut()
        },
        Pr: function(b) {
            this.model.get("currentTrack")instanceof Hn && ("/" == b.path ? ($(".albumArt img", this.el).hide(),
            $(".albumArt img", this.el).removeClass("backstage_ad_icon")) : ($(".albumArt img", this.el).show(),
            $(".albumArt img", this.el).addClass("backstage_ad_icon")))
        },
        YA: function(b) {
            1 == b.Lc ? this.ks.ZK() : -1 == b.Lc ? this.ks.YK() : this.ks.XK()
        },
        aj: function(b) {
            var c = b.track;
            b = b.stationId;
            var d = this.model.get("currentTrack")
              , e = this.model.get("currentStation");
            null != d && c.o() == d.o() && null != e && e.e() == b && this.YA(c)
        },
        pI: function() {
            null == this.model.get("currentStation") ? $(".middlecolumn", this.el).fadeOut() : $(".middlecolumn", this.el).fadeIn();
            $(".rightcolumn .nowplaying", this.el).fadeOut();
            this.mk()
        },
        Ke: function() {
            var b = this.model.get("searchText");
            null != b && 0 != b.length || this.Xd || $(".searchInput", this.el).val(Pa())
        },
        xq: function() {
            this.mk();
            var b = this.model.get("currentUser");
            null != b && b.J() ? $("#skinTab", this.el).hide() : $("#skinTab", this.el).show()
        },
        ia: function() {
            this.model.get("modalPanel") == su ? this.rG() : this.fG();
            this.mk()
        },
        mk: function() {
            var b = this.model.get("modalPanel")
              , c = this.model.get("currentStation");
            this.model.get("currentTrack");
            this.model.get("capped") || "WELCOME_SEARCH" == b || "REDEMPTION_PANEL" == b || b == xu || "REGISTERED_PANEL" == b || null == c && _.include([vu, tu, uu, wu, Bu, zu, Au], b) ? ($("#playerBar").stop(!0, !0).fadeOut(),
            $("#mainContainer").addClass("no_player_bar")) : ($("#mainContainer").removeClass("no_player_bar"),
            $("#playerBar").stop(!0, !0).fadeIn(),
            jz(this.model) ? $(".leftcolumn", this.el).fadeOut() : $(".leftcolumn", this.el).fadeIn())
        },
        kp: function(b) {
            return !b || !(b instanceof Hn || b instanceof In || b instanceof Jn || b.Ic || b.vo) && b.$u && b.av && b.po ? !0 : !1
        },
        /* #TAG */
        LE: function() {
            this.wn();
            if (this.model.get("audioAdPlaying"))
                $(".info", this.el).fadeOut(),
                this.va.disable();
            else {
                this.model.get("videoAdPlaying") || $(".info", this.el).fadeIn();
                var b = this.model.get("currentTrack");
                this.kp(b) ? this.va.enable() : this.va.disable()
            }
        },
        pR: function() {
            this.wn();
            var b = this.model.get("videoAdPlaying");
            null != b ? ($(".info", this.el).fadeOut(),
            $(".albumArt img", this.el).hide(),
            this.va.disable(),
            b.eb() || $(".middlecolumn .progress", this.el).hide()) : (b = this.model.get("currentTrack"),
            this.yn(),
            this.kp(b) ? this.va.enable() : this.va.disable(),
            $(".middlecolumn .progress", this.el).show())
        },
        wn: function() {
            this.model.get("siteLocked") || this.model.get("forceRegistration") || this.model.get("audioAdPlaying") || this.model.get("videoAdPlaying") || this.model.get("liveStreamPlaying") ? ($(".disabled", this.el).css("opacity", 0.01).show(),
            Ae() ? $(".columns", this.el).fadeTo(400, 0.6) : ($(".columns .leftcolumn", this.el).fadeTo(400, 0.6),
            $(".columns .middlecolumn", this.el).fadeTo(400, 0.6),
            this.model.get("audioAdPlaying") || $(".columns .rightcolumn", this.el).fadeTo(400, 0.6)),
            this.model.set({
                playerBarEnabled: !1
            })) : ($(".disabled", this.el).hide(),
            Ae() ? $(".columns", this.el).fadeTo(400, 1) : ($(".columns .leftcolumn", this.el).fadeTo(400, 1),
            $(".columns .middlecolumn", this.el).fadeTo(400, 1),
            $(".columns .rightcolumn", this.el).fadeTo(400, 1)),
            this.model.set({
                playerBarEnabled: !0
            }))
        },
        Uj: function() {
            this.model.get("showingSearchResults") || (this.Xd = !1,
            setTimeout(function() {
                $(".searchInput", this.el).blur()
            }, 1))
        },
        fG: function() {
            $(".searchInput", this.el).attr("disabled", "true");
            $(".searchInput", this.el).val("")
        },
        rG: function() {
            $(".searchInput", this.el).prop("disabled", !1);
            $(".searchInput", this.el).val(Pa())
        },
        events: {
            "click .cd_icon": "albumArtClick",
            "click .searchBox": "searchBoxClick",
            "focus .searchInput": "searchInputFocus",
            "blur .searchInput": "searchInputBlur",
            "keyup .searchInput": "searchInputKeyup",
            "click .disabled": "handleAdPause",
            "click .playerBarSong": "songClick",
            "click .playerBarAlbum": "albumClick",
            "click .playerBarArtist": "artistClick",
            "click #skinTab": "skinsMenuItemClick"
        },
        skinsMenuItemClick: function() {
            R(Pu);
            return !1
        },
        handleAdPause: function() {
            this.model.get("audioAdPlaying") && (this.model.get("musicPlaying") ? z.b(gi) : z.b(ei))
        },
        songClick: function() {
            R(Xw, "song")
        },
        albumClick: function() {
            R(Xw, "album")
        },
        artistClick: function() {
            R(Xw, "artist")
        },
        searchBoxClick: function() {
            if (this.model.get("searchText"))
                return !1;
            $(".searchInput", this.el).focus()
        },
        albumArtClick: function() {
            var b = this.model.get("currentTrack");
            b instanceof Hn ? b.uf && window.open(b.uf) : R(Iu);
            return !1
        },
        searchInputFocus: function(b) {
            this.Xd = !0;
            b.target.value == Pa() && (b.target.value = "",
            $("#playerBar .searchSubText").show());
            $(b.target).addClass("focus");
            null == this.Dh && (this.Dh = setTimeout(r(this, function() {
                this.model.set({
                    showingSearchResults: !0
                });
                this.Dh = null
            }), 100))
        },
        searchInputBlur: function(b) {
            this.tw();
            this.Xd = !1;
            "" == b.target.value && (b.target.value = Pa(),
            $("#playerBar .searchSubText").hide());
            $(b.target).removeClass("focus")
        },
        searchInputKeyup: function(b) {
            this.tw();
            this.model.set({
                showingSearchResults: !0
            });
            R(Hu, b);
            "" === b.target.value ? $("#playerBar .searchSubText").show() : $("#playerBar .searchSubText").hide()
        },
        tw: function() {
            this.Dh && (clearTimeout(this.Dh),
            this.Dh = null )
        },
        Oo: function(b) {
            var c = Math.floor(b / 60);
            b = "0" + (b - 60 * c);
            return c + ":" + b.substring(b.length - 2)
        }
    });
    function hz() {}
    hz = Backbone.View.extend({
        initialize: function() {
            this.model.bind("change:trackProgress", r(this, this.dR));
            this.model.bind("change:musicPlaying", r(this, this.ZQ));
            this.model.bind("change:currentTrack", r(this, this.yn))
        },
        el: $("#playbackControl").get(0),
        yn: function() {
            var b = this.model.get("currentTrack");
            null != b && (b instanceof Bo || b instanceof Co ? ($(".thumbUpButton", this.el).addClass("disabledThumb"),
            $(".thumbDownButton", this.el).addClass("disabledThumb"),
            $(".skipButton", this.el).removeClass("disabledSkip")) : b instanceof Jn ? ($(".thumbUpButton", this.el).addClass("disabledThumb"),
            $(".thumbDownButton", this.el).addClass("disabledThumb"),
            $(".skipButton", this.el).addClass("disabledSkip")) : b instanceof Fn && (ly(b, this.model.get("stationList")) ? ($(".thumbUpButton", this.el).addClass("disabledThumb"),
            $(".thumbDownButton", this.el).addClass("disabledThumb")) : ($(".thumbUpButton", this.el).removeClass("disabledThumb"),
            $(".thumbDownButton", this.el).removeClass("disabledThumb")),
            $(".skipButton", this.el).removeClass("disabledSkip")))
        },
        dR: function() {
            var b = this.model.get("trackProgress");
            if (b.isLive)
                $(".elapsedTime", this.el).text("--:--"),
                $(".remainingTime", this.el).text("LIVE"),
                $(".progressMiddle", this.el).attr("width", 0);
            else {
                var c = b.totalTime
                  , d = b.elapsedTime
                  , b = b.percentPlayed;
                $(".elapsedTime", this.el).text(this.Oo(d));
                $(".remainingTime", this.el).text("-" + this.Oo(0 < c ? c - d : 0));
                $(".progressMiddle", this.el).attr("width", Math.floor(345 * b / 100))
            }
        },
        ZQ: function() {
            this.model.get("musicPlaying") ? ($(".playButton", this.el).hide(),
            $(".pauseButton", this.el).show()) : ($(".pauseButton", this.el).hide(),
            $(".playButton", this.el).show())
        },
        YK: function() {
            $(".thumbDownButton", this.el).addClass("indicator");
            $(".thumbUpButton", this.el).removeClass("indicator")
        },
        ZK: function() {
            $(".thumbUpButton", this.el).addClass("indicator");
            $(".thumbDownButton", this.el).removeClass("indicator")
        },
        XK: function() {
            $(".thumbUpButton", this.el).removeClass("indicator");
            $(".thumbDownButton", this.el).removeClass("indicator")
        },
        events: {
            "click .playButton": "playButtonClick",
            "click .pauseButton": "pauseButtonClick",
            "click .skipButton": "skipButtonClick",
            "click .thumbDownButton": "thumbDownButtonClick",
            "click .thumbUpButton": "thumbUpButtonClick"
        },
        playButtonClick: function(b) {
            $(b.target).blur();
            z.b(ei, {
                userInitiated: !0
            });
            s("link", {
                click: "playButton",
                source: "PlayBackView",
                station_id: this.model.get("currentStation").e()
            }, this.model.get("currentUser"));
            return !1
        },
        pauseButtonClick: function(b) {
            $(b.target).blur();
            z.b(gi);
            s("link", {
                click: "pauseButton",
                source: "PlayBackView",
                station_id: this.model.get("currentStation").e()
            }, this.model.get("currentUser"));
            return !1
        },
        /* #TAG */
        skipButtonClick: function(b) {
            $(b.target).blur();
            if ($(b.currentTarget).hasClass("disabledSkip"))
                return !1;
            z.b(hi);
            b = this.model.get("currentTrack");
            null != b && (b = "/song/skip/" + b.o(),
            kz(b),
            lz(b));
            return !1
        },
        thumbDownButtonClick: function(b) {
            $(b.target).blur();
            if ($(b.currentTarget).hasClass("disabledThumb"))
                return !1;
            b = $(b.currentTarget).hasClass("indicator");
            var c = this.model.get("currentTrack");
            null != c && (b ? R(zv, {
                isPositive: !1,
                musicID: c.o()
            }) : R(yv, {
                isPositive: !1,
                musicId: c.o()
            }));
            return !1
        },
        thumbUpButtonClick: function(b) {
            $(b.target).blur();
            if ($(b.currentTarget).hasClass("disabledThumb"))
                return !1;
            b = $(b.currentTarget).hasClass("indicator");
            var c = this.model.get("currentTrack");
            null != c && (b ? R(zv, {
                isPositive: !0,
                musicID: c.o()
            }) : R(yv, {
                isPositive: !0,
                musicId: c.o()
            }));
            return !1
        },
        Oo: function(b) {
            var c = Math.floor(b / 60);
            b = "0" + (b - 60 * c);
            return c + ":" + b.substring(b.length - 2)
        }
    });
    function iz() {}
    iz = Backbone.View.extend({
        Vh: 20,
        Wu: 102,
        ya: null ,
        Nf: !1,
        Mp: !1,
        initialize: function() {
            S(Dv, r(this, this.BN));
            z.c(qi, r(this, this.Rj));
            this.Rj(null );
            $(".volumeKnob", this.el).draggable({
                axis: "x",
                containment: $(".volumeBar", this.el),
                start: r(this, this.Kp),
                stop: r(this, this.Lp),
                drag: r(this, this.Jp)
            });
            mz("/volume/")
        },
        il: function(b) {
            this.$A(b);
            z.b(qi, b)
        },
        BN: function() {
            var b = Jm();
            um(Fl, !1);
            this.Rj(b);
            this.il(b)
        },
        Kp: function() {
            this.Mp = !0
        },
        Lp: function(b, c) {
            this.Mp = !1;
            var d = this.rq(c.position.left);
            this.il(d);
            this.Rj(d);
            R(Iw);
            this.Nf || this.en()
        },
        Jp: function(b, c) {
            var d = this.rq(c.position.left);
            this.il(d)
        },
        el: $("#playerBar .volumeControl").get(0),
        Rj: function(b) {
            null == b ? b = Km() ? 0 : Jm() : 0 > b ? b = 0 : 100 < b && (b = 100);
            this.$A(b);
            b = this.Vh + b / 100 * (this.Wu - this.Vh);
            $(".volumeKnob", this.el).css("left", b)
        },
        $A: function(b) {
            0 >= b ? $(".volumeButton").addClass("muted") : $(".volumeButton").removeClass("muted")
        },
        rq: function(b) {
            null == b && (b = $(".volumeKnob", this.el).position().left);
            return Math.round((b - this.Vh) / (this.Wu - this.Vh) * 100)
        },
        $q: 1E3,
        en: function() {
            this.Mp || (this.kn(),
            this.ya = setTimeout(r(this, function() {
                $(".volumeBackground", this.el).fadeOut(200)
            }), this.$q))
        },
        kn: function() {
            null != this.ya && (clearTimeout(this.ya),
            this.ya = null )
        },
        events: {
            "click .volumeBackground": "volumeBackgroundClick",
            "mouseenter .volumeButton": "volumeButtonMouseEnter",
            "mouseleave .volumeButton": "volumeButtonMouseLeave",
            "click .volumeButton": "volumeButtonClick",
            "mouseenter .volumeBackground": "volumeBackgroundMouseEnter",
            "mouseleave .volumeBackground": "volumeBackgroundMouseLeave"
        },
        volumeBackgroundClick: function(b) {
            b = b.pageX - $(".volumeBar", this.el).offset().left;
            var c = $(".volumeKnob", this.el).width();
            b = Math.max(c / 2, b);
            b = Math.min($(".volumeBar", this.el).width() - c / 2, b);
            b -= c / 2;
            $(".volumeKnob", this.el).css("left", this.Vh + b);
            b = this.rq();
            this.il(b);
            this.Rj(b);
            R(Iw);
            return !1
        },
        volumeButtonMouseEnter: function() {
            this.Nf = !0;
            this.kn();
            $(".volumeBackground", this.el).fadeIn(200);
            return !1
        },
        volumeButtonMouseLeave: function() {
            this.Nf = !1;
            this.en();
            return !1
        },
        volumeButtonClick: function() {
            $(".volumeBackground", this.el).is(":visible") ? (this.$q = 1E3,
            this.Nf = !1,
            $(".volumeBackground", this.el).fadeOut(200),
            this.en()) : (this.$q = 1E4,
            this.Nf = !1,
            this.kn(),
            $(".volumeBackground", this.el).fadeIn(200));
            return !1
        },
        volumeBackgroundMouseEnter: function() {
            this.Nf = !0;
            this.kn();
            return !1
        },
        volumeBackgroundMouseLeave: function() {
            this.Nf = !1;
            this.en();
            return !1
        }
    });
    function nz() {}
    nz = Backbone.View.extend({
        initialize: function() {
            this.Xd = !1;
            $(".searchInput", this.el).val(Qa());
            $(".onboarding__register").fadeIn();
            this.model.bind("change:searchText", r(this, this.Ke));
            this.model.bind("change:modalPanel", r(this, this.ia));
            this.model.bind("change:showingSearchResults", r(this, this.Uj));
            this.model.bind("change:currentUser", r(this, this.WA))
        },
        el: $("#welcomeSearch").get(0),
        Ke: function() {
            var b = this.model.get("searchText");
            null != b && 0 != b.length || this.Xd || $(".searchInput", this.el).val(Qa())
        },
        ia: function() {
            var b = this.model.get("modalPanel");
            if ("WELCOME_SEARCH" == b || b == vu) {
                if ("WELCOME_SEARCH" == b) {
                    R(ow);
                    var c = this.model.get("currentUser");
                    (null == c || c.p()) && ue("anonymous_listening", "standard")
                } else
                    b == vu && R(qw);
                this.WA();
                "hidden" == $(this.el).css("visibility") && ($(this.el).hide(),
                $(this.el).css("visibility", "visible"));
                $(this.el).is(":visible") ? this.SA(b) : $(this.el).stop(!0, !0).fadeIn(400, r(this, function() {
                    this.SA(b)
                }));
                $("#footer").addClass("footer_welcome_margin")
            } else
                $(this.el).stop(!0, !0).hide(),
                $("#footer").removeClass("footer_welcome_margin")
        },
        SA: function(b) {
            b == vu && ($(".searchBox", $(this.el)).stop(!0, !0).hide(),
            $(".bottom", $(this.el)).stop(!0, !0).show(),
            $(".onboarding__login").fadeOut(),
            $(".onboarding__register").fadeIn())
        },
        WA: function() {
            var b = this.model.get("currentUser");
            jz(this.model) && "WELCOME_SEARCH" == this.model.get("modalPanel") ? ($(".onboarding__register").fadeIn(),
            this.model.set({
                modalPanel: vu
            })) : null == b || b.p() ? ($(".bottom", this.el).show(),
            $(".onboarding__register").fadeIn()) : ($(".bottom", this.el).hide(),
            $(".onboarding__register").fadeOut())
        },
        Uj: function() {
            this.model.get("showingSearchResults") || (this.Xd = !1,
            setTimeout(function() {
                $(".searchInput", this.el).blur()
            }, 1))
        },
        events: {
            "focus .searchInput": "searchInputFocus",
            "blur .searchInput": "searchInputBlur",
            "keyup .searchInput": "searchInputKeyup"
        },
        searchInputFocus: function(b) {
            this.Xd = !0;
            b.target.value == Qa() && (b.target.value = "");
            $(b.target).addClass("focus");
            this.model.set({
                showingSearchResults: !0
            })
        },
        searchInputBlur: function(b) {
            this.Xd = !1;
            "" == b.target.value && (b.target.value = Qa());
            $(b.target).removeClass("focus")
        },
        searchInputKeyup: function(b) {
            R(Hu, b);
            b = this.model.get("currentUser");
            (null == b || b.p()) && ue("anonymous_listening", "station_search")
        }
    });
    function oz() {}
    oz = Backbone.View.extend({
        initialize: function() {
            this.Fn = !1;
            this.model.get("searchResults").bind("refresh", r(this, this.aR));
            this.model.bind("change:searchText", r(this, this.Ke));
            this.model.bind("change:searchItemSelectedIndex", r(this, this.Bh));
            this.model.bind("change:showingSearchResults", r(this, this.Uj));
            this.model.bind("change:modalPanel", r(this, this.ia));
            this.model.set({
                searchSelectedIndex: -1
            });
            this.Hb = this.fj = null ;
            var b = Uo();
            b && 0 < b.length && $.ajax({
                type: "HEAD",
                async: !0,
                url: b,
                success: r(this, function() {
                    this.fj = Uo();
                    this.Hb = A._data.createStationHintGenre || "top_stations"
                })
            });
            this.render()
        },
        Ke: function() {
            var b = this.model.get("searchText");
            if (this.model.get("showingSearchResults")) {
                var c = $(".content", this.el);
                null == b || 0 == b.length ? (c.empty().append($("#searchPopupEmptyContent").tmpl(this.model.get("searchSuggestions"), {
                    hintPath: this.fj,
                    hintGenre: this.Hb
                })),
                R(Rw)) : Wx(b) && c.empty().append($("#searchPopupIncompleteEmail").tmpl({
                    query: this.model.get("searchText")
                }, {
                    hintPath: this.fj,
                    hintGenre: this.Hb
                }))
            }
        },
        Bh: function() {
            $(".item", this.el).removeClass("selected");
            var b = this.model.get("searchItemSelectedIndex");
            if (0 <= b) {
                b >= $(".item", this.el).length && (b = $(".item", this.el).length - 1,
                this.model.set({
                    searchItemSelectedIndex: b
                }));
                $(".item", this.el).eq(b).addClass("selected");
                var b = ".items .scrollPoint.selected"
                  , c = $(b, this.el);
                c.prev().hasClass("heading") && (b = ".items .scrollPoint:eq(" + (c.index() - 1) + ")");
                ay($(".items", this.el), b)
            }
        },
        Uj: function() {
            if (this.model.get("showingSearchResults")) {
                R(Pw);
                this.model.set({
                    searchSequenceNum: 0
                });
                var b = {
                    action: "access",
                    listener_id: v.i.s,
                    vendor_id: u,
                    device_id: we,
                    device_os: se(),
                    URL: ez(),
                    app_version: z.ba,
                    sequence_number: this.model.get("searchSequenceNum"),
                    page_view: "search",
                    view_mode: "search_prompt",
                    source: "station_list_top",
                    client_timestamp_ms: Date.now()
                };
                s("search_action", b, null );
                this.Ke();
                this.TA();
                $(".searchPopupContainer", this.el).fadeIn("fast");
                this.model.set({
                    searchSelectedIndex: -1
                })
            } else {
                R(Qw);
                $(".searchPopupContainer", this.el).fadeOut("fast", r(this, function() {
                    this.model.set({
                        searchText: ""
                    });
                    this.TA()
                }));
                b = (this.model.get("serverSearchResults") && this.model.get("serverSearchResults").length ? this.model.get("serverSearchResults").split(",") : "").length;
                if (this.model.get("searchItemSelectedIndex") == b) {
                    this.model.set({
                        searchSequenceNum: this.model.get("searchSequenceNum") + 1
                    });
                    var c = void 0 === this.model.get("clientSearchResults") ? 0 : this.model.get("clientSearchResults").split(",").length
                      , b = {
                        action: "search_for",
                        listener_id: v.i.s,
                        vendor_id: u,
                        device_id: we,
                        device_os: se(),
                        app_version: z.ba,
                        sequence_number: this.model.get("searchSequenceNum"),
                        page_view: "search",
                        view_mode: "search_results",
                        client_timestamp_ms: Date.now(),
                        query: this.model.get("searchText"),
                        num_results_shown: c,
                        num_results_returned: b,
                        server_result_list: this.model.get("serverSearchResults"),
                        client_result_list: this.model.get("clientSearchResults")
                    };
                    s("search_action", b, null )
                }
                0 <= this.model.get("searchSequenceNum") && 0 > this.model.get("searchItemSelectedIndex") && (this.model.set({
                    searchSequenceNum: this.model.get("searchSequenceNum") + 1
                }),
                b = ez(),
                c = "back",
                -1 < b.indexOf("/music/top-stations") ? c = "browse_before_search" : "/" != b && (c = b),
                b = {
                    action: "exit_navigate_away",
                    listener_id: v.i.s,
                    vendor_id: u,
                    device_id: we,
                    device_os: se(),
                    app_version: z.ba,
                    sequence_number: this.model.get("searchSequenceNum"),
                    page_view: "search",
                    view_mode: "search_prompt",
                    client_timestamp_ms: Date.now(),
                    exit_path: c
                },
                s("search_action", b, null ),
                this.model.set({
                    searchSelectedIndex: -1
                }))
            }
        },
        TA: function() {
            $(this.el).detach();
            $(this.Fn ? "#searchPopupWelcomePosition" : "#searchPopupNavPosition").append(this.el)
        },
        ia: function() {
            "WELCOME_SEARCH" == this.model.get("modalPanel") ? this.Fn = !0 : this.Fn = !1
        },
        aR: function(b) {
            var c = $(".content", this.el);
            c.empty();
            c.append('<div class="items scroll-pane vertical-only"></div>');
            if (0 < b.length) {
                var d = null ;
                $.each(b.models, function(b, h) {
                    d != h.nb() && (d = h.nb(),
                    0 < d.length && $(".items", c).append($("#searchPopupHeading").tmpl(h.nb())));
                    $(".items", c).append($(h.Ub()).tmpl(h))
                });
                c.append($("#searchPopupFooterTmpl").tmpl({
                    query: this.model.get("searchText")
                }, {
                    hintPath: this.fj,
                    hintGenre: this.Hb
                }));
                R(Rw);
                b = this.Fn ? "#searchPopupWelcomePosition" : "#searchPopupNavPosition";
                b = $(window).height() - parseInt($(b).css("top"), 10) - 105;
                $(".items", this.el).css("max-height", b)
            } else
                c.append($("#searchPopupNoSearchResults").tmpl({
                    query: this.model.get("searchText")
                }, {
                    hintPath: this.fj,
                    hintGenre: this.Hb
                })),
                R(Rw);
            setTimeout(r(this, function() {
                Yx($(".scroll-pane", this.el))
            }), 1);
            this.Bh()
        },
        render: function() {
            $(this.el).append($("#searchPopupTmpl").tmpl());
            return this
        },
        events: {
            "click .item": "searchResultItemClick",
            "click .profileName": "profileClick",
            "click .showAllResults": "performExtendedSearch",
            "click .createStationHint": "browseGenresClick",
            "click .browseGenres": "browseGenresClick",
            "mouseenter .item": "searchResultItemMouseEnter",
            "mouseleave .item": "searchResultItemMouseLeave"
        },
        searchResultItemClick: function(b) {
            var c, d, e, h = null , l = null , p = -1, q = void 0 === this.model.get("clientSearchResults") ? 0 : this.model.get("clientSearchResults").split(",").length, t = void 0 === this.model.get("serverSearchResults") ? 0 : this.model.get("serverSearchResults").split(",").length;
            $(b.currentTarget).data("search") ? (s("link", {
                click: "extendedSearchLink",
                source: "SearchPopupView"
            }, this.model.get("currentUser")),
            this.performExtendedSearch(),
            this.model.set({
                searchSelectedIndex: t
            })) : $(b.currentTarget).data("genres") ? (s("link", {
                click: "browseGenreLink",
                source: "SearchPopupView"
            }, this.model.get("currentUser")),
            l = $("a", $(b.currentTarget)).attr("href"),
            b = mn(),
            0 == l.indexOf(b) && (l = l.substr(b.length - 1)),
            V(l, !0, !0),
            this.model.set({
                searchSelectedIndex: t + 1
            })) : (c = $.tmplItem(b.currentTarget).data,
            d = c.get("musicId"),
            p = -1,
            $.each(c.collection.models, function(b, c) {
                c.get("musicId") == d && (p = b)
            }),
            this.model.set({
                searchSelectedIndex: p
            }),
            e = c.get("stationId"),
            h = null ,
            c = c.get("searchableStationId"),
            null != c ? h = c : null != e ? h = Kn.StationKeyType.FRIENDS_STATION + e : null != d && (h = $(b.currentTarget).data("genre-suggest") ? Kn.StationKeyType.GENRE_SUGGEST + d : $(b.currentTarget).data("artist-suggest") ? Kn.StationKeyType.ARTIST_SUGGEST + d : $(b.currentTarget).data("facebook-suggest") ? Kn.StationKeyType.FACEBOOK_SUGGEST_SEARCH_VIEW + d : d),
            this.trigger("createStationRequest", h));
            b = $(".showAllResults", this.el).text();
            h = !1;
            (c = this.model.get("currentStation")) && (c = zn(c)) && c.key != d && (h = !0);
            c = d && d.length ? d.substr(0, 1) : null ;
            e = {
                action: "select",
                listener_id: v.i.s,
                vendor_id: u,
                device_id: we,
                device_os: se(),
                app_version: z.ba,
                sequence_number: this.model.get("searchSequenceNum"),
                page_view: "search",
                view_mode: "search_autocomplete",
                source: "station_list_top",
                URL: l,
                client_timestamp_ms: Date.now(),
                selected_result_id: d,
                selected_result_unique_id: e,
                selected_index: p,
                select_result_type: c,
                client_result_list: this.model.get("clientSearchResults"),
                server_result_list: this.model.get("serverSearchResults"),
                num_results_shown: q,
                num_results_returned: t,
                selected_result_action: d ? "play" : "view",
                query: b,
                new_station: h
            };
            s("search_action", e, null );
            return !1
        },
        profileClick: function(b) {
            b = $.tmplItem(b.target).data.get("webName");
            this.trigger("openProfilePageRequest", b)
        },
        performExtendedSearch: function() {
            s("link", {
                click: "extendedSearchRequest",
                source: "SearchPopupView"
            }, this.model.get("currentUser"));
            this.trigger("extendedSearchRequest");
            return !1
        },
        browseGenresClick: function() {
            $(".searchPopupContainer", this.el).fadeOut("slow", r(this, function() {
                this.model.set({
                    showingSearchResults: !1
                });
                this.model.set({
                    searchText: ""
                })
            }))
        },
        searchResultItemMouseEnter: function(b) {
            b = $(".item", this.el).index(b.target);
            this.model.set({
                searchItemSelectedIndex: b
            })
        },
        searchResultItemMouseLeave: function() {
            this.model.set({
                searchItemSelectedIndex: -1
            })
        }
    });
    function pz() {}
    pz = Backbone.View.extend({
        initialize: function() {
            this.model.bind("change:siteLocked", r(this, this.mt));
            z.c(Vg, r(this, this.wq));
            S(jx, r(this, this.cy))
        },
        el: $("#mainContentContainer .contentnav").get(0),
        mt: function() {
            this.model.get("siteLocked") ? $(".disabled", this.el).show() : $(".disabled", this.el).hide()
        },
        events: {
            "click .home": "homeClick",
            "click .myprofile": "profileClick",
            "click .friends": "friendsClick"
        },
        profileClick: function() {
            s("link", {
                click: "my_profile"
            }, this.model.get("currentUser"));
            var b = this.model.get("currentUser");
            null != b && le(b.X) ? V("/profile/" + b.X, !0, !0) : V("/profile", !0, !1);
            return !1
        },
        homeClick: function() {
            R(Iu);
            R(Kw);
            return !1
        },
        friendsClick: function() {
            s("link", {
                click: "music_feed"
            }, this.model.get("currentUser"));
            V("/feed", !0, !0);
            return !1
        },
        wq: function(b) {
            b.NEW_SITE_FEED ? $(".friends", this.el).show() : this.cy()
        },
        cy: function() {
            $(".friends", this.el).hide();
            0 <= ez().indexOf("/feed") && this.homeClick()
        }
    });
    function qz() {}
    (function() {
        function b(b) {
            return b.map(function(b) {
                var c = b.get("_originalSeed");
                return _.extend(b.toJSON(), {
                    allowAddVariety: b.get("_isCreator") && b.get("canTransform") && !(null != c && null != c.key && null != c.vt) && !b.get("_isThumbprintStation")
                })
            })
        }
        qz = Backbone.View.extend({
            initialize: function() {
                this.hn = this.options.station_menu;
                z.c(Ie, r(this, this.render));
                S(Tu, r(this, this.render));
                S(jw, r(this, this.bR));
                S(Iu, r(this, this.Va));
                S(Yv, r(this, this.vI));
                S(Xv, r(this, this.uI));
                this.Yd = this.model.get("stationList");
                this.model.get("promotedStationList");
                this.Yd.bind("refresh", r(this, this.render));
                this.Yd.bind("add", r(this, this.eh));
                this.Yd.bind("change", r(this, this.eh));
                this.Yd.bind("remove", r(this, this.render));
                this.model.bind("change:currentStation", r(this, this.zy));
                this.model.bind("change:currentTrack", r(this, function() {
                    this.yy(!0)
                }));
                this.model.bind("change:currentShuffleType", r(this, this.VA));
                this.model.bind("change:currentStationViewIsShuffle", r(this, this.render));
                this.YF = W("/stations/delete", !0, !1, !0, r(this, this.Qw));
                W("/stations/remove", !0, !1, !0, r(this, this.Qw));
                W("/stations/dismiss", !0, !1, !0, r(this, this.hG));
                $("#stationSortDate").click(r(this, this.rQ));
                $("#stationSortAlpha").click(r(this, this.qQ))
            },
            el: $("#stationList").get(0),
            render: function() {
                var c = 2 < this.model.get("stationList").length
                  , d = this.model.get("currentStationViewIsShuffle");
                if (!c && d)
                    this.model.set({
                        currentStationViewIsShuffle: !1
                    });
                else
                    return c = d ? "#stationShuffleTmpl" : "#stationTmpl",
                    this.Yd.each(r(this, function(b) {
                        b.set({
                            canTransform: b.re() != m.Fc.Ve(),
                            sortAlpha: this.model.get("stationSortOrderAlpha"),
                            stationIsAdvertiserStation: b.qc()
                        }, {
                            silent: !0
                        });
                        if (b.Tb())
                            b.set({
                                stationIsRecommendedStation: !0
                            }, {
                                silent: !0
                            }),
                            this.model.get("stationSortOrderAlpha") || b.n._impressionTracked || (s("promoted_stations", {
                                action: "rec_shown",
                                device_os: "web",
                                vendor_id: 100,
                                token_type: "music",
                                token: b.wa()
                            }, this.model.get("currentUser")),
                            b.n._impressionTracked = !0);
                        else if (b.Db()) {
                            var c = b.n._promotedSponsorText;
                            b.set({
                                stationIsPromotedStation: !0,
                                promotedSponsorText: c,
                                promotedSponsorTextIsLengthy: 21 < c.length ? !0 : !1
                            }, {
                                silent: !0
                            });
                            this.model.get("stationSortOrderAlpha") || (null != b.n._promotedImpressionUrls && setTimeout(function() {
                                $.each(b.n._promotedImpressionUrls, function() {
                                    var b = this;
                                    "" != b && Fp(b, function() {}, function() {
                                        k.debug("Promoted station impression url failure: " + b)
                                    })
                                });
                                b.n._promotedImpressionUrls = null
                            }, 100),
                            b.n._impressionTracked || (s("promoted_stations", {
                                action: "promo_shown",
                                device_os: "web",
                                vendor_id: 100,
                                token_type: "station",
                                token: b.e()
                            }, this.model.get("currentUser")),
                            b.n._impressionTracked = !0))
                        } else
                            b.Cb() && (b.set({
                                stationIsCustomContentStation: !0
                            }, {
                                silent: !0
                            }),
                            (c = b._expiration) && 6048E5 >= c - (new Date).getTime() ? b.set({
                                isExpiring: !0,
                                expirationDate: xy.jH(c)
                            }, {
                                silent: !0
                            }) : b.set({
                                isExpiring: !1
                            }, {
                                silent: !0
                            }))
                    })),
                    $(this.el).empty().append($(c).tmpl(b(this.Yd))),
                    $(".inactiveHoverArrow", this.el).hide(),
                    this.zy(),
                    this.VA(),
                    this.model.get("currentStationViewIsShuffle") && ($(".shuffleStationLabel").removeClass("shuffleStationLabelCurrent"),
                    c = this.model.get("currentStation"),
                    null != c && c.D() && c.Z() && (c = c.qe(),
                    null != c && (this.Aw(c),
                    this.yy(!1)))),
                    2 < this.Yd.length || $("#shuffleContainer").parent().hide(),
                    this.ki(),
                    this.Qt(),
                    ky(this.el),
                    this
            },
            VA: function() {
                var b = this.model.get("currentShuffleType")
                  , b = "my" == b ? "My Shuffle" : "Shuffle " + b + " stations";
                $("#shuffleTypeLabel", this.el).text(b)
            },
            Va: function() {
                setTimeout(r(this, function() {
                    this.ki()
                }), 200)
            },
            bR: function(b) {
                _.each($(".stationNameText", this.el), r(this, function(d) {
                    $.tmplItem(d).data.e() == b.e() && (Ae() ? $(d).text(b.ca()) : d.textContent = this.PQ(b.ca()))
                }))
            },
            PQ: function(b) {
                var d = {
                    "&#x2F;": "/"
                }, e;
                for (e in d)
                    b = b.replace(e, d[e]);
                return b
            },
            ki: function(b) {
                setTimeout(r(this, function() {
                    Yx($(".stationListHolder"), "station_list");
                    $(".stationListHolder .jspPane").css("padding-bottom", 0);
                    b && b()
                }), 1)
            },
            eh: function() {
                this.render()
            },
            uI: function() {
                this.Np = !1;
                this.dm();
                $(".stationName_hover", this.el).removeClass("stationName_hover")
            },
            vI: function(b) {
                "station_menu_dd" == b.attr("id") && (this.Np = !0)
            },
            zy: function() {
                this.dm();
                $("#shufflePicker").fadeOut(1);
                var b = null
                  , d = this.model.get("currentStation");
                null != d && (b = d.e());
                $(".stationListItem", this.el).each(function() {
                    $.tmplItem(this).data.e() == b ? $(this).addClass("selected") : $(this).removeClass("selected")
                });
                this.ki(r(this, function() {
                    var b = $("#stationList .stationListItem.selected");
                    b && 0 < b.index() && ay($(this.el), "#stationList .stationListItem.selected")
                }));
                rz(this.hn, d, $("#stationList .stationListItem.selected .optionsItem"))
            },
            scrollTo: function(b, d) {
                var e = $(".scroll-pane", this.el).data("jsp");
                e && e.scrollTo(b, d)
            },
            Aw: function(b) {
                $(".shuffleStation", this.el).prop("checked", !1);
                for (var d = 0; d < b.length; d++)
                    $("#shuffleStation_" + b[d]).prop("checked", !0);
                var d = this.model.get("currentShuffleType")
                  , e = $(".stationListItem .stationNameText.notSelectableStation", this.el).length;
                "all" == d && b.length != this.model.get("stationList").length - 1 - e && this.model.set({
                    currentShuffleType: "my"
                })
            },
            yy: function(b) {
                $(".shuffleStationLabel").removeClass("shuffleStationLabelCurrent");
                var d = this.model.get("currentTrack");
                null != d && this.model.get("currentStationViewIsShuffle") && (d = "#shuffleStationLabel_" + d.e(),
                $(d).addClass("shuffleStationLabelCurrent"),
                b && ay($(".stationListHolder"), d),
                this.ki())
            },
            iy: function(b) {
                this.Aw(b.qe())
            },
            hG: function(b) {
                b = b.pathNames[2];
                var d = null
                  , e = null
                  , h = this.model.get("menuStation");
                null == b && null != h && (b = h.e(),
                d = wn(h),
                e = xn(h));
                b && d && z.b(Pg, {
                    stationId: b,
                    adId: d,
                    correlationId: e
                });
                sz()
            },
            Qw: function(b) {
                b = b.pathNames[2];
                null == b && null != this.model.get("menuStation") && (b = this.model.get("menuStation").e());
                b ? this.wl(b) : (b = this.model.get("currentStation"),
                null != b && this.wl(b.e()));
                sz()
            },
            wl: function(b) {
                R(bv, b)
            },
            rQ: function() {
                $("#stationSortDate").hasClass("selected") || (s("link", {
                    click: "sortStationsDate",
                    source: "StationListView"
                }, this.model.get("currentUser")),
                this.model.set({
                    stationSortOrderAlpha: !1
                }),
                this.Qt())
            },
            qQ: function() {
                $("#stationSortAlpha").hasClass("selected") || (s("link", {
                    click: "sortStationsAlpha",
                    source: "StationListView"
                }, this.model.get("currentUser")),
                this.model.set({
                    stationSortOrderAlpha: !0
                }),
                this.Qt())
            },
            Qt: function() {
                this.model.set({
                    stationSortOrderAlpha: wl ? !0 === om(Pl) : !1
                });
                this.model.get("stationSortOrderAlpha") ? ($("#stationSortDate").removeClass("selected"),
                $("#stationSortAlpha").addClass("selected")) : ($("#stationSortDate").addClass("selected"),
                $("#stationSortAlpha").removeClass("selected"))
            },
            events: {
                "click #shuffleButtonHoverArea": "shuffleButtonHoverArea_click",
                "mouseover #shuffleContainer": "shuffleContainer_mouseOver",
                "mouseout #shuffleContainer": "shuffleContainer_mouseOut",
                "click .stationListItem": "stationItemClick",
                "click .addVariety": "addVarietyClick",
                "mouseover .stationListItem .inactiveHoverArrow": "stationListItemMouseEnter",
                "mouseout .stationListItem .inactiveHoverArrow": "stationListItemMouseLeave",
                "mouseover .stationListItem": "stationListItemMouseEnter",
                "mouseout .stationListItem": "stationListItemMouseLeave"
            },
            deleteButtonClicked: function(b) {
                b = $.tmplItem(b.target).data.stationId;
                this.YF.update("/stations/delete/" + b);
                return !1
            },
            dm: function() {
                $(".inactiveHoverArrow:visible", this.el).hide()
            },
            stationListItemMouseEnter: function(b) {
                if (!0 != this.Np) {
                    b = $(".stationName", $(b.target).parents(".stationListItem"));
                    var d = this.model.get("currentStation")
                      , e = -1;
                    null != d && (e = d.e());
                    d = $.tmplItem(b[0]).data;
                    try {
                        if (d.e() != e) {
                            $(".stationName_hover").removeClass("stationName_hover");
                            b.addClass("stationName_hover");
                            this.dm();
                            var h = $(".inactiveHoverArrow", b.parents(".stationListItem"));
                            h.show();
                            rz(this.hn, d, h)
                        } else
                            rz(this.hn, this.model.get("currentStation"), $("#stationList .stationListItem.selected .optionsItem"))
                    } catch (l) {}
                }
            },
            stationListItemMouseLeave: function() {
                !0 != this.Np && ($(".stationName_hover", this.el).removeClass("stationName_hover"),
                this.dm(),
                rz(this.hn, this.model.get("currentStation"), $("#stationList .stationListItem.selected .optionsItem")))
            },
            stationItemClick: function(b) {
                setTimeout(r(this, function() {
                    var d = []
                      , e = $.tmplItem(b.target).data;
                    if ($(b.target).hasClass("checkbox"))
                        $(".shuffleStation:checked", this.el).each(function(b, c) {
                            var e = c.id.indexOf("_");
                            d.push(c.id.substr(e + 1))
                        }),
                        0 < d.length ? e.D() && e.Z() ? this.model.set({
                            currentStationViewIsShuffle: !1
                        }) : (this.model.set({
                            currentShuffleType: "my"
                        }),
                        um(dm, d.join(",")),
                        z.b(pi, {
                            stationIdArray: d,
                            isExplicitSave: !0,
                            shuffleType: this.model.get("currentShuffleType")
                        })) : this.model.set({
                            currentStationViewIsShuffle: !1
                        });
                    else if ($(b.target).hasClass("stationNameText") || !this.model.get("currentStation").D() || !this.model.get("currentStation").Z())
                        if (this.model.get("currentShuffleType") || this.model.set({
                            currentShuffleType: "all"
                        }),
                        e.Db() && le(e.e())) {
                            var h = this.model.get("currentUser");
                            e.Zg() == h.s ? (new X({
                                message: mc()
                            })).render() : (z.b(Ng, {
                                stationCode: "fs" + e.e(),
                                adId: wn(e),
                                correlationId: xn(e),
                                trackingUrls: e._promotedTrackingUrls
                            }),
                            s("promoted_stations", {
                                action: "promo_added",
                                device_os: "web",
                                vendor_id: 100,
                                token_type: "station",
                                token: e.e()
                            }, this.model.get("currentUser")))
                        } else
                            e.Tb() && le(e.wa()) ? (z.b(Og, "mi" + e.wa()),
                            s("promoted_stations", {
                                action: "rec_added",
                                device_os: "web",
                                vendor_id: 100,
                                token_type: "music",
                                token: e.wa()
                            }, this.model.get("currentUser"))) : z.b(ni, {
                                stationId: e.e(),
                                userInitiated: !0
                            })
                }), 1);
                this.ki();
                return !1
            },
            shuffleContainer_mouseOver: function() {
                2 < this.model.get("stationList").length && $("#shuffleButtonHoverArea", this.el).addClass("shuffleButtonHoverAreaHover")
            },
            shuffleContainer_mouseOut: function() {
                2 < this.model.get("stationList").length && 0 == $("#shufflePicker:visible").length && $("#shuffleButtonHoverArea", this.el).removeClass("shuffleButtonHoverAreaHover")
            },
            shuffleButtonHoverArea_click: function() {
                2 < this.model.get("stationList").length && R(Mu);
                return !1
            },
            shuffleButtonHoverArea_mouseOut: function() {
                2 < this.model.get("stationList").length && R(Nu)
            },
            addVarietyClick: function() {
                this.trigger("addvariety");
                return !1
            }
        })
    })();
    function tz() {}
    tz = Backbone.View.extend({
        initialize: function() {
            S(Nu, r(this, this.Yq));
            S(Mu, r(this, this.MP));
            this.model.bind("change:currentStation", r(this, this.Yq));
            this.model.bind("change:currentStationViewIsShuffle", r(this, this.Yq));
            this.render()
        },
        el: $("#shufflePicker").get(0),
        render: function() {
            $(this.el).empty().append($("#shufflePickerTmpl").tmpl());
            $(this.el).hide();
            return this
        },
        Yq: function() {
            clearTimeout(tz.hideTimeout);
            tz.hideTimeout = setTimeout(r(this, function() {
                $(this.el).fadeOut(100);
                setTimeout(function() {
                    $("#shuffleButtonHoverArea").removeClass("shuffleButtonHover")
                }, 120)
            }), 1E3)
        },
        MP: function() {
            clearTimeout(tz.hideTimeout);
            var b = this.NH();
            $("#shufflePickerItemContainer", this.el).empty().append($("#shufflePickerItemTmpl").tmpl(b));
            $(this.el).fadeIn(100)
        },
        NH: function() {
            for (var b = {}, c = [], d = this.model.get("stationList").select(function(b) {
                return !b.D() && !b.Ra() && !b.qc() && An(b)
            }), e = 0; e < d.length; e++) {
                var h = d[e]
                  , l = h.e();
                if (h = h.Gf()) {
                    c.push(l);
                    for (var p = 0; p < h.length; p++) {
                        var q = h[p]
                          , t = b[q];
                        null == t && (t = [],
                        b[q] = t);
                        t.push(l)
                    }
                }
            }
            e = Zm();
            d = null == e || 0 == e.length ? c : e.split(",");
            e = this.model.get("currentShuffleType");
            c = [{
                genreName: "all",
                genreLabel: "Shuffle All",
                stationIdArray: c.join(","),
                selected: "all" == e
            }, {
                genreName: "my",
                genreLabel: "My Shuffle",
                stationIdArray: d.join(","),
                selected: "my" == e
            }];
            c.push({
                genreName: "line",
                genreLabel: null ,
                stationIdArray: null ,
                selected: !1
            });
            for (q in b)
                c.push({
                    genreName: q,
                    genreLabel: "Shuffle " + q + " stations",
                    stationIdArray: b[q].join(","),
                    selected: e == q
                });
            if (!this.model.get("currentStationViewIsShuffle"))
                for (e = 0; e < c.length; e++)
                    c[e].selected = !1;
            return c
        },
        events: {
            "click .shufflePickerItem": "shufflePickerItemClick",
            "mouseover #shufflePickerContainer": "shufflePicker_mouseOver",
            "mouseout #shufflePickerContainer": "shufflePicker_mouseOut"
        },
        shufflePickerItemClick: function(b) {
            R(Nu);
            var c = $(b.target).attr("stationIdArray");
            c && (c = c.split(","),
            b = "" + $(b.target).attr("genreName"),
            this.model.set({
                currentShuffleType: b
            }),
            z.b(pi, {
                stationIdArray: c,
                isExplicitSave: !0,
                genre: "all" === b ? null : b,
                shuffleType: "all" === b ? b : "my"
            }),
            this.model.get("currentStation").D() || (b = this.model.get("stationList").select(function(b) {
                return b.D() && b.Z()
            })[0],
            z.b(ni, {
                stationId: b.e(),
                userInitiated: !0
            }),
            this.model.set({
                currentStationViewIsShuffle: !0
            })))
        },
        shufflePicker_mouseOver: function() {
            clearTimeout(tz.hideTimeout)
        },
        shufflePicker_mouseOut: function() {
            R(Nu)
        }
    });
    function uz() {}
    uz = Backbone.View.extend({
        initialize: function() {
            new vz;
            this.ql = null ;
            this.model.bind("change:selectedTrack", r(this, this.Ks))
        },
        el: $("#videoPageInfo").get(0),
        Ks: function() {
            var b = this.model.get("selectedTrack")
              , c = this.model.get("currentUser");
            if (null != b && null != c && c.J()) {
                b = b.Ye;
                c = wz[b];
                if (null != c) {
                    this.ql = b;
                    $(".caption", this.el).text(c.$C);
                    $(".caption_header", this.el).text(c.bD);
                    $(".caption_footer", this.el).text(c.aD);
                    $("a", this.el).attr("href", c.iE);
                    $("img", this.el).attr("src", c.YC);
                    $(this.el).slideDown();
                    s("video_bubble_display", {
                        arist_id: b
                    }, this.model.get("currentUser"));
                    return
                }
                $(this.el).slideUp()
            }
            $(this.el).hide();
            this.ql = null
        },
        events: {
            "click a": "linkClicked"
        },
        linkClicked: function() {
            z.b(gi);
            null != this.ql && s("video_bubble_click", {
                arist_id: this.ql
            }, this.model.get("currentUser"));
            return !0
        }
    });
    function xz() {}
    xz = Backbone.View.extend({
        initialize: function() {
            var b = $(".buyButton", this.el);
            this.bF = new yz({
                buyButton: b,
                buyMenu: $("#buy_menu_dd"),
                cssBeforeOpen: function() {
                    var c = b.offset()
                      , e = $("#buy_menu_dd").parent().offset().top
                      , h = c ? c.top : 0;
                    return {
                        left: (c ? c.left : 0) - ($("#buy_menu_dd").width() - b.outerWidth()),
                        top: h - e + b.outerHeight()
                    }
                },
                model: this.model
            });
            var c = $(".autoshareButton", this.el);
            this.QE = new dz(c,null ,$("#autoshare_menu_dd"));
            this.QE.ym = r(this, function() {
                var b = c.offset()
                  , e = $("#autoshare_menu_dd").parent().offset().top;
                $("#autoshare_menu_dd").css({
                    left: (b ? b.left : 0) - ($("#autoshare_menu_dd").width() - c.outerWidth()),
                    top: (b ? b.top : 0) - e + c.outerHeight()
                })
            });
            $("#autoshare_menu_dd .autoshareOn").click(r(this, this.SE));
            $("#autoshare_menu_dd .autoshareOff").click(r(this, this.RE));
            $("#autoshare_menu_dd .autoshareOptions").click(r(this, this.TE));
            this.QA();
            this.model.bind("change:autoShare", r(this, this.QA));
            this.model.bind("change:selectedTrack", r(this, this.Ks));
            this.model.bind("change:currentUser", r(this, this.zw));
            z.c(df, r(this, this.aj));
            z.c(Wk, r(this, this.gf));
            z.c(Vk, r(this, this.Aj))
        },
        el: $("#trackInfoContainer").get(0),
        QA: function() {
            this.model.get("autoShare") ? ($(".autoshareButton", this.el).addClass("on"),
            $(".autoshareOn").addClass("checked"),
            $(".autoshareOff").removeClass("checked")) : ($(".autoshareButton", this.el).removeClass("on"),
            $(".autoshareOn").removeClass("checked"),
            $(".autoshareOff").addClass("checked"))
        },
        zw: function() {
            var b = this.model.get("currentUser")
              , c = this.model.get("currentStation");
            b && b.dq && c && c.jp() ? $(".autoshareButton", this.el).show() : $(".autoshareButton", this.el).hide()
        },
        Ks: function() {
            this.zw();
            var b = this.model.get("selectedTrack");
            if (b && b instanceof Hn) {
                var c = this.model.get("currentTrack") ? this.model.get("currentTrack").o() : null ;
                b.o() != c || b instanceof zo && b.oL() ? this.Wq(!0) : this.$z(!0);
                $("#trackInfoButtons").slideUp("fast")
            } else
                b && b.Ic ? ($("#trackInfoButtons").slideUp("fast"),
                this.Wq(!0)) : b && b instanceof Bo ? ($(".liveNow", this.el).hide(),
                $(".audioAdInfo", this.el).hide(),
                $("#audioAdDetail").hide(),
                b.CD ? ($(".buyButton", this.el).hide(),
                $("#trackInfoButtons").slideDown("fast")) : $("#trackInfoButtons").slideUp("fast"),
                $(".info", this.el).hide(),
                $(".artistMessageInfo", this.el).show(),
                $(".artistSummary", this.el).text(b.Y())) : null != b ? ($(".liveNow", this.el).hide(),
                this.$z(!1),
                b instanceof Jn ? ($("#trackInfoButtons").slideDown("fast"),
                $(".artistSummary", this.el).css("text-decoration", "").text(b.Y()).attr("href", b.Vg()),
                $(".albumTitle", this.el).css("text-decoration", "").text(b.jb).attr("href", b.Kl()),
                $(".byText", this.el).text(b.rb ? b.rb : "by"),
                $(".onText", this.el).text(b.Kc ? b.Kc : "on"),
                $(".featured", this.el).toggle(!1),
                this.model.get("currentTrack") == b ? ($(".songTitle", this.el).hide(),
                $(".liveNow", this.el).show(),
                this.aw()) : $(".songTitle", this.el).css("text-decoration", "").text(b.Ja).attr("href", b.$g()).show()) : b.Ul() ? ($(".songTitle", this.el).removeAttr("href").css("text-decoration", "none").text(b.Ja).show(),
                $(".artistSummary", this.el).removeAttr("href").css("text-decoration", "none").text(b.Y()),
                $(".albumTitle", this.el).removeAttr("href").css("text-decoration", "none").text(b.jb),
                $(".byText", this.el).text(b.rb ? b.rb : "from"),
                $(".onText", this.el).text(b.Kc ? b.Kc : "on"),
                $(".featured", this.el).toggle(!1)) : ($(".featured", this.el).toggle(b.hh()),
                $(".songTitle", this.el).css("text-decoration", "").text(b.Ja).attr("href", b.$g()).show(),
                $(".artistSummary", this.el).css("text-decoration", "").text(b.Y()).attr("href", b.Vg()),
                b.gv ? $(".albumTitle", this.el).removeAttr("href").css("text-decoration", "none").text(b.jb) : $(".albumTitle", this.el).css("text-decoration", "").text(b.jb).attr("href", b.Kl()),
                $(".byText", this.el).text(b.rb ? b.rb : "by"),
                $(".onText", this.el).text(b.Kc ? b.Kc : "on")),
                this.bF.kP(b),
                b.My() ? $(".buyButton", this.el).show() : $(".buyButton", this.el).hide(),
                $("#trackInfoButtons").slideDown("fast"),
                this.XA(b)) : $("#trackInfoButtons").slideUp("fast");
            this.pd()
        },
        aj: function(b) {
            var c = b.track;
            b = b.stationId;
            var d = this.model.get("currentTrack")
              , e = this.model.get("currentStation");
            null != d && c.o() == d.o() && null != e && e.e() == b && this.XA(c)
        },
        XA: function(b) {
            1 == b.Lc ? ($("#thumbup", this.el).show(),
            $("#thumbdown", this.el).hide()) : -1 == b.Lc ? ($("#thumbup", this.el).hide(),
            $("#thumbdown", this.el).show()) : ($("#thumbup", this.el).hide(),
            $("#thumbdown", this.el).hide())
        },
        $z: function(b) {
            this.Wq(b);
            b ? $(".audioAdInfo", this.el).show() : ($(".audioAdInfo", this.el).hide(),
            $("#audioAdDetail").hide())
        },
        Wq: function(b) {
            $(".artistMessageInfo", this.el).hide();
            $(".liveNow", this.el).hide();
            b ? ($("#trackInfoButtons").slideUp("fast"),
            $(".info", this.el).hide()) : ($("#trackInfoButtons").slideDown("fast"),
            $(".info", this.el).show())
        },
        pd: function() {
            if (!this.ec) {
                var b = this.model.get("selectedTrack")
                  , c = $(".contents", this.el);
                null != b ? c.is(":visible") || (this.ec = !0,
                c.fadeIn(400, r(this, function() {
                    this.ec = !1;
                    $(this.el).is(":visible") && this.pd()
                }))) : c.is(":visible") && (this.ec = !0,
                c.fadeOut(200, r(this, function() {
                    this.ec = !1;
                    this.pd()
                })))
            }
        },
        aw: function() {
            this.model.get("currentTrack")instanceof Jn && ($(".liveNowStatusIcon").animate({
                opacity: "0.4"
            }, 2E3),
            $(".liveNowStatusIcon").animate({
                opacity: "1.0"
            }, 2E3, "swing", r(this, this.aw)))
        },
        gf: function(b) {
            b && "ANIMATEDOVERLAY" == b.C() && $(".contents", this.el).fadeOut(200)
        },
        Aj: function(b) {
            b && "ANIMATEDOVERLAY" == b.C() && $(".contents", this.el).fadeIn(200)
        },
        SE: function() {
            z.b(sj);
            return !1
        },
        RE: function() {
            if (this.model.get("facebookAuthenticated")) {
                var b = this.model.get("currentUser");
                z.b(Ai, {
                    autoShareEnabled: !1,
                    autoShareTrackPlay: b.Og,
                    autoShareLikes: b.Ng,
                    autoShareFollows: b.Mg,
                    userInitiated: !0
                })
            }
            return !1
        },
        TE: function() {
            var b = this.model.get("currentUser");
            null != b && b.p() ? R(Av, {
                onSuccessRedirect: "/account/privacy"
            }) : V("/account/privacy", !0, !0);
            return !1
        },
        events: {
            "click .buyButton": "buyButtonClick",
            "click .shareButton": "shareButtonClick",
            "click .whyAdsButton": "whyAdsClick",
            "click .songTitle": "songTitleClick",
            "click .artistSummary": "artistSummaryClick",
            "click .albumTitle": "albumTitleClick"
        },
        whyAdsClick: function() {
            s("ad", {
                action: "why_ads_tapped",
                device_os: "web"
            }, this.model.get("currentUser"));
            $("#audioAdDetail").toggle();
            return !1
        },
        shareButtonClick: function() {
            var b = this.model.get("currentUser");
            if (null == b || b.p())
                R(Av);
            else {
                var b = this.model.get("selectedTrack")
                  , c = this.model.get("currentStation");
                b && c && (c.D() && (c = this.model.get("stationList").Rc(b.e())),
                R(Yu, {
                    mode: "station_and_song",
                    station: c,
                    track: b
                }),
                s("link", {
                    click: "shareButton",
                    source: "TrackInfoView"
                }, this.model.get("currentUser")))
            }
            return !1
        },
        menuButtonClick: function() {
            return !1
        },
        buyButtonClick: function() {
            s("link", {
                click: "buyButton",
                source: "TrackInfoView"
            }, this.model.get("currentUser"))
        },
        songTitleClick: function() {
            R(Xw, "song")
        },
        artistSummaryClick: function() {
            R(Xw, "artist")
        },
        albumTitleClick: function() {
            R(Xw, "album")
        }
    });
    function zz() {}
    zz = Backbone.View.extend({
        dC: 4,
        j_: 4,
        bc: 300,
        lu: "offensive",
        ku: "irrelevant",
        mu: "unwanted",
        zB: /\/station\/start\/([\w-]+)/,
        initialize: function() {
            this.qm = null ;
            this.rl = 0;
            this.model.bind("change:selectedTrack", r(this, this.Ls));
            this.model.bind("change:selectedArtist", r(this, this.VO));
            z.c(Yg, r(this, this.bI));
            window.pandoraCustomContentLoaded = this.SF;
            this.render();
            $("#flag_menu_dd .offensive").click(r(this, this.$H));
            $("#flag_menu_dd .irrelevant").click(r(this, this.ZH));
            $("#flag_menu_dd .unwanted").click(r(this, this.aI))
        },
        el: $("#trackDetailContainer").get(0),
        render: function() {
            $("#trackDetail", this.el).append($("#trackDetailItemThumbInfo").tmpl());
            $("#trackDetail", this.el).append($("#trackDetailItemTmpl").tmpl({
                heading: Vc(),
                className: "lyrics"
            }));
            $("#trackDetail", this.el).append($("#trackDetailNoContentItemTmpl").tmpl({
                noContentText: Wc(),
                className: "nolyrics"
            }));
            $("#trackDetail", this.el).append($("#trackDetailFeaturedTmpl").tmpl({
                className: "featured"
            }));
            A._data.isAAMFlaggingV2 ? $("#trackDetail", this.el).append($("#trackDetailArtistMessageTmplV2").tmpl({
                className: "artistMessage"
            })) : $("#trackDetail", this.el).append($("#trackDetailArtistMessageTmpl").tmpl({
                className: "artistMessage"
            }));
            $("#trackDetail", this.el).append($("#trackDetailItemTmpl").tmpl({
                heading: Xc(),
                className: "artistBio"
            }));
            $("#trackDetail", this.el).append($("#trackDetailItemTmpl").tmpl({
                heading: $c(),
                className: "aboutEpisode"
            }));
            $("#trackDetail", this.el).append($("#trackDetailItemTmpl").tmpl({
                heading: ad(),
                className: "moreShows"
            }));
            $("#trackDetail", this.el).append($("#trackDetailItemTmpl").tmpl({
                heading: Yc(),
                className: "relatedArtists"
            }));
            k.debug("sending google analytics event: backstage");
            window.ga("send", "backstage");
            return this
        },
        ED: function(b) {
            if (!b)
                return !1;
            b = b.rv || b.xv;
            return b ? (b = this.model.get("stationList").Rc(b)) ? b.Ha() : !1 : !1
        },
        zD: function(b) {
            if (!b)
                return null ;
            b = b.e();
            if (!b)
                return null ;
            b = this.model.get("stationList").Rc(b);
            if (!b)
                return !1;
            var c = this.model.get("currentUser");
            return c ? b.Zg() === c.s : !1
        },
        fE: function(b) {
            var c = this.zD(b)
              , d = this.ED(b)
              , e = $(".tpr-coachmark", this.el);
            !c || 0 >= b.ID || d ? e.hide() : (c = this.pD(b) || this.qD(b)) ? (b = [Hd(c.Hi), "<span class='tpr-coachmark__text__details'>", Hd(b.Ja), "</span>on <span class='tpr-coachmark__text__details'>", Hd(c.vt), "</span>on <span class='tpr-coachmark__text__details'>", Hd(c.Nw.format("mmm dd, yyyy")), "</span>"],
            e.find(".tpr-coachmark__text").html(b.join(" ")),
            e.show()) : e.hide()
        },
        qD: function(b) {
            var c = this.model.get("stationList")
              , d = b.xv;
            b = b.FD;
            return d && b ? (c = c.Rc(d)) ? {
                Hi: "You last thumbed up ",
                vt: c.ca(),
                Nw: b
            } : null : null
        },
        pD: function(b) {
            var c = this.model.get("stationList")
              , d = b.rv;
            b = b.nD;
            return d && b ? (c = c.Rc(d)) ? {
                Hi: "You first thumbed up ",
                vt: c.ca(),
                Nw: b
            } : null : null
        },
        bI: function(b) {
            var c = this.model.get("selectedTrack");
            c && c instanceof Bo && c.Qb == b.artistMessageId && $(".artistMessage .icon", this.el).removeClass("icon-flag-outline").addClass("icon-flag-filled")
        },
        Ls: function() {
            var b;
            this.H = this.model.get("selectedTrack");
            var c = this.model.get("currentTrack");
            this.fE(this.H);
            b = $(".item.featured", this.el);
            null == this.H || this.H.je || null == c || this.H.o() != c.o() ? b.toggle(!1) : b.toggle(this.H.hh());
            this.H && this.H instanceof Bo ? (hn(this.H.Qb) ? $(".artistMessage .icon", this.el).removeClass("icon-flag-outline").addClass("icon-flag-filled") : $(".artistMessage .icon", this.el).removeClass("icon-flag-filled").addClass("icon-flag-outline"),
            (c = this.H.SC) && 0 < c.length ? (b = this.H.RC,
            $(".artistMessage .btns a", this.el).attr("href", c).text(b),
            -1 < c.indexOf(mn()) && $(".artistMessage .btns a", this.el).removeAttr("target"),
            $(".artistMessage .btns", this.el).show()) : $(".artistMessage .btns", this.el).hide(),
            $(".artistMessage", this.el).show(),
            z.b(uk, {
                artistMessageId: this.H.Qb,
                artistUid: this.H.he,
                metric: m.zb.pB(),
                isOnDemand: this.H.we(),
                shareUrlType: mp("sut")
            })) : $(".artistMessage", this.el).hide();
            c = $(".lyrics .itemContent", this.el);
            c.empty();
            null == this.H || this.H.je || (b = this.H.Io,
            null != b && (b = b.replace(/\n/g, "<br>"),
            b = $("#lyricsContentTmpl").tmpl({
                lyricSnippet: b
            }),
            c.empty().append(b)));
            $(".nolyrics", this.el).hide();
            $(".lyrics", this.el).hide();
            c = this.H ? this.H.Ye : null ;
            c != this.BL && (this.BL = c,
            $(".artistBio .itemContent", this.el).prev().empty(),
            $(".artistBio .itemContent", this.el).empty(),
            $(".artistBio", this.el).hide(),
            $(".relatedArtists .itemContent", this.el).empty(),
            $(".relatedArtists .itemContent", this.el).prev().empty(),
            $(".relatedArtists", this.el).hide());
            if (this.H && this.H.je) {
                var d = this.H.je;
                if (null != d && 0 < d.length) {
                    this.rl = (this.rl + 1) % 2;
                    $.get(d, r(this, function(b) {
                        $("#trackDetail").hide();
                        b += "<script>$(document).ready(function() {setTimeout(function() { pandoraCustomContentLoaded(" + this.rl + ")}, 500)});\x3c/script>";
                        var c = $("#customContentTrackDetailFrame" + this.rl);
                        c.hide();
                        try {
                            c.html(b)
                        } catch (l) {
                            k.error("Bad HTML for template " + d)
                        }
                        $("#customContentTrackDetail").show();
                        this.pd()
                    }));
                    return
                }
                k.warn("No station template for " + this.H.o())
            } else
                $("#customContentTrackDetail").hide();
            this.pd();
            this.YQ()
        },
        SF: function(b) {
            $("#customContentTrackDetailFrame" + b).show();
            $("#customContentTrackDetailFrame" + (b + 1) % 2).hide()
        },
        pd: function() {
            if (!this.ec) {
                var b = this.model.get("selectedTrack");
                if (null != b)
                    b instanceof Hn || b.Ic ? $("#trackDetail").hide() : $("#trackDetail").show(),
                    $("#detailContainer").is(":visible") || (this.ec = !0,
                    $("#detailContainer").fadeIn(400, r(this, function() {
                        this.ec = !1;
                        $("#home").is(":visible") && this.pd()
                    })));
                else {
                    var b = this.model.get("currentStation")
                      , c = this.model.get("narrative")
                      , b = b && b.Ra() && null != c ? !1 : !0;
                    $("#detailContainer").is(":visible") ? b && (this.ec = !0,
                    $("#detailContainer").fadeOut(200, r(this, function() {
                        $(".lyrics", this.el).css({
                            opacity: "hide",
                            height: "hide"
                        });
                        this.ec = !1;
                        this.pd()
                    }))) : b || (this.ec = !0,
                    $("#detailContainer").fadeIn(400, r(this, function() {
                        this.ec = !1;
                        this.pd()
                    })))
                }
            }
        },
        em: function() {
            setTimeout(r(this, function() {
                $(".itemContent:visible", this.el).next(".divider").removeClass("last").last().addClass("last")
            }), 50)
        },
        YQ: function() {
            var b = this.model.get("selectedTrack")
              , c = fp();
            null != b && (c && !b.je ? (null != b.Io ? (this.Kf($(".nolyrics", this.el)),
            this.bt($(".lyrics", this.el))) : (this.Kf($(".lyrics", this.el)),
            this.Kf($(".nolyrics", this.el))),
            this.em()) : ($(".nolyrics", this.el).hide(),
            $(".lyrics", this.el).hide()))
        },
        VO: function() {
            var b = this.model.get("selectedArtist");
            if (null != b) {
                var c = this.model.get("selectedTrack")
                  , c = c && c instanceof Bo
                  , d = b.dv;
                null != d && 0 < d.length && Fy(b, this.H) ? ($(".artistBio .itemContent", this.el).prev().text(Xc() + " " + b.getName()),
                d = $("#artistBioContentTmpl").tmpl(b),
                $(".artistBio .itemContent", this.el).empty().append(d),
                this.bt($(".artistBio", this.el)),
                this.em()) : this.Kf($(".artistBio", this.el));
                d = b.Iv;
                if (!c && 0 < d.length && Fy(b, this.H)) {
                    var e = $(".relatedArtists .itemContent", this.el);
                    e.empty();
                    var h = this.dC;
                    $.each(d, function(b, c) {
                        if (b == h)
                            return !1;
                        var d = $("#relatedArtistItemTmpl").tmpl(c);
                        e.append(d)
                    });
                    this.bt($(".relatedArtists", this.el));
                    this.em()
                } else
                    this.Kf($(".relatedArtists", this.el));
                b = b.kL() ? Zc() : Yc();
                $(".relatedArtists .itemContent", this.el).prev().text(b)
            } else
                this.Kf($(".artistBio", this.el)),
                this.Kf($(".relatedArtists", this.el));
            this.em()
        },
        showFullLyrics: function(b) {
            var c = b.iv;
            b = b.Av;
            var d = $(".lyrics", this.el).height();
            $(".lyrics", this.el).css({
                overflow: "hidden",
                "max-height": d
            });
            $(".lyrics", this.el).data("snippetHeight", d);
            $(".lyrics .lyricsText", this.el).empty().append(b);
            $(".lyrics .lyricsText", this.el).after($("#fullLyricsCreditsTmpl").tmpl(c));
            c = $(".lyrics .itemContent", this.el).height();
            $(".lyrics", this.el).animate({
                "max-height": c
            }, r(this, function() {
                $(".lyrics", this.el).css({
                    overflow: "",
                    "max-height": ""
                })
            }));
            $(".showLessLyrics", this.el).show()
        },
        JK: function() {
            var b = $(".lyrics", this.el).data("snippetHeight");
            $(".lyrics", this.el).animate({
                height: b
            }, r(this, function() {
                var b = this.model.get("selectedTrack");
                null != b && (b = b.Io,
                b = null != b ? b.replace(/\n/g, "<br>") : "",
                $(".lyrics .lyricsText", this.el).empty().append(b));
                $(".lyrics", this.el).css({
                    height: ""
                })
            }));
            $(".fullLyricsCredit", this.el).fadeOut(r(this, function() {
                $(".fullLyricsCredit", this.el).remove()
            }));
            $(".gracenote_copyright", this.el).fadeOut(r(this, function() {
                $(".gracenote_copyright", this.el).remove()
            }));
            $(".showLessLyrics", this.el).hide();
            $(".showMoreLyrics", this.el).show()
        },
        showFullContent: function(b) {
            var c = $(b.target);
            b = c.parent();
            var d = b.find(".snippetAndContentContainer")
              , e = d.find(".snippet")
              , h = d.find(".fullContent")
              , c = c.attr("data-link-click")
              , l = d.height();
            d.css({
                overflow: "hidden",
                "max-height": l
            });
            d.data("snippetHeight", l);
            e.hide();
            h.show();
            e = h.height();
            d.animate({
                "max-height": e
            }, r(this, function() {
                d.css({
                    overflow: "",
                    "max-height": ""
                })
            }));
            s("link", {
                click: c,
                source: "TrackDetailView"
            }, this.model.get("currentUser"));
            "showFullEpisodeList" == c && (this.qm = [this.model.get("currentStation").e(), l]);
            $(".showFullContent", b).hide();
            $(".showSnippet", b).show()
        },
        showSnippet: function(b) {
            var c = $(b.target);
            b = c.parent();
            var d = b.find(".snippetAndContentContainer")
              , e = d.find(".snippet")
              , h = d.find(".fullContent")
              , c = c.attr("data-link-click")
              , l = d.data("snippetHeight")
              , l = l ? l : this.qm ? this.qm[1] : e.innerHeight();
            d.animate({
                height: l
            }, r(this, function() {
                e.show();
                h.hide();
                d.css({
                    height: ""
                })
            }));
            s("link", {
                click: c,
                source: "TrackDetailView"
            }, this.model.get("currentUser"));
            "showLessEpisodeList" == c && (this.qm = null );
            $(".showSnippet", b).hide();
            $(".showFullContent", b).show()
        },
        um: function() {
            null == this.model.get("narrative") && null == this.model.get("songNarrative") ? $("#trackDetail", this.el).fadeIn() : $("#trackDetail", this.el).fadeOut();
            this.pd()
        },
        events: {
            "click .showMoreLyrics": "showMoreLyricsClick",
            "click .showLessLyrics": "showLessLyricsClick",
            "click .showFullBio": "showFullBioClick",
            "click .getRelatedArtist": "handleRelatedArtistClick",
            "click .showFullContent": "showFullContent",
            "click .showSnippet": "showSnippet",
            "click .featured_learn_more_link": "featuredTrackLearnMoreClick",
            "click .artistMessage a.js-cta": "artistMessageButtonClick",
            "click .artistMessage p.flag a.js-flag-message": "artistMessageFlagClick",
            "mouseover .artistMessage p.flagWithReason a.js-flag-message": "artistMessageFlagWithReasonMouseover",
            "click .artistMessage p.flagWithReason a.js-flag-message": "artistMessageFlagWithReasonClick",
            "click .artistMessage .js-cta.button": "handleArtistMessageStationCreate"
        },
        showMoreLyricsClick: function() {
            var b = this.model.get("selectedTrack");
            null != b && this.trigger("getFullLyrics", Iy(b));
            $(".showMoreLyrics", this.el).hide();
            R(Gw);
            s("link", {
                click: "showMoreLyrics",
                source: "TrackDetailView"
            }, this.model.get("currentUser"));
            return !1
        },
        showLessLyricsClick: function() {
            this.JK();
            R(Hw);
            s("link", {
                click: "showLessLyrics",
                source: "TrackDetailView"
            }, this.model.get("currentUser"));
            return !1
        },
        showFullBioClick: function() {
            R(Xw, "artist");
            s("link", {
                click: "showFullBio",
                source: "TrackDetailView"
            }, this.model.get("currentUser"))
        },
        handleRelatedArtistClick: function() {
            R(Xw, "artist");
            s("link", {
                click: "getRelatedArtist",
                source: "TrackDetailView"
            }, this.model.get("currentUser"))
        },
        featuredTrackLearnMoreClick: function() {
            s("link", {
                click: "featuredTrackLearnMore",
                source: "TrackDetailView"
            }, this.model.get("currentUser"))
        },
        artistMessageButtonClick: function() {
            z.b(uk, {
                artistMessageId: this.H.Qb,
                artistUid: this.H.he,
                metric: m.zb.oB(),
                isOnDemand: this.H.we(),
                shareUrlType: mp("sut")
            });
            return !0
        },
        artistMessageFlagClick: function() {
            var b = this.H.Qb;
            hn(b) || (fn(b),
            z.b(vk, {
                artistMessageId: b,
                artistUid: this.H.he,
                stationId: this.H.e()
            }))
        },
        artistMessageFlagWithReasonClick: function() {
            hn(this.H.Qb) || (this.va.open(),
            this.model.get("currentTrack")instanceof Bo && z.b(gi))
        },
        artistMessageFlagWithReasonMouseover: function() {
            var b = this.H.Qb
              , c = $(".item.artistMessage")
              , d = r(this, function() {
                c.fadeIn(200);
                this.ep(c)
            });
            hn(b) || d();
            return !1
        },
        handleArtistMessageStationCreate: function(b) {
            if (!b || !b.target || !b.target.href)
                return !0;
            b = b.target.href.match(this.zB);
            if (null === b)
                return !0;
            z.b(Hi, {
                stationCode: "st" + b[1],
                source: "track_detail"
            });
            return !1
        },
        uq: function(b) {
            var c = this.H.Qb;
            hn(c) || (fn(c),
            this.xP(b),
            $(".artistMessage p.flagWithReason a.js-flag-message").off("click"),
            z.b(wk, {
                artistMessageId: c,
                artistUid: this.H.he,
                flagReason: b
            }))
        },
        xP: function(b) {
            var c;
            switch (b) {
            case this.ku:
                b = !0;
                c = vc();
                break;
            case this.mu:
                b = !0;
                c = wc();
                break;
            case this.lu:
                b = !1;
                break;
            default:
                b = !1
            }
            b && (new X({
                message: c
            })).render()
        },
        $H: function() {
            this.uq(this.lu)
        },
        ZH: function() {
            this.uq(this.ku)
        },
        aI: function() {
            this.uq(this.mu)
        },
        ep: function(b) {
            this.va = new dz($(".artistMessage p.flagWithReason a.js-flag-message"),null ,$("#flag_menu_dd"));
            this.va.ti = function() {
                return !1
            }
            ;
            var c = b.offset()
              , d = c ? c.top : 0
              , c = c ? c.left : 0;
            $("#flag_menu_dd").css({
                top: d - $("#flag_menu_dd").height(),
                left: c - $("#flag_menu_dd").width() / 2 + b.width() / 4
            })
        },
        Kf: function(b, c) {
            b.stop(!0, !0).animate({
                opacity: "hide",
                height: "hide"
            }, this.bc, c)
        },
        bt: function(b, c) {
            b.stop(!0, !0).animate({
                opacity: "show",
                height: "show"
            }, this.bc, function() {
                Ae() && b.css("filter", "none !important");
                c && c()
            })
        }
    });
    function Az() {}
    Az = Backbone.View.extend({
        AC: 250,
        Sh: 7,
        AB: $("#currentSlideArrow").height(),
        fC: 300,
        gC: 15,
        oC: 500,
        Ku: 1E3,
        iu: 215,
        initialize: function() {
            this.nh = {};
            this.nn = null ;
            this.hd = this.selectedIndex = 0;
            this.Ir = null ;
            this.Hh = !1;
            this.cn = {};
            this.xf = this.Us = !1;
            this.model.bind("change:currentTrack", r(this, this.ml));
            z.c(ig, r(this, this.ww));
            this.model.bind("change:keyPressed", r(this, this.kJ));
            this.model.bind("change:currentContextualTip", r(this, this.nI));
            z.c(He, r(this, this.jF));
            z.c(df, r(this, this.aj));
            z.c(rf, r(this, this.DQ));
            z.c(tf, r(this, this.aQ));
            z.c(gi, r(this, this.HQ));
            z.c(tg, r(this, this.mM));
            z.c(ei, r(this, this.MA));
            z.c(qi, r(this, this.Cm));
            z.c(Jk, r(this, this.$p));
            z.c(cf, r(this, this.xN));
            z.c(nh, r(this, this.nz));
            z.c(oh, r(this, this.nz));
            z.c(hi, r(this, this.dy));
            z.c(vg, r(this, this.dy));
            z.c(af, r(this, this.YJ));
            z.c(Wk, r(this, this.gf));
            z.c(Vk, r(this, this.Aj));
            S($v, r(this, this.pQ));
            S(dw, r(this, this.RJ));
            S(aw, r(this, this.hy));
            S(bw, r(this, this.gy));
            S(Iu, r(this, this.Cr));
            S(lw, r(this, this.Mt));
            $("#track_menu_dd .newStationFromSong").click(r(this, this.Hr));
            $("#track_menu_dd .newStationFromArtist").click(r(this, this.Gr));
            $("#track_menu_dd .tiredOfSong").click(r(this, this.Ht));
            $("#track_menu_dd .whySelected").click(r(this, this.tR));
            $("#track_menu_dd .moveSong").click(r(this, this.Br));
            mz("/song/sleep/");
            this.aL();
            this.Cm(Jm())
        },
        el: $(".slidesForeground").get(0),
        aL: function() {
            this.Sy = this.R = Xm();
            this.Hg = null ;
            this.or = this.R;
            this.Mt();
            $("#trackInfo .slideDragHandle").draggable({
                axis: "y",
                containment: $(".slideDragLimit"),
                helper: "clone",
                start: r(this, this.Kp),
                stop: r(this, this.Lp),
                drag: r(this, this.Jp)
            });
            $("#trackInfo .slideDragHandle").hover(function() {
                $("#trackInfo .slideDrag").addClass("hover")
            }, function() {
                $("#trackInfo .slideDrag").removeClass("hover")
            })
        },
        Kp: function(b, c) {
            R(Zv);
            this.Zw = c.offset.top - this.R;
            this.cA();
            s("link", {
                click: "resizeAlbumArt",
                source: "AlbumSlidesView"
            }, this.model.get("currentUser"))
        },
        cA: function() {
            null != this.Hg && clearTimeout(this.Hg);
            this.Hg = setTimeout(r(this, function() {
                this.R != this.or && (this.R = this.or,
                this.eg());
                this.cA()
            }), 1E3 / 60)
        },
        Lp: function(b, c) {
            null != this.Hg && clearTimeout(this.Hg);
            this.Hg = null ;
            this.R = c.offset.top - this.Zw;
            this.Mt();
            um($l, this.R)
        },
        Jp: function(b, c) {
            this.or = c.offset.top - this.Zw
        },
        gf: function(b) {
            this.Sy = this.R;
            b && "ANIMATEDOVERLAY" == b.C() && (this.R != this.iu && (this.R = this.iu,
            this.eg()),
            $(".slides", this.el).fadeOut(200))
        },
        Aj: function(b) {
            b && "ANIMATEDOVERLAY" == b.C() && (this.R = this.Sy,
            this.eg(),
            $(".slides", this.el).fadeIn(200))
        },
        Mt: function() {
            this.Hv();
            this.Lv($(".stationSlides", this.el))
        },
        eg: function() {
            this.Hv();
            var b = this.model.get("currentStation");
            null != b && this.Lv($("#stationSlides" + b.e()))
        },
        Hv: function() {
            $(".slides", this.el).height(this.R);
            var b = this.R + this.Sh;
            $("#mainContentContainer .slidesBackground div").height(b);
            $(".slides", this.el).css("margin-top", -(b + this.AB + 1));
            $("#currentSlideArrow").css("margin-right", Math.floor(this.R / 2) - this.Sh)
        },
        Lv: function(b) {
            b.each(r(this, function(b, d) {
                $("img", d).attr({
                    width: this.R,
                    height: this.R
                });
                $(".slide", d).css({
                    width: this.R,
                    height: this.R
                });
                var e = 0.8 * this.R;
                $(".pauseWatermark", d).css({
                    width: e,
                    height: 0.3 * this.R,
                    right: this.R + Math.floor((this.R - e) / 2) + 2 * this.Sh
                });
                $(".muteWatermark", d).css({
                    width: e,
                    height: 0.3 * this.R,
                    right: this.R + Math.floor((this.R - e) / 2) + 2 * this.Sh
                });
                $(".replayWatermark", d).css({
                    width: e,
                    height: 0.3 * this.R,
                    right: this.R + Math.floor((this.R - e) / 2) + 2 * this.Sh
                });
                this.Wj($(d))
            }))
        },
        Tc: function() {
            var b = this.model.get("currentStation");
            return null != b ? $("#stationSlides" + b.e()) : null
        },
        ml: function() {
            if (this.Hh)
                de(this, this.ml, 100);
            else {
                this.tp();
                var b = this.model.get("currentTrack")
                  , c = this.model.get("currentStation");
                if (null != c && null != b) {
                    if (b instanceof Hn && !b.om())
                        return;
                    var d = c.e()
                      , e = this.nh[d] ? this.nh[d].o() : null ;
                    if (null == e || "0" == e || e != b.o()) {
                        var e = $("#stationSlides" + d)
                          , h = $(".slide", e).eq(1)
                          , l = $(".slide", e).eq(0);
                        if (!c.La() && h.data("track")instanceof zo && b instanceof zo) {
                            h.data("track", b);
                            $(".art", h).attr("src", b.ub());
                            return
                        }
                        null == this.cn[d] && (this.cn[d] = 0);
                        l.data("track", b);
                        l.data("slideIndex", this.cn[d]++);
                        c = $("#songSlideTmpl").tmpl(this.R);
                        e.prepend(c);
                        this.MO(h);
                        $(".pauseWatermark", h).fadeOut();
                        $(".muteWatermark", h).fadeOut();
                        this.paused = !1;
                        this.muted && this.ct();
                        var p = $(".art", l).attr("src", b.ub());
                        p && p.bind("imgpreload", function() {
                            $(this).fadeIn("fast").prev().hide()
                        });
                        $(".treatment.current", l).stop(!0, !0).fadeIn(400, function() {
                            $(this).show()
                        });
                        $(".treatment.previous", l).stop(!0, !0).fadeOut(400, function() {
                            $(this).hide()
                        });
                        0 < h.length && ($(".treatment.current", h).stop(!0, !0).fadeOut(400, function() {
                            $(this).hide()
                        }),
                        h.data("track")instanceof Hn || this.aq(h, 400));
                        0 == this.selectedIndex ? (c.animate({
                            width: this.R
                        }),
                        this.$f(b)) : (this.selectedIndex++,
                        c.css({
                            width: this.R
                        }));
                        this.nh[d] = b;
                        this.Wj(e);
                        this.ZA(l, b);
                        $(".featuredTrackArtBanner", h).fadeOut();
                        b.hh() && $(".featuredTrackArtBanner", l).show()
                    }
                    this.xf = b instanceof Jn
                }
                this.nk();
                0 == this.selectedIndex ? this.$f(b) : (b.eb() && this.Cr(),
                this.Dw(),
                this.Ir = setTimeout(r(this, function() {
                    this.Cr()
                }), 1E3 * this.gC))
            }
        },
        MO: function(b) {
            if (b.data("track")instanceof Hn) {
                var c = this.model.get("currentStation");
                c && !c.La() && (this.model.get("displayingCompanion") ? (this.$p(),
                this.mh = b) : (this.mh = b,
                this.$p()))
            }
        },
        $p: function() {
            var b = this.model.get("currentStation");
            if (this.mh && !b.La()) {
                var c = this.mh.data("track");
                if (null != c) {
                    c.uf = "";
                    c.Pb = "/img/ads/generictile.png";
                    var d = $(".art", this.mh);
                    this.aq(this.mh, 200, function() {
                        d.attr("src", c.ub())
                    })
                }
                this.mh = null
            }
        },
        $f: function(b) {
            var c = this.model.get("selectedTrack");
            null != c && null != b && c.o() == b.o() || this.model.set({
                selectedTrack: b
            })
        },
        Dw: function() {
            null != this.Ir && clearTimeout(this.Ir)
        },
        ww: function() {
            this.tp();
            var b = null
              , c = this.model.get("currentStation");
            null != c && (b = c.e());
            b != this.ka && (this.selectedIndex = 0,
            this.KF(b),
            null != this.ka ? (this.ZP(this.ka, r(this, function() {
                this.ka = null ;
                this.ww()
            })),
            this.NK(),
            R(Dv)) : (this.ka = b,
            this.YP(b),
            this.nk()))
        },
        jF: function() {
            $(".stationSlides", this.el).remove();
            this.ka = null ;
            this.nh = {};
            this.cn = {};
            this.R = Xm()
        },
        aj: function(b) {
            var c = b.track
              , d = this;
            $("#stationSlides" + b.stationId).find(".slide").each(function() {
                d.ZA(this, c)
            })
        },
        ZA: function(b, c) {
            var d = $(b).data("track");
            ly(d, this.model.get("stationList")) ? ($(".thumbUp", b).addClass("thumbUpDis").empty(),
            $(".thumbDown", b).addClass("thumbDownDis").empty()) : d && d.o() == c.o() && ($(".thumbUp", b).removeClass("indicator"),
            $(".thumbDown", b).removeClass("indicator"),
            1 == c.Lc ? $(".thumbUp", b).addClass("indicator") : -1 == c.Lc && $(".thumbDown", b).addClass("indicator"),
            $(b).data("track", c))
        },
        ZP: function(b, c) {
            if (null != b) {
                this.Hh = !0;
                var d = $("#stationSlides" + b);
                if (0 < d.length) {
                    var e = d.width()
                      , h = e - (this.Fx() + this.Kx(d));
                    d.animate({
                        width: h
                    }, r(this, function() {
                        d.hide();
                        d.width(e);
                        this.Wj(d);
                        this.Hh = !1;
                        c()
                    }));
                    return
                }
            }
            c()
        },
        YP: function(b) {
            if (null != b) {
                this.Hh = !0;
                $(".stationSlides", this.el).hide();
                var c = $("#stationSlides" + b);
                this.Wj(c);
                var d = this.Wl(c)
                  , e = this.R * (d + 3);
                c.css("left", e);
                c.show();
                c.animate({
                    left: -e
                }, r(this, function() {
                    de(this, function() {
                        var c = this.model.get("currentStation");
                        c && c.e() == b && 0 < d && null == this.model.get("selectedTrack") && (this.nh[b] ? this.$f(this.nh[b]) : this.$f(this.model.get("currentTrack")))
                    }, 500);
                    this.Us && this.Pv();
                    this.eg();
                    this.Hh = !1
                }))
            }
        },
        KF: function(b) {
            if (null != b) {
                var c = $("#stationSlides" + b);
                if (0 == c.length) {
                    var c = $("#stationSlidesTmpl").tmpl().appendTo($(".slides", this.el))
                      , d = $("#songSlideTmpl").tmpl(this.R);
                    d.width(this.R);
                    c.append(d);
                    this.Wj(c);
                    c.attr("id", "stationSlides" + b);
                    c.show()
                }
            }
        },
        Wj: function(b) {
            var c = "none" != b.css("display")
              , d = this.Wl(b);
            b.width(this.Fx() + this.R * (d + 4));
            c = this.R * (d + 3) * (c ? -1 : 1);
            d = this.Lx(b);
            b.css({
                left: c,
                "padding-left": d
            })
        },
        Fx: function() {
            return $("#mainContentContainer").width() - $(".stationContent").outerWidth()
        },
        kJ: function() {
            var b = this.model.get("keyPressed");
            if (null != b && "INPUT" != b.target.tagName && "TEXTAREA" != b.target.tagName && $("#mainContent .home").is(":visible")) {
                if (37 == b.which) {
                    this.im(1);
                    return
                }
                if (39 == b.which) {
                    this.im(-1);
                    return
                }
            }
            this.sq()
        },
        im: function(b) {
            this.Dr || (this.hd = b,
            this.Ar = 0,
            this.Ip())
        },
        moveTo: function(b) {
            this.Ar = this.hd = 0;
            this.dA(b)
        },
        Cr: function() {
            this.moveTo(0)
        },
        Ip: function() {
            if (!this.Dr)
                if (0 != this.hd)
                    this.dA(this.selectedIndex + this.hd);
                else {
                    var b = this.Tc()
                      , c = $(".slide", b).eq(this.selectedIndex + 1);
                    c && ($(".treatment.previous", c).stop(!0, !0).fadeOut(200, function() {
                        $(this).hide()
                    }),
                    null != this.Fr && clearTimeout(this.Fr),
                    this.Fr = setTimeout(r(this, function() {
                        this.Fr = null ;
                        this.$f(c.data("track"))
                    }), this.oC),
                    (b = c.data("track")) && s("template_impression", {
                        station_id: b.e(),
                        track_id: b.o()
                    }, this.model.get("currentUser")));
                    this.nk()
                }
        },
        sq: function() {
            0 != this.hd && (this.hd = 0,
            this.Ip())
        },
        dA: function(b) {
            var c = this.Tc();
            if (c)
                if (b = Math.max(b, 0),
                b = Math.min(b, this.Wl(c) - 1),
                b != this.selectedIndex) {
                    var d = $(".slide", c).eq(this.selectedIndex + 1);
                    if (d) {
                        var e = this.model.get("currentStation")
                          , h = d.data("track");
                        (e = e.La()) && (!e || h instanceof Hn) || this.aq(d, 200)
                    }
                    this.$f(null );
                    this.Dw();
                    this.selectedIndex = b;
                    b = 0 == this.Ar ? "easeInQuad" : "linear";
                    this.Dr = !0;
                    c.animate({
                        "padding-left": this.Lx(c)
                    }, this.fC, b, r(this, function() {
                        this.Dr = !1;
                        0 > this.hd ? this.hd-- : 0 < this.hd && this.hd++;
                        this.Ar++;
                        this.Ip()
                    }))
                } else
                    this.sq()
        },
        aq: function(b, c, d) {
            Ae() ? $(".treatment.previous", b).stop(!0, !0).animate({
                opacity: 0.75
            }, c, function() {
                $(this).show();
                d && d()
            }) : $(".treatment.previous", b).stop(!0, !0).fadeIn(c, function() {
                $(this).show();
                d && d()
            })
        },
        Wl: function(b) {
            return null != b ? $(".slide", b).length - 1 : 0
        },
        Lx: function(b) {
            return Math.max(0, this.Kx(b) * this.selectedIndex)
        },
        Kx: function(b) {
            return $(".slide", b).last().outerWidth(!0)
        },
        Hr: function() {
            if (this.yf) {
                var b = this.yf.data("track");
                b && z.b(Hi, {
                    stationCode: "mi" + b.o(),
                    source: "track_action"
                })
            }
            return !1
        },
        Gr: function() {
            if (this.yf) {
                var b = this.yf.data("track");
                b && z.b(Hi, {
                    stationCode: "mi" + b.Ye,
                    source: "track_action"
                })
            }
            return !1
        },
        Ht: function() {
            var b = this.yf.data("track");
            b && z.b(Zi, b);
            return !1
        },
        DQ: function(b) {
            var c = this.model.get("currentTrack");
            null != b && b.o() == c.o() && (this.nt = !0,
            z.b(hi, {
                isTiredOfSongSkip: !0
            }),
            b = "/song/sleep/" + b.o(),
            kz(b),
            lz(b))
        },
        xN: function() {
            this.nt && ((new X({
                message: uc()
            })).render(),
            this.nt = !1)
        },
        nz: function() {
            this.nt = !1
        },
        tR: function() {
            var b = this.yf.data("track");
            if (b) {
                var c = !0
                  , d = this.model.get("currentStation");
                d && (d.D() && !d.Z() || d.Ra()) && (c = !1);
                z.b($i, {
                    track: b,
                    allowActions: c
                })
            }
            return !1
        },
        Br: function() {
            var b = this.yf.data("track");
            new Bz({
                model: this.model,
                track: b
            });
            return !1
        },
        aQ: function(b) {
            this.model.get("currentTrack");
            var c = b[2];
            if (b = this.Tc()) {
                var d = this;
                $(".slide", b).each(function() {
                    var b = $(this).data("track");
                    if (b && b.o() == c.o())
                        return $(this).data("disableMenu", !0),
                        d.Zq($(this)),
                        !1
                })
            }
        },
        Cm: function(b) {
            0 == b ? (this.muted = !0,
            this.ct()) : (this.muted = !1,
            this.ej())
        },
        ej: function() {
            var b = this.Tc()
              , b = $(".slide", b).eq(1);
            $(".muteWatermark", b).fadeOut()
        },
        ct: function() {
            if (!this.paused) {
                var b = this.Tc()
                  , b = $(".slide", b).eq(1);
                $(".muteWatermark", b).css("visibility", "visible").fadeIn();
                this.eg()
            }
        },
        dy: function() {
            this.Cs && this.MA()
        },
        YJ: function() {
            this.Hh ? this.Us = !0 : this.Pv()
        },
        Pv: function() {
            this.Us = !1;
            z.b(bf)
        },
        MA: function() {
            this.Xq();
            this.fm()
        },
        Xq: function() {
            this.paused = !1;
            var b = this.Tc()
              , b = $(".slide", b).eq(1);
            $(".pauseWatermark", b).fadeOut();
            this.muted && this.ct()
        },
        FP: function() {
            this.paused = !0;
            if (!this.Cs) {
                this.ej();
                this.fm();
                var b = this.Tc()
                  , b = $(".slide", b).eq(1);
                $(".pauseWatermark", b).css("visibility", "visible").fadeIn();
                this.eg()
            }
        },
        HQ: function() {
            this.FP()
        },
        mM: function() {
            this.KP()
        },
        KP: function() {
            this.ej();
            this.Xq();
            this.Cs = !0;
            var b = this.Tc()
              , b = $(".slide", b).eq(1);
            $(".replayWatermark", b).css("visibility", "visible").fadeIn();
            this.eg()
        },
        fm: function() {
            this.Cs = !1;
            var b = this.Tc()
              , b = $(".slide", b).eq(1);
            $(".replayWatermark", b).fadeOut()
        },
        NK: function() {
            this.Xq();
            this.ej();
            this.fm()
        },
        pQ: function(b) {
            b && b.ah() && b.r() && b.ah().o() && z.b(aj, [b.ah().e(), b.r().e(), b.ah().o(), b.V().e()])
        },
        gy: function() {
            var b = $(".slide", this.el);
            1 == b.length ? this.Ys($(b[0]), !0) : 1 < b.length && this.Ys($(b[1]), !0)
        },
        nI: function() {
            this.model.get("currentContextualTip") || $(".submenu").removeClass("submenu_force_visible")
        },
        RJ: function() {
            this.hy();
            setTimeout(r(this, function() {
                $(".submenu").addClass("submenu_force_visible")
            }), 100)
        },
        hy: function() {
            this.gy();
            this.va.open()
        },
        nk: function() {
            if (this.xf)
                $(".slides_left_scroll", this.el).stop(!0, !0).fadeOut(200);
            else if (this.ew) {
                var b = $(".slides", this.el).height()
                  , c = $(".slides_right_scroll", this.el).height()
                  , b = Math.floor(b / 2) + c;
                $(".slides_right_scroll", this.el).css("margin-top", -1 * b);
                $(".slides_left_scroll", this.el).css("margin-top", -1 * b);
                0 < this.selectedIndex ? $(".slides_right_scroll", this.el).stop(!0, !0).fadeIn(200) : $(".slides_right_scroll", this.el).stop(!0, !0).fadeOut(200);
                this.selectedIndex < this.Wl(this.Tc()) - 1 ? $(".slides_left_scroll", this.el).stop(!0, !0).fadeIn(200) : $(".slides_left_scroll", this.el).stop(!0, !0).fadeOut(200)
            } else
                $(".slides_right_scroll", this.el).stop(!0, !0).delay(this.Ku).fadeOut(200),
                $(".slides_left_scroll", this.el).stop(!0, !0).delay(this.Ku).fadeOut(200)
        },
        events: {
            mouseover: "allSlidesMouseEnter",
            mouseout: "allSlidesMouseLeave",
            "mousedown .slides_right_scroll": "rightScrollDown",
            "mouseup .slides_right_scroll": "scrollMouseUp",
            "mousedown .slides_left_scroll": "leftScrollDown",
            "mouseup .slides_left_scroll": "scrollMouseUp",
            "mouseenter .slide": "slideMouseEnter",
            "mouseleave .slide": "slideMouseLeave",
            "click .slide": "slideClick",
            "click .thumbDown": "thumbDownClick",
            "click .thumbUp": "thumbUpClick",
            "click .pauseWatermark": "pauseWatermarkClick",
            "click .replayWatermark": "replayWatermarkClick",
            "click .muteWatermark": "muteWatermarkClick"
        },
        pauseWatermarkClick: function() {
            z.b(ei, {
                userInitiated: !0
            });
            return !1
        },
        replayWatermarkClick: function() {
            this.fm();
            var b = this.model.get("currentStation");
            b && (this.$f(null ),
            z.b(vg, b.e()));
            return !1
        },
        muteWatermarkClick: function() {
            this.ej();
            R(Dv);
            R(Iw);
            return !1
        },
        allSlidesMouseEnter: function() {
            this.ew = !0;
            this.nk()
        },
        allSlidesMouseLeave: function(b) {
            b.relatedTarget && 0 < $(b.relatedTarget).parents(".slidesForeground").length || (this.ew = !1,
            this.nk())
        },
        rightScrollDown: function() {
            if (this.xf)
                return !1;
            R(Lw);
            this.im(-1);
            return !1
        },
        leftScrollDown: function() {
            if (this.xf)
                return !1;
            R(Lw);
            this.im(1);
            return !1
        },
        scrollMouseUp: function() {
            this.sq();
            return !1
        },
        slideMouseEnter: function(b) {
            this.xf || $("#track_menu_dd").is(":visible") && this.va && !this.va.ti() || (b = $(b.target).closest(".slide"),
            0 == iy(this.model).length ? $("#track_menu_dd .moveSong").hide() : $("#track_menu_dd .moveSong").show(),
            this.Ys(b, !1),
            $(".previous", b).stop(!0, !0).animate({
                opacity: 0.5
            }, 200))
        },
        hF: function(b) {
            return !b || !(b instanceof Hn || b.Ic || b.vo) && b.$u && b.av && b.po ? !0 : !1
        },
        Ys: function(b, c) {
            var d = b.data("track");
            if (this.hF(d) && !b.data("disableMenu")) {
                if (null != this.Di && null != b) {
                    var d = this.Di.data("track")
                      , e = b.data("track");
                    d && e && d.o() == e.o() && this.va.unbind("close")
                }
                this.tp();
                this.rp();
                var h = b.find(".thumbContainer")
                  , d = r(this, function() {
                    h.fadeIn(200);
                    this.rp();
                    this.ep(h)
                });
                c ? d() : this.nn = setTimeout(d, this.AC)
            }
        },
        tp: function() {
            null != this.va && null != Cz && this.va.close()
        },
        ep: function(b) {
            null == this.va ? this.va = new Dz(this.model,b) : Ez(this.va, $(".menuArrow", b));
            this.yf = b.closest(".slide");
            var c = this.model.get("currentStation");
            c && (c.D() && !c.Z() || c.Ra()) ? ($("#track_menu_dd .moveSong").hide(),
            $("#track_menu_dd .tiredOfSong").hide()) : ($("#track_menu_dd .moveSong").show(),
            $("#track_menu_dd .tiredOfSong").show());
            var d = b.offset()
              , c = d ? d.top : 0
              , d = d ? d.left : 0;
            $("#track_menu_dd").css({
                top: c - $("#track_menu_dd").height(),
                left: d - $("#track_menu_dd").width() / 2 + b.width() / 2
            })
        },
        slideMouseLeave: function(b) {
            this.xf || (b = $(b.target).closest(".slide"),
            this.va && null != Cz ? (this.Di = b,
            this.va.bind("close", r(this, this.Zq))) : this.Zq(b),
            $(".previous", b).stop(!0, !0).animate({
                opacity: Ae() ? 0.75 : 1
            }, 200))
        },
        slideClick: function(b) {
            if (!this.xf) {
                var c = !1
                  , d = $(b.target).closest(".slide")
                  , e = $(b.target).closest(".stationSlides");
                b = d.data("track");
                d = d.data("slideIndex");
                b && 0 <= d && (d = $(".slide", e).length - d - 2,
                b instanceof Hn && (c = !0,
                b.uf && window.open(b.uf)),
                b && this.moveTo(d));
                c || R(Lw)
            }
        },
        Zq: function(b) {
            !b && this.Di && (b = this.Di,
            this.Di = null );
            b && (b.find(".thumbContainer").fadeOut(200),
            this.rp())
        },
        rp: function() {
            null != this.nn && (clearTimeout(this.nn),
            this.nn = null )
        },
        thumbDownClick: function(b) {
            $(b.target).blur();
            var c = $(b.target).closest(".slide").data("track");
            b = $(b.currentTarget).hasClass("indicator");
            ly(c, this.model.get("stationList")) || (b ? R(zv, {
                isPositive: !1,
                musicID: c.o()
            }) : R(yv, {
                isPositive: !1,
                musicId: c.o()
            }));
            return !1
        },
        thumbUpClick: function(b) {
            $(b.target).blur();
            var c = $(b.target).closest(".slide").data("track");
            b = $(b.currentTarget).hasClass("indicator");
            ly(c, this.model.get("stationList")) || (b ? R(zv, {
                isPositive: !0,
                musicID: c.o()
            }) : R(yv, {
                isPositive: !0,
                musicId: c.o()
            }));
            return !1
        }
    });
    function Fz() {}
    Fz = Backbone.View.extend({
        Aa: !0,
        Cf: null ,
        P: "registration",
        initialize: function() {
            this.qd = this.options.useLightbox;
            this.Xk = !1;
            this.model.bind("change:forceRegistration", r(this, this.kk));
            S(fw, r(this, this.Kd));
            S(gw, r(this, this.Ld))
        },
        kk: function() {
            this.model.get("forceRegistration") ? $(".cancel", this.el).hide() : $(".cancel", this.el).show()
        },
        Y3: function(b) {
            new Gz({
                event: "confirm_email",
                title: sa,
                subtitle: va,
                message: b,
                yesButtonText: wa,
                noButtonText: xa
            })
        },
        Kd: function(b) {
            "confirm_email" == b ? (ue(this.P, "confirm_email"),
            this.submitButtonClick()) : "duplicateEmail" == b ? (b = $("input[name=email]", this.el).val(),
            "" !== b && this.model.set({
                loginEmail: b
            }),
            V("/account/help", !1, !1)) : "whyBirthDayReadMore" != b && "whyZipCodeReadMore" != b && "whyGenderReadMore" != b || window.open("http://help.pandora.com/customer/portal/articles/1468760-information-about-privacy-on-pandora#2", "_blank")
        },
        Ld: function() {},
        render: function() {
            this.B = {};
            this.N = {};
            $(".onboarding__register").hide();
            for (var b = {
                months: [],
                days: []
            }, c = 0; 12 > c; c++)
                9 > c ? b.months.push("0" + (c + 1)) : b.months.push(c + 1);
            for (c = 0; 31 > c; c++)
                9 > c ? b.days.push("0" + (c + 1)) : b.days.push(c + 1);
            this.qd ? (b.isPopup = !0,
            b = by("registrationPanel", $("#registrationPopupHeaderTmpl").tmpl(), $("#registrationPopupContentTmpl").tmpl(b)),
            $(this.el).append(b)) : (b = $("#registrationWelcomeTmpl").tmpl(b),
            $(this.el).append(b).hide().fadeIn(r(this, function() {
                $("input, textarea").placeholder();
                $("input[name=email]", this.el).focus();
                R(pw)
            })));
            this.kk();
            null != A._data.accountUsername && $("input[name=email]", this.el).val(A._data.accountUsername);
            null != Po() && $("input[name=birthYear]", this.el).val(Po());
            null != A._data.accountZipcode && $("input[name=zipCode]", this.el).val(A._data.accountZipcode);
            null != A._data.accountGender && $("input[name=gender][value=" + A._data.accountGender + "]", this.el).prop("checked", !0);
            if (b = this.model.get("facebookLoginInfo"))
                b.first_name && ($(".facebookName", this.el).text(b.first_name),
                $(".welcomeName", this.el).css("display", "inline")),
                b.email && $("input[name=email]", this.el).val(b.email),
                b.birthday && (c = b.birthday.split("/"),
                3 == c.length && 4 == c[2].length && $("input[name=birthYear]", this.el).val(c[2])),
                b.gender && $("input[name=gender][value=" + b.gender.toUpperCase() + "]", this.el).prop("checked", !0);
            mo(this.model.get("currentUser")) ? $("input[name=zipCode]", this.el).attr("placeholder", "Postal Code") : $("input[name=zipCode]", this.el).attr("placeholder", "Zip Code");
            $(".registerButton", this.el).addClass("disabled");
            $(".onboarding__login").fadeIn();
            $(".onboarding__register").fadeOut();
            de(this, function() {
                this.toggleClearInput();
                this.toggleShowPassword()
            }, 50);
            ue(this.P, "standard");
            return this
        },
        hideAndRemove: function() {
            this.model.get("modalPanel") == tu ? ($("#welcomeSearch .searchBox").hide(),
            $(".onboarding__login").fadeIn(),
            $(".onboarding__register").fadeOut()) : ($("#welcomeSearch .searchBox").slideDown(),
            $(".onboarding__login").fadeOut());
            $(this.el).remove()
        },
        events: {
            "blur input[name=email]": "validateEmailOnBlur",
            "blur input[name=password]": "validatePasswordOnBlur",
            "input input[name=password]": "validatePasswordOnInitialLoad",
            "input input[name=email]": "validateEmailOnInitialLoad",
            "input input[name=zipCode]": "validateZipcodeOnInitialLoad",
            "input .js-birthyear": "validateBirthyearOnInitialLoad",
            "blur .js-birthyear": "validateBirthyearOnBlur",
            "blur input[name=zipCode]": "validateZipcodeOnBlur",
            "keyup .js-birthyear": "onBirthyearKeyup",
            "change .js-birthday": "monthDaySelected",
            "change .js-birthmonth": "monthDaySelected",
            "click .js-genderLabel": "onGenderClick",
            "change input[name=gender]": "genderChange",
            "closed .lightbox": "cancelClick",
            "click .cancel": "cancelClick",
            "change input[name=email]": "usernameChange",
            "click .registerButton": "submitButtonClick",
            "submit .registrationForm": "registrationFormSubmit",
            "click .alreadyuserSignin": "gotoSigninForm",
            "click .whyBirthdate": "whyBirthdayClicked",
            "click .whyZipcode": "whyZipcodeClicked",
            "click .whyGender": "whyGenderClicked",
            "click .js-terms": "onTermsClicked",
            "click .js-privacy": "onPrivacyClicked",
            "click .js-show-password": "togglePassword",
            "click .js-clear-field": "clearInput",
            "keyup input[name=email]": "toggleClearInput",
            "keyup input[name=password]": "toggleShowPassword"
        },
        validatePasswordOnInitialLoad: function() {
            this.validatePasswordOnBlur(!0);
            this.toggleShowPassword()
        },
        validateEmailOnInitialLoad: function() {
            this.validateEmailOnBlur(!0)
        },
        validateZipcodeOnInitialLoad: function() {
            this.validateZipcodeOnBlur(!0)
        },
        validateBirthyearOnInitialLoad: function() {
            this.validateBirthyearOnBlur(!0)
        },
        validateEmailOnBlur: function(b) {
            setTimeout(function(b) {
                var d = $("input[name=email]", this.el);
                d.name = "email";
                d.L = da();
                d.qa = "error_presubmit_invalid_email";
                this.W(d) ? this.toggleClearInput() : (sx(d.val()) ? this.la(d) : !0 !== b && this.Aa && this.fa(d),
                this.Ua(),
                this.Aa = !0)
            }
            .bind(this, b), 200)
        },
        validatePasswordOnBlur: function(b) {
            setTimeout(function(b) {
                var d = $("input[name=password]", this.el);
                d.name = "password";
                d.L = fa();
                d.qa = "error_presubmit_pwd_length";
                this.W(d) || (tx(d.val()) ? this.la(d) : !0 !== b && this.fa(d),
                this.Ua())
            }
            .bind(this, b), 200)
        },
        validateBirthyearOnBlur: function(b) {
            var c = $("#register_birthYear", this.el)
              , d = $(".js-datePicker", this.el);
            c.name = "birthyear";
            d.name = "birthyear";
            d.L = ja();
            this.W(c) || (ux(c.val()) ? this.la(c) : !0 !== b && this.fa(d),
            this.Ua())
        },
        validateZipcodeOnBlur: function(b) {
            var c = $("input[name=zipCode]", this.el);
            c.name = "zipcode";
            c.L = na();
            this.W(c) || (wx(ip(), c.val()) ? this.la(c) : (mo(this.model.get("currentUser")) ? (c.L = oa(),
            c.qa = "AU" === gp() ? "error_presubmit_invalid_au_zip" : "error_presubmit_invalid_nz_zip") : (c.L = na(),
            c.qa = "error_presubmit_invalid_us_zip"),
            !0 !== b && this.fa(c)),
            this.Ua())
        },
        onGenderClick: function(b) {
            this.Cf = "femaleRadio" == b.currentTarget.getAttribute("for") ? "female" : "male";
            this.Ua()
        },
        genderChange: function(b) {
            this.Cf = b.target.value;
            this.Ua()
        },
        monthDaySelected: function() {
            var b = $("select[name='birthMonth'] option:selected", this.el).val();
            "" !== $("select[name='birthDay'] option:selected", this.el).val() && "" !== b && (b = $(".js-datePicker", this.el),
            b.name = "datepicker",
            this.la(b),
            this.Ua())
        },
        fa: function(b) {
            k.warn("=====invalid el======" + b.id);
            k.warn(b);
            this.B[b.name] || (this.B[b.name] = new Jx({
                el: b,
                Of: b.L,
                id: b.id,
                P: b.P ? b.P : this.P,
                qa: b.qa
            }),
            this.N[b.name] && delete this.N[b.name])
        },
        W: function(b) {
            return "" === b.val() ? (this.N[b.name] && delete this.N[b.name],
            !0) : !1
        },
        la: function(b) {
            k.error("=====valid el======" + b.name);
            this.N[b.name] = b.val();
            this.B[b.name] && (this.B[b.name].close(),
            delete this.B[b.name])
        },
        me: function() {
            if (1 > Object.keys(this.B).length && this.N.email && this.N.password && this.N.zipcode && this.N.birthyear && null !== this.Cf)
                if (this.Xk) {
                    if ("datepicker"in this.N)
                        return !0
                } else
                    return !0;
            else
                return !1
        },
        Ua: function() {
            this.me() ? $(".registerButton", this.el).removeClass("disabled") : $(".registerButton", this.el).addClass("disabled")
        },
        onTermsClicked: function() {
            window.open("https://www.pandora.com/legal", "_blank")
        },
        onPrivacyClicked: function() {
            window.open("https://www.pandora.com/privacy", "_blank")
        },
        onBirthyearKeyup: function(b) {
            b = b.target.value;
            var c = $(".js-datePicker", this.el);
            4 == b.length && ux(b) && rd(b) && (new Date).getFullYear() - Number(b) == ("AU" === gp() ? 15 : 13) && (this.Xk = !0,
            c.name = "datepicker",
            c.id = "register_birthMonth",
            c.L = la(),
            c.qa = "error_age_disambiguation",
            de(this, function() {
                this.fa(c)
            }, 150),
            c.addClass("onboarding__form__edgeCaseYear"),
            mo(this.model.get("currentUser")) && $(".js-datePicker", this.el).addClass("onboarding__form__switchDateFormat"),
            $(".js-birthmonth", this.el).attr("tabindex", 0).attr("aria-hidden", !1),
            $(".js-birthday", this.el).attr("tabindex", 0).attr("aria-hidden", !1))
        },
        gotoSigninForm: function() {
            R(Av);
            return !1
        },
        cancelClick: function() {
            this.trigger("cancel");
            return !1
        },
        usernameChange: function() {
            this.toggleClearInput();
            return !1
        },
        registrationFormSubmit: function() {
            return !1
        },
        whyBirthdayClicked: function() {
            new Gz({
                event: "whyBirthDayReadMore",
                title: "Why does Pandora need my birth year?",
                message: mo(this.model.get("currentUser")) ? "We use your age to personalise your experience on Pandora. We always keep your information anonymous." : "We use your age to personalize your experience on Pandora. We always keep your information anonymous.",
                yesButtonText: "Read More",
                noButtonText: "Close",
                reverseButtons: !0
            });
            ue(this.P, "why_birth_year")
        },
        whyZipcodeClicked: function() {
            new Gz({
                event: "whyZipCodeReadMore",
                title: mo(this.model.get("currentUser")) ? "Why does Pandora need my postal code?" : "Why does Pandora need my ZIP code?",
                message: mo(this.model.get("currentUser")) ? "We use your location to personalise your experience on Pandora. We always keep your information anonymous." : "We use your location to personalize your experience on Pandora. We always keep your information anonymous.",
                yesButtonText: "Read More",
                noButtonText: "Close",
                reverseButtons: !0
            });
            ue(this.P, "why_zip")
        },
        whyGenderClicked: function() {
            new Gz({
                event: "whyGenderReadMore",
                title: "Why does Pandora need my gender?",
                message: mo(this.model.get("currentUser")) ? "We use your gender to personalise your experience on Pandora. We always keep your information anonymous." : "We use your gender to personalize your experience on Pandora. We always keep your information anonymous.",
                yesButtonText: "Read More",
                noButtonText: "Close",
                reverseButtons: !0
            });
            ue(this.P, "why_gender")
        },
        clearInput: function(b) {
            b = $(b.currentTarget);
            var c = b.prev();
            c.hasClass("errorDialog") ? (c.prev().val(""),
            c.prev().trigger("change")) : (c.val(""),
            b.prev().trigger("change"));
            this.Aa = !1;
            b = $("input[name=email]", this.el);
            b.name = "email";
            this.la(b);
            this.Ua()
        },
        togglePassword: function(b) {
            b = $(b.currentTarget);
            var c = $("input[name=password]");
            c.hasClass("password-visible") ? (c.removeClass("password-visible").addClass("password-hidden"),
            c.attr("type", "password"),
            b.text("show"),
            ue(this.P, "pwd_hidden")) : (c.addClass("password-visible").removeClass("password-hidden"),
            c.attr("type", "text"),
            b.text("hide"),
            ue(this.P, "pwd_shown"));
            b = $("input[name=password]", this.el);
            b.name = "password";
            this.la(b);
            this.Ua();
            return this.Aa = !1
        },
        toggleClearInput: function() {
            var b = $("input[name=email]", this.el);
            this.W(b) ? $(".onboarding__form__input__link--clear").fadeOut(125) : $(".onboarding__form__input__link--clear").fadeIn(125);
            b.hasClass("error") && b.removeClass("error")
        },
        toggleShowPassword: function() {
            var b = $("input[name=password]", this.el);
            this.W(b) ? $(".onboarding__form__input__link--show.js-show-password").fadeOut(125) : $(".onboarding__form__input__link--show.js-show-password").fadeIn(125)
        },
        doSubmit: function() {
            if (!this.me())
                return !1;
            var b = $("input[name=email]", this.el).val()
              , c = $("input[name=password]", this.el).val()
              , d = $("input[name=zipCode]", this.el).val()
              , e = $("input[name=gender]:checked").val()
              , h = $("input[name=remember]", this.el).is(":checked")
              , l = $("#register_birthYear", this.el).val()
              , p = $("select[name='birthMonth'] option:selected", this.el).val()
              , q = $("select[name='birthDay'] option:selected", this.el).val();
            if (this.Xk) {
                var t;
                rd(l) && rd(p) && rd(q) ? (t = new Date(Number(l),Number(p) - 1,Number(q)),
                t = !isNaN(t.getTime()) && t.getDate() == q) : t = !1;
                if (t) {
                    if (rd(l) && rd(p) && rd(q)) {
                        var y = new Date;
                        t = y.getFullYear() - Number(l);
                        var E = y.getMonth();
                        E < Number(p) - 1 && t--;
                        y = y.getDate();
                        Number(p) - 1 == E && y < Number(q) && t--;
                        t = t >= ("AU" === gp() ? 15 : 13)
                    } else
                        t = !1;
                    if (!t)
                        return ue("failed_registration", "tooyoung"),
                        this.trigger("tooyoung"),
                        !1
                } else {
                    t = $(".js-datePicker", this.el);
                    t.name = "datepicker";
                    t.L = ka();
                    if (this.W(t))
                        return;
                    this.fa(t);
                    this.Ua()
                }
            } else if (!vx(l))
                return ue("failed_registration", "tooyoung"),
                this.trigger("tooyoung"),
                !1;
            0 == Object.keys(this.B).length && (b = {
                username: b,
                password: c,
                birthYear: Number(l),
                zipCode: d,
                emailOptIn: !0,
                gender: e,
                keepLoggedIn: h
            },
            this.Xk && (b.birthMonth = Number(p),
            b.birthDay = Number(q)),
            this.model.get("returnTarget") && (b.returnTarget = this.model.get("returnTarget")),
            this.trigger("submit", b));
            return !1
        },
        submitButtonClick: function() {
            setTimeout(r(this, this.doSubmit), 200);
            return !1
        },
        serverError: function(b) {
            var c, d = ca(), e = !1;
            xe(this.P, "failed_registration", "registration_failed", b.code);
            b.code == m.d.uu() ? (c = $("input[name=email]", this.el),
            c.name = "email",
            c.id = "register_email",
            c.L = ea(),
            c.qa = "standard",
            c.P = "failed_registration",
            new Gz({
                event: "duplicateEmail",
                title: "Email has already been registered.",
                message: "Did you forget your password?",
                yesButtonText: "Yes",
                noButtonText: "No"
            })) : b.code == m.d.vu() ? (c = $("input[name=email]", this.el),
            c.name = "email",
            c.id = "register_email",
            c.L = da()) : b.code == m.d.Xn() ? (c = $("input[name=password]", this.el),
            c.name = "password",
            c.id = "register_password",
            c.L = ha()) : b.code == m.d.Kn() ? (c = $(".js-datePicker", this.el),
            c.name = "datepicker",
            c.L = ma()) : b.code == m.d.Yn() ? (c = $("input[name=password]", this.el),
            c.name = "password",
            c.id = "register_password",
            c.L = fa()) : b.code == m.d.On() ? (c = $(".js-gender", this.el),
            c.name = "gender",
            c.L = ra()) : b.code == m.d.Jn() ? (c = $(".js-datePicker", this.el),
            c.name = "birthyear",
            c.id = "register_birthYear",
            c.L = ja()) : b.code == m.d.io() ? (c = $("input[name=zipCode]", this.el),
            c.name = "zipcode",
            c.id = "register_zipCode",
            mo(this.model.get("currentUser")) ? c.L = oa() : c.L = na()) : b.code != m.d.Pn() && b.code != m.d.Qn() && b.code != m.d.nu() && (e = !0);
            e ? new Gz({
                event: "register_generic_error",
                title: d,
                subtitle: "",
                message: "",
                noButtonText: "Close",
                onlyShowNoButton: !0
            }) : (this.fa(c),
            this.Ua())
        }
    });
    function Hz() {}
    Hz = Backbone.View.extend({
        render: function() {
            $(this.el).append($("#tooYoungTmpl").tmpl()).hide().fadeIn();
            return this
        },
        hideAndRemove: function() {
            $(this.el).fadeOut(1, r(this, function() {
                $(this.el).remove()
            }))
        }
    });
    function Iz() {}
    Iz = Backbone.View.extend({
        Aa: !0,
        P: "login",
        dp: [],
        initialize: function() {
            this.qd = this.options.useLightbox;
            this.bh = this.options.giftRedemptionMode;
            this.model.bind("change:forceRegistration", r(this, this.kk));
            this.model.bind("change:poisoned", r(this, this.UA));
            S(fw, r(this, this.Kd));
            S(gw, r(this, this.Ld))
        },
        kk: function() {
            this.model.get("forceRegistration") ? $(".cancel", this.el).parent().hide() : $(".cancel", this.el).parent().show()
        },
        UA: function() {
            this.model.get("poisoned") || this.model.get("readonly") ? ($(".onboarding__register", $(this.el).parents(".bottom")).parent().hide(),
            $(".onboarding__.register", this.el).parent().hide()) : ($(".onboarding__.register", $(this.el).parents(".bottom")).parent().show(),
            $(".onboarding__.register", this.el).parent().show())
        },
        mF: function() {
            var b = $("input[name=email]", this.el)
              , c = $.cookie("lua")
              , d = this.model.get("loginEmail");
            d ? b.val(d) : c && b.val(c)
        },
        render: function() {
            this.B = {};
            this.N = {};
            this.bq = {};
            var b = !0 !== om(Dl) && !this.qd && !this.model.get("readonly")
              , b = $("#loginFormTmpl").tmpl({
                showCancel: b
            });
            if (this.qd) {
                var c = by("loginPanel", $("#loginPopupHeaderTmpl").tmpl(), $("#loginPopupContentTmpl").tmpl());
                $(".lightbox_content", c).addClass("welcome");
                $(".signinContainer", c).append(b);
                $(this.el).append(c)
            } else
                $(this.el).append(b);
            $("input, textarea").placeholder();
            de(this, function() {
                this.kk();
                this.UA();
                this.mF();
                this.toggleClearInput();
                this.toggleShowPassword();
                $("input, textarea").placeholder()
            }, 1);
            ue(this.P, "standard");
            return this
        },
        hideAndRemove: function() {
            this.qd ? $(this.el).remove() : (this.model.get("modalPanel") == vu ? ($("#welcomeSearch .searchBox").hide(),
            $(".onboarding__login").fadeOut(),
            $(".onboarding__register").fadeIn()) : $("#welcomeSearch .searchBox").slideDown(),
            $(this.el).slideUp(400, r(this, function() {
                $(this.el).remove()
            })))
        },
        events: {
            "click label": "checkboxLabelClick",
            "closed .lightbox": "cancelClick",
            "click .cancel": "cancelClick",
            "click .loginButton": "submitButtonClick",
            "click .register": "registerClick",
            "click .help": "helpClick",
            "submit .loginForm": "loginFormSubmit",
            "click .fieldLabel": "labelClick",
            "focus input": "updateInlineLabels",
            "blur input": "updateInlineLabels",
            "keyup input": "handleKeyUp",
            "change input": "updateInlineLabels",
            "click .js-show-password": "togglePassword",
            "click .js-clear-field": "clearInput",
            "focus input[name=email]": "resetEmailError",
            "click input[name=password]": "resetPasswordError",
            "blur input[name=password]": "resetPasswordError",
            "blur input[name=email]": "validateEmailOnBlur",
            "change input[name=email]": "toggleClearInput",
            "change input[name=password]": "toggleShowPassword",
            "keyup input[name=email]": "toggleClearInput",
            "keyup input[name=password]": "toggleShowPassword"
        },
        NL: function(b) {
            this.dp.push(b)
        },
        EP: function(b) {
            -1 == this.dp.indexOf(b) && (new Gz({
                event: "password_assistance",
                title: "Incorrect Login",
                message: "It looks like you're having a hard time logging in. Would you like help accessing your account?",
                yesButtonText: "Yes",
                noButtonText: "Not Now",
                reverseButtons: !0
            }),
            this.NL(b))
        },
        JL: function(b) {
            -1 == this.dp.indexOf(b) && (this.bq[b] && 1 === this.bq[b] ? this.EP(b) : this.bq[b] = 1)
        },
        Kd: function(b) {
            "password_assistance" == b && (b = $("input[name=email]", this.el).val(),
            "" !== b && this.model.set({
                loginEmail: b
            }),
            V("/account/help", !1, !1))
        },
        Ld: function() {},
        checkboxLabelClick: function(b) {
            $(b.target).prev("input[type=checkbox]").prop("checked", function(b, d) {
                return !d
            });
            return !1
        },
        cancelClick: function() {
            this.trigger("cancel");
            return !1
        },
        loginFormSubmit: function() {
            return !1
        },
        labelClick: function(b) {
            $(b.target).siblings("input").focus()
        },
        handleKeyUp: function(b) {
            if (13 == b.keyCode && Ae())
                return this.submitButtonClick(),
                !1;
            this.updateInlineLabels(b)
        },
        updateInlineLabels: function(b) {
            0 < b.target.value.length ? $(b.target).parent().addClass("hasValue") : $(b.target).parent().removeClass("hasValue")
        },
        registerClick: function() {
            this.bh ? (R(Iv),
            this.trigger("cancel")) : R(Bv);
            return !1
        },
        helpClick: function() {
            if (this.qd) {
                var b = null ;
                this.bh && (b = {
                    allowWhenLoggedIn: !0,
                    emailRedirect: "/gift"
                });
                R(Cv, b);
                return !1
            }
            b = $("input[name=email]", this.el).val();
            "" !== b && this.model.set({
                loginEmail: b
            });
            return !0
        },
        togglePassword: function(b) {
            b = $(b.currentTarget);
            var c = $("input[name=password]");
            c.hasClass("password-visible") ? (c.removeClass("password-visible").addClass("password-hidden"),
            c.attr("type", "password"),
            b.text("show"),
            ue(this.P, "pwd_hidden")) : (c.addClass("password-visible").removeClass("password-hidden"),
            c.attr("type", "text"),
            b.text("hide"),
            ue(this.P, "pwd_shown"));
            return this.Aa = !1
        },
        clearInput: function(b) {
            k.debug(b);
            b = $(b.currentTarget);
            var c = b.prev();
            c.hasClass("errorDialog") ? (c.prev().val(""),
            c.prev().trigger("change")) : (c.val(""),
            b.prev().trigger("change"));
            this.Aa = !1;
            b = $("input[name=email]", this.el);
            b.name = "email";
            this.la(b);
            this.Ua();
            return !1
        },
        toggleClearInput: function() {
            var b = $("input[name=email]", this.el);
            this.W(b) ? $(".onboarding__form__input__link--clear").fadeOut(125) : $(".onboarding__form__input__link--clear").fadeIn(125);
            b.hasClass("error") && b.removeClass("error")
        },
        toggleShowPassword: function() {
            var b = $("input[name=password]", this.el);
            this.W(b) ? $(".onboarding__form__input__link--show").fadeOut(125) : $(".onboarding__form__input__link--show").fadeIn(125)
        },
        resetEmailError: function() {
            $("input[name=email]").removeClass("error");
            this.B.email && (this.B.email.close(),
            delete this.B.email)
        },
        resetPasswordError: function() {
            $("input[name=password]").removeClass("error");
            this.B.password && (this.B.password.close(),
            delete this.B.password)
        },
        validateEmailOnBlur: function() {
            this.validateEmail(!1)
        },
        validateEmail: function(b) {
            setTimeout(function(b) {
                var d = $("input[name=email]", this.el);
                d.name = "email";
                d.id = "login_username";
                if (this.Aa) {
                    if (this.W(d) && !b)
                        return $("input[name=email]").removeClass("error"),
                        delete this.B.email,
                        !1;
                    sx(d.val()) ? this.la(d) : (d.L = za(),
                    this.Aa && this.fa(d))
                }
            }
            .bind(this, b), 200);
            this.Aa = !0
        },
        fa: function(b) {
            this.B[b.name] || (k.warn(b),
            this.B[b.name] = new Jx({
                el: b,
                Of: b.L,
                id: b.id,
                P: b.P ? b.P : this.P,
                qa: b.qa
            }),
            this.N[b.name] && delete this.N[b.name])
        },
        W: function(b) {
            return "" === b.val() ? !0 : !1
        },
        la: function(b) {
            this.N[b.name] = b.val();
            this.B[b.name] && (this.B[b.name].close(),
            delete this.B[b.name])
        },
        validSubmission: function() {
            if (1 > Object.keys(this.B).length && this.N.email && this.N.password)
                return !0;
            if (this.B.email)
                return !1
        },
        validateForm: function(b, c) {
            b.name = "email";
            c.name = "password";
            b.id = "login_username";
            c.id = "login_password";
            this.resetEmailError();
            this.resetPasswordError();
            if (this.W(b) && this.W(c))
                return b.addClass("error"),
                c.L = Ba(),
                c.qa = "error_presubmit_email_and_pwd_empty",
                this.fa(c),
                !1;
            if (this.W(c) && !this.W(b))
                return c.L = Aa(),
                c.qa = "error_presubmit_pwd_length",
                this.fa(c),
                !1;
            if (this.W(b) && !this.W(c))
                return b.L = ya(),
                b.qa = "error_presubmit_invalid_email",
                this.fa(b),
                !1;
            if (!this.W(b) && !this.W(c) && !sx(b.val()))
                return b.L = za(),
                b.qa = "error_presubmit_invalid_email",
                this.fa(b),
                !1;
            this.la(b);
            this.la(c)
        },
        submitButtonClick: function() {
            var b = $("input[name=email]", this.el)
              , c = $("input[name=password]", this.el)
              , d = $("input[name=remember]", this.el).is(":checked");
            this.validateForm(b, c);
            this.validSubmission() && this.trigger("submit", {
                username: b.val(),
                password: c.val(),
                keepLoggedIn: d
            })
        },
        serverError: function() {
            var b = $("input[name=email]", this.el)
              , c = $("input[name=password]", this.el);
            c.name = "password";
            c.L = "Incorrect Email or Password";
            c.qa = "error_invalid_credentials";
            c.P = "login_failed";
            b.addClass("error");
            this.fa(c);
            this.JL(b.val())
        },
        suspendedAccountError: function() {
            $(".suspendedAccountError", this.el).fadeIn()
        }
    });
    function Jz() {}
    Jz = Backbone.View.extend({
        Aa: !0,
        P: "forgot_pw",
        initialize: function() {
            this.qd = this.options.useLightbox
        },
        render: function() {
            this.B = {};
            this.N = {};
            if (this.qd) {
                var b = by("forgotPasswordPanel", $("#forgotPasswordPopupHeaderTmpl").tmpl(), $("#forgotPasswordPopupContentTmpl").tmpl());
                $(this.el).append(b)
            } else
                b = $("#forgotPasswordWelcomeTmpl").tmpl(),
                $(this.el).append(b).hide().fadeIn(r(this, function() {
                    $("input, textarea").placeholder();
                    this.model.get("loginEmail") && $("input[name=email]", this.el).val(this.model.get("loginEmail"));
                    $("input[name=email]", this.el).focus();
                    de(this, function() {
                        this.toggleClearInput()
                    }, 1)
                }));
            ue(this.P, "standard");
            de(this, function() {
                this.toggleClearInput()
            }, 1);
            return this
        },
        me: function() {
            return 1 > Object.keys(this.B).length && this.N.email ? !0 : !1
        },
        Ua: function() {},
        hideAndRemove: function() {
            this.qd ? $(this.el).remove() : $(this.el).fadeOut(1, r(this, function() {
                $(this.el).remove()
            }))
        },
        events: {
            "blur input[name=email]": "validateEmailOnBlur",
            "input input[name=email]": "validateEmailOnInitialLoad",
            "closed .lightbox": "cancelClick",
            "click .cancel": "cancelClick",
            "click .emailMeButton": "submitButtonClick",
            "submit .forgotForm": "forgotPasswordFormSubmit",
            "click .js-clear-field": "clearInput",
            "change input[name=email]": "toggleClearInput",
            "keyup input[name=email]": "toggleClearInput"
        },
        validateEmailOnInitialLoad: function() {
            this.validateEmailOnBlur(!0)
        },
        validateEmailOnBlur: function(b) {
            setTimeout(function(b) {
                var d = $("input[name=email]", this.el);
                d.name = "email";
                d.L = da();
                d.qa = "error_presubmit_invalid_email";
                this.W(d) || (sx(d.val()) ? this.la(d) : !0 !== b && this.Aa && this.fa(d),
                this.Ua(),
                this.Aa = !0)
            }
            .bind(this, b), 200)
        },
        fa: function(b) {
            this.B[b.name] || (this.B[b.name] = new Jx({
                el: b,
                Of: b.L,
                P: b.P ? b.P : this.P,
                qa: b.qa
            }),
            this.N[b.name] && delete this.N[b.name])
        },
        W: function(b) {
            return "" === b.val() ? (this.N[b.name] && delete this.N[b.name],
            !0) : !1
        },
        la: function(b) {
            this.N[b.name] = b.val();
            this.B[b.name] && (this.B[b.name].close(),
            delete this.B[b.name])
        },
        clearInput: function(b) {
            b = $(b.currentTarget).prev();
            b.hasClass("errorDialog") ? b.prev().val("") : b.val("");
            this.Aa = !1;
            b = $("input[name=email]", this.el);
            b.name = "email";
            this.toggleClearInput();
            this.la(b);
            this.Ua()
        },
        toggleClearInput: function() {
            var b = $("input[name=email]", this.el);
            this.W(b) ? $(".onboarding__form__input__link--clear").fadeOut(125) : $(".onboarding__form__input__link--clear").fadeIn(125)
        },
        cancelClick: function() {
            this.trigger("cancel");
            return !1
        },
        forgotPasswordFormSubmit: function() {
            return !1
        },
        doSubmit: function() {
            if (!this.me())
                return !1;
            var b = $("input[name=email]", this.el).val();
            this.trigger("submit", b);
            return !1
        },
        submitButtonClick: function() {
            setTimeout(r(this, this.doSubmit), 200);
            return !1
        },
        serverError: function(b) {
            new Gz({
                event: "forgot_password_generic_error",
                title: Rb([b.message]),
                subtitle: " ",
                message: " ",
                noButtonText: "Close",
                onlyShowNoButton: !0
            })
        }
    });
    function Kz() {}
    Kz = Backbone.View.extend({
        Aa: !0,
        P: "pwd_reset",
        initialize: function() {},
        render: function() {
            this.B = {};
            this.N = {};
            var b = $("#resetPasswordWelcomeTmpl").tmpl({
                username: this.model.get("usernameFromResetToken")
            });
            $(this.el).append(b).hide().fadeIn(r(this, function() {
                $("input, textarea").placeholder();
                $("input[name=new_password]", this.el).focus();
                this.toggleClearInput()
            }));
            $("input[name=new_password]", this.el).val("");
            $("input[name=reenter_password]", this.el).val("");
            ue(this.P, "standard");
            return this
        },
        hideAndRemove: function() {
            $(this.el).fadeOut(r(this, function() {
                $(this.el).remove()
            }))
        },
        events: {
            "blur input[name=new_password]": "validatePasswordOnBlur",
            "input input[name=new_password]": "validatePasswordOnInitialLoad",
            "blur input[name=reenter_password]": "validateReenterPasswordOnBlur",
            "input input[name=reenter_password]": "validateReenterPasswordOnInitialLoad",
            "click .change_password": "submitButtonClick",
            "submit .resetForm": "resetPasswordFormSubmit",
            "click .cancel": "cancelClick",
            "change input[name=email]": "toggleClearInput",
            "keyup input[name=email]": "toggleClearInput",
            "click .js-clear-field": "clearInput",
            "click .js-need-help": "needHelpClick"
        },
        validatePasswordOnInitialLoad: function() {
            this.validatePasswordOnBlur(!0)
        },
        validateReenterPasswordOnInitialLoad: function() {
            this.validateReenterPasswordOnBlur(!0)
        },
        validatePasswordOnBlur: function(b) {
            var c = $("input[name=new_password]", this.el);
            c.name = "new_password";
            c.L = fa();
            c.qa = "error_presubmit_pwd_length";
            this.W(c) || (tx(c.val()) ? this.la(c) : !0 !== b && this.fa(c),
            this.Ua())
        },
        validateReenterPasswordOnBlur: function(b) {
            var c = $("input[name=new_password]", this.el).val()
              , d = $("input[name=reenter_password]", this.el);
            d.name = "reenter_password";
            d.L = fa();
            d.qa = "error_presubmit_pwd_length";
            this.W(d) || (tx(d.val()) ? c != d.val() ? (d.L = Ea(),
            d.qa = "error_presubmit_pwds_do_not_match",
            !0 !== b && this.fa(d)) : this.la(d) : !0 !== b && this.fa(d),
            this.Ua())
        },
        clearInput: function(b) {
            b = $(b.currentTarget);
            b.prev().val("");
            b.prev().trigger("change");
            return this.Aa = !1
        },
        toggleClearInput: function() {
            var b = $("input[name=email]", this.el);
            this.W(b) ? $(".onboarding__form__input__link--clear").fadeOut(125) : $(".onboarding__form__input__link--clear").fadeIn(125);
            b.hasClass("error") && b.removeClass("error")
        },
        fa: function(b) {
            this.B[b.name] || (this.B[b.name] = new Jx({
                el: b,
                Of: b.L,
                P: b.P ? b.P : this.P,
                qa: b.qa
            }),
            this.N[b.name] && delete this.N[b.name])
        },
        W: function(b) {
            return "" === b.val() ? (this.N[b.name] && delete this.N[b.name],
            !0) : !1
        },
        la: function(b) {
            this.N[b.name] = b.val();
            this.B[b.name] && (this.B[b.name].close(),
            delete this.B[b.name])
        },
        me: function() {
            return 1 > Object.keys(this.B).length && this.N.new_password && this.N.reenter_password ? !0 : !1
        },
        Ua: function() {},
        cancelClick: function() {
            this.trigger("cancel");
            return !1
        },
        needHelpClick: function() {
            this.trigger("requestHelp");
            return !0
        },
        resetPasswordFormSubmit: function() {
            return !1
        },
        doSubmit: function() {
            if (!this.me())
                return !1;
            var b = $("input[name=new_password]", this.el).val();
            this.trigger("submit", b);
            return !1
        },
        submitButtonClick: function() {
            this.validateReenterPasswordOnBlur();
            this.validatePasswordOnBlur();
            this.doSubmit();
            return !1
        },
        serverError: function(b) {
            new Gz({
                event: "reset_password_generic_error",
                title: Rb([b]),
                subtitle: " ",
                message: " ",
                noButtonText: "Close",
                onlyShowNoButton: !0
            })
        }
    });
    function Lz() {}
    Lz = Backbone.View.extend({
        initialize: function() {},
        render: function() {
            $("#playerBar").hide();
            var b = $("#resetPasswordBadTokenTmpl").tmpl();
            $(this.el).append(b).hide().fadeIn();
            return this
        },
        hideAndRemove: function() {
            $(this.el).fadeOut(r(this, function() {
                $(this.el).remove()
            }))
        },
        events: {
            "click .cancel": "cancelClick",
            "click .help": "helpClick"
        },
        cancelClick: function() {
            this.trigger("cancel");
            return !1
        },
        helpClick: function() {
            if (this.qd) {
                var b = null ;
                this.bh && (b = {
                    allowWhenLoggedIn: !0,
                    emailRedirect: "/gift"
                });
                R(Cv, b);
                return !1
            }
            return !0
        }
    });
    function Mz() {}
    Mz = Backbone.View.extend({
        Aa: !1,
        P: "",
        initialize: function() {},
        render: function() {
            this.B = {};
            this.N = {};
            var b = $("#RequestHelpTmpl").tmpl();
            $(this.el).append(b).hide().fadeIn();
            de(this, function() {
                this.validateEmailOnInitialLoad(!1);
                this.toggleClearInput();
                $("input, textarea").placeholder();
                mo(this.model.get("currentUser")) ? $("input[name=zipCode]", this.el).attr("placeholder", "Postal Code") : $("input[name=zipCode]", this.el).attr("placeholder", "Zip Code")
            }, 1);
            return this
        },
        hideAndRemove: function() {
            $(this.el).fadeOut(r(this, function() {
                $(this.el).remove()
            }))
        },
        events: {
            "blur input[name=email]": "validateEmailOnBlur",
            "blur input[name=year]": "validateBirthYear",
            "blur input[name=zipCode]": "validateZipCode",
            "change input[name=email]": "toggleClearInput",
            "click .js-modal-birth-year": "showBirthYearModal",
            "click .js-modal-zipcode": "showZipCodeModal",
            "click .cancel": "doCancel",
            "click .requestHelpButton": "submitButtonClick",
            "click .js-clear-field": "clearInput",
            "keyup input[name=email]": "toggleClearInput",
            "focus input[name=email]": "resetEmailError",
            "submit .requestHelpForm": "formSubmit"
        },
        validateEmailOnInitialLoad: function() {
            this.Aa = !1;
            this.validateEmail(!1)
        },
        validateEmailOnBlur: function() {
            this.validateEmail(!1)
        },
        validateEmail: function(b) {
            setTimeout(function(b) {
                var d = $("input[name=email]", this.el);
                d.name = "email";
                if (this.Aa) {
                    if (this.W(d) && !b)
                        return $("input[name=email]").removeClass("error"),
                        delete this.B.email,
                        !1;
                    sx(d.val()) ? this.la(d) : (d.L = za(),
                    this.Aa && this.fa(d))
                }
            }
            .bind(this, b), 200);
            this.Aa = !0
        },
        resetEmailError: function() {
            $("input[name=email]").removeClass("error");
            this.B.email && (this.B.email.close(),
            delete this.B.email)
        },
        validateBirthYear: function(b) {
            var c = $("input[name=year]", this.el);
            c.name = "year";
            c.L = ja();
            this.W(c) ? this.la(c) : ux(c.val()) ? this.la(c) : !0 !== b && this.fa(c)
        },
        validateZipCode: function(b) {
            var c = $("input[name=zipCode]", this.el);
            c.name = "zipCode";
            c.L = na();
            this.W(c) ? this.la(c) : wx(ip(), c.val()) ? this.la(c) : (mo(this.model.get("currentUser")) ? c.L = oa() : c.L = na(),
            !0 !== b && this.fa(c))
        },
        fa: function(b) {
            this.B[b.name] || (this.B[b.name] = new Jx({
                el: b,
                Of: b.L
            }),
            this.N[b.name] && delete this.N[b.name])
        },
        W: function(b) {
            return "" === b.val() ? (this.N[b.name] && delete this.N[b.name],
            !0) : !1
        },
        la: function(b) {
            this.N[b.name] = b.val();
            this.B[b.name] && (this.B[b.name].close(),
            delete this.B[b.name])
        },
        me: function() {
            if (1 > Object.keys(this.B).length && this.N.email)
                return !0;
            if (this.B.email)
                return !1
        },
        doCancel: function() {
            this.trigger("cancel", this.model.get("previousPanel"));
            return !1
        },
        submitButtonClick: function() {
            this.resetEmailError();
            var b = $("input[name=email]");
            b.name = "email";
            var c = $("input[name=zipCode]").val()
              , d = $("input[name=year]").val()
              , e = this.model.get("pageSource");
            k.debug(e);
            this.W(b) && (b.L = ya(),
            this.fa(b));
            d = Number(d) || 0;
            this.me() && (b = [b.val(), d, c, e],
            this.trigger("submit", b))
        },
        formSubmit: function() {
            return !1
        },
        showBirthYearModal: function() {
            new Gz({
                event: "showBirthYearModal",
                title: "Why birth year?",
                message: "Please use the birth year you used when you signed up. This will help us locate your account. If you don't remember it, you can leave it blank.",
                onlyShowNoButton: !0,
                noButtonText: "Close",
                reverseButtons: !0
            })
        },
        showZipCodeModal: function() {
            new Gz({
                event: "showZipCodeModal",
                title: mo(this.model.get("currentUser")) ? "Why postal code?" : "Why ZIP code?",
                message: mo(this.model.get("currentUser")) ? "Please use the postal code you used when you signed up. This will help us locate your account. If you don't remember it, you can leave it blank." : "Please use the ZIP code you used when you signed up. This will help us locate your account. If you don't remember it, you can leave it blank.",
                onlyShowNoButton: !0,
                noButtonText: "Close",
                reverseButtons: !0
            })
        },
        clearInput: function(b) {
            b = $(b.currentTarget);
            var c = b.prev();
            c.hasClass("errorDialog") ? (c.prev().val(""),
            c.prev().trigger("change")) : (c.val(""),
            b.prev().trigger("change"));
            this.resetEmailError();
            this.Aa = !1
        },
        toggleClearInput: function() {
            var b = $("input[name=email]", this.el);
            this.W(b) ? $(".onboarding__form__input__link--clear").fadeOut(125) : $(".onboarding__form__input__link--clear").fadeIn(125);
            b.hasClass("error") && b.removeClass("error")
        },
        serverError: function() {
            var b = $("input[name=email]", this.el);
            $("input[name=zipCode]", this.el);
            b.name = "email";
            b.L = "There was an error with your request";
            this.fa(b)
        },
        requestSuccessful: function() {
            this.model.set({
                modalPanel: Au
            })
        }
    });
    function Nz() {}
    Nz = Backbone.View.extend({
        initialize: function() {},
        render: function() {
            k.debug("===== view rendered ======");
            $("#playerBar").hide();
            var b = this.model.get("requestPasswordHelpSuccessEmail")
              , b = $("#RequestHelpSuccessTmpl").tmpl({
                emailAddress: b
            });
            $(this.el).append(b).hide().fadeIn();
            return this
        },
        hideAndRemove: function() {
            $(this.el).fadeOut(r(this, function() {
                $(this.el).remove()
            }))
        },
        events: {
            "click .js-login": "loginClick"
        },
        loginClick: function() {
            this.trigger("login");
            return !0
        }
    });
    function Oz() {}
    Oz = Backbone.View.extend({
        initialize: function() {},
        render: function() {
            $("#playerBar").hide();
            var b = this.model.get("loginEmail")
              , b = $("#forgotPasswordConfirmationTmpl").tmpl({
                username: b
            });
            $(this.el).append(b).hide().fadeIn();
            return this
        },
        hideAndRemove: function() {
            $(this.el).fadeOut(r(this, function() {
                $(this.el).remove()
            }))
        },
        events: {
            "click .js-login": "loginClick",
            "click .js-request-help": "requestHelpClick"
        },
        loginClick: function() {
            this.trigger("login");
            return !0
        },
        requestHelpClick: function() {
            this.trigger("requestHelp");
            return !0
        }
    });
    function Pz() {}
    Pz = Backbone.View.extend({
        bc: 300,
        initialize: function() {
            this.model.bind("change:narrative", r(this, this.um));
            this.render()
        },
        el: $("#narrativeDetail").get(0),
        render: function() {
            var b = $("#trackDetailItemTmpl").tmpl({
                heading: "Narrative",
                className: "narrative clearfix"
            });
            $(".close1", b).css("visibility", "visible");
            $(this.el).append(b);
            return this
        },
        um: function() {
            var b = this.model.get("narrative");
            null != b ? ($("#narrativeDetail").css({
                display: "inline-block"
            }),
            $(".narrative", this.el).animate({
                opacity: "hide",
                height: "hide"
            }, this.bc, r(this, function() {
                b.hideClose ? $(".close1", this.el).css("visibility", "hidden") : $(".close1", this.el).css("visibility", "visible");
                $(".narrative .heading", this.el).text(b.stationName);
                var c = $(this.tH(b.type)).tmpl(b);
                $(".narrative .itemContent", this.el).empty().append(c);
                $(".narrative", this.el).animate({
                    opacity: "show",
                    height: "show"
                }, this.bc)
            }))) : $(".narrative", this.el).is(":visible") ? $(".narrative", this.el).animate({
                opacity: "hide",
                height: "hide"
            }, this.bc) : $("#narrativeDetail").css({
                display: "none"
            })
        },
        tH: function(b) {
            switch (b) {
            case "addVariety":
                return "#addVarietyNarrativeTmpl";
            case "expiredOnDemand":
                return "#onDemandNarrativeTmpl";
            case "endOnDemand":
                return "#onDemandNarrativeTmpl";
            default:
                return "#newStationNarrativeContentTmpl"
            }
        },
        events: {
            "click .deleteStation": "deleteStationClick",
            "click .close1": "closeClick",
            "click .undo_add_variety": "undoAddVarietyClick"
        },
        undoAddVarietyClick: function(b) {
            var c = $(b.target).attr("data-stationid");
            b = $(b.target).data("musicid");
            z.b(Nj, {
                stationID: c,
                musicID: b
            });
            $(".narrative", this.el).animate({
                opacity: "hide",
                height: "hide"
            }, this.bc);
            return !1
        },
        deleteStationClick: function(b) {
            b = $.tmplItem(b.target).data.stationId;
            R(bv, b);
            return !1
        },
        closeClick: function() {
            this.trigger("close");
            return !1
        }
    });
    function Qz() {}
    Qz = Backbone.View.extend({
        bc: 300,
        initialize: function() {
            this.model.bind("change:songNarrative", r(this, this.ot));
            this.render()
        },
        el: $("#songNarrativeDetail").get(0),
        render: function() {
            var b = $("#trackDetailItemTmpl").tmpl({
                heading: "Why this track?",
                className: "song_narrative clearfix"
            });
            $(".close1", b).css("visibility", "visible");
            $(this.el).append(b);
            return this
        },
        ot: function() {
            var b = this.model.get("songNarrative");
            null != b ? $(".song_narrative", this.el).animate({
                opacity: "hide",
                height: "hide"
            }, this.bc, r(this, function() {
                $("#songNarrativeDetail").css({
                    display: "inline-block"
                });
                var c = b.track
                  , c = $("#songNarrativeContentTmpl").tmpl({
                    narrative: b.narrative,
                    songDetailUrl: c.$g(),
                    songTitle: c.Ja,
                    artistDetailUrl: c.Vg(),
                    artistSummary: c.Y(),
                    allowActions: b.allowActions
                });
                $(".song_narrative .itemContent", this.el).empty().append(c);
                $(".song_narrative", this.el).animate({
                    opacity: "show",
                    height: "show"
                }, this.bc)
            })) : $(".song_narrative", this.el).is(":visible") ? $(".song_narrative", this.el).animate({
                opacity: "hide",
                height: "hide"
            }, this.bc) : $("#songNarrativeDetail").css({
                display: "none"
            })
        },
        events: {
            "click .tired": "tiredClick",
            "click .moveSong": "moveSongClick",
            "click .close1": "closeClick"
        },
        tiredClick: function() {
            var b = this.model.get("songNarrative");
            null != b && z.b(Zi, b.track);
            return !1
        },
        moveSongClick: function() {
            var b = this.model.get("songNarrative");
            null != b && new Bz({
                model: this.model,
                track: b.track
            });
            return !1
        },
        closeClick: function() {
            this.trigger("close");
            return !1
        }
    });
    for (J = oq[50]; -1 != J; )
        switch (J) {
        case 14:
            G[331] = 1134997164;
            J = oq[44];
            break;
        case 20:
            G[1020] = -1791171110;
            J = oq[6];
            break;
        case 39:
            G[387] = -897920954;
            J = oq[4];
            break;
        case 36:
            G[122] = 1265963545;
            J = oq[46];
            break;
        case 11:
            G[1038] = 309949464;
            J = oq[51];
            break;
        case 7:
            G[727] = 850026051;
            J = oq[54];
            break;
        case 19:
            G[1011] = 180521428;
            J = oq[45];
            break;
        case 59:
            J = oq[49];
            break;
        case 58:
            G[240] = 3325695213;
            J = oq[3];
            break;
        case 55:
            G[939] = 1304523215;
            J = oq[58];
            break;
        case 41:
            J = oq[35];
            break;
        case 22:
            G[28] = 1259827619;
            J = oq[36];
            break;
        case 4:
            J = oq[25];
            break;
        case 34:
            G[449] = -2135701739;
            J = oq[14];
            break;
        case 31:
            G[465] = -1804605163;
            J = oq[12];
            break;
        case 15:
            J = oq[16];
            break;
        case 12:
            J = oq[43];
            break;
        case 17:
            G[361] = 1464503295;
            J = oq[59];
            break;
        case 1:
            G[74] = -651898160;
            J = oq[5];
            break;
        case 48:
            G[179] = 334218407;
            J = oq[32];
            break;
        case 26:
            J = oq[55];
            break;
        case 21:
            G[542] = -676266839;
            J = oq[28];
            break;
        case 28:
            J = oq[18];
            break;
        case 18:
            G[581] = -1999142747;
            J = oq[34];
            break;
        case 33:
            J = oq[41];
            break;
        case 47:
            G[835] = 157978117;
            J = oq[15];
            break;
        case 5:
            G[852] = -1251947033;
            J = oq[57];
            break;
        case 44:
            G[902] = 263481395;
            J = oq[33];
            break;
        case 23:
            G[310] = 1487604147;
            J = oq[39];
            break;
        case 37:
            G[561] = 1858749674;
            J = oq[2];
            break;
        case 10:
            G[833] = 1266305098;
            J = oq[31];
            break;
        case 30:
            J = oq[24];
            break;
        case 56:
            G[535] = 945877454;
            J = oq[42];
            break;
        case 52:
            G[374] = -1732895826;
            J = oq[37];
            break;
        case 16:
            G[63] = 1719350744;
            J = oq[53];
            break;
        case 3:
            J = oq[20];
            break;
        case 13:
            G[781] = 1793541853;
            J = oq[52];
            break;
        case 0:
            J = oq[1];
            break;
        case 25:
            G[142] = 1589588816;
            J = oq[60];
            break;
        case 40:
            G[452] = 430258911;
            J = oq[11];
            break;
        case 46:
            G[121] = 803059170;
            J = oq[47];
            break;
        case 51:
            G[184] = -96829059;
            J = oq[22];
            break;
        case 24:
            G[991] = 824555619;
            J = oq[21];
            break;
        case 42:
            J = oq[56];
            break;
        case 57:
            G[285] = 1383900149;
            J = oq[13];
            break;
        case 9:
            G[994] = 3059811471;
            J = oq[48];
            break;
        case 45:
            J = oq[10];
            break;
        case 49:
            J = oq[19];
            break;
        case 54:
            G[132] = 855448945;
            J = oq[9];
            break;
        case 6:
            G[159] = 1513757177;
            J = oq[30];
            break;
        case 50:
            G[935] = 1937780677;
            J = oq[40];
            break;
        case 53:
            J = oq[27];
            break;
        case 35:
            J = oq[26];
            break;
        case 32:
            G[557] = 2034634825;
            J = oq[29];
            break;
        case 43:
            G[983] = -1205920007;
            J = oq[7];
            break;
        case 27:
            G[70] = -381428399;
            J = oq[17];
            break;
        case 8:
            J = oq[38];
            break;
        case 2:
            J = oq[23];
            break;
        case 29:
            G[1026] = 657942303;
            J = oq[0];
            break;
        case 38:
            G[101] = 588265275,
            J = oq[8]
        }
    ;function Rz(b, c) {
        this.FF = b;
        this.el = $($("#tooltipTmpl").tmpl(c));
        this.Mb = null ;
        $(b).prepend(this.el).hover(r(this, this.Pf), r(this, this.Qf))
    }
    f = Rz.prototype;
    f.Pf = function() {
        this.gc();
        this.Mb = setTimeout(r(this, function() {
            this.gc();
            this.show()
        }), 50);
        return !1
    }
    ;
    f.Qf = function() {
        this.gc();
        this.hide();
        return !1
    }
    ;
    f.gc = function() {
        null != this.Mb && (clearTimeout(this.Mb),
        this.Mb = null )
    }
    ;
    f.show = function() {
        this.position();
        $(this.el).hide();
        $(this.el).css("visibility", "visible");
        $(this.el).fadeIn(200)
    }
    ;
    f.hide = function() {
        $(this.el).fadeOut(200, r(this, function() {
            $(this.el).css("visibility", "hidden");
            $(this.el).show()
        }))
    }
    ;
    f.position = function() {
        var b = -1 * this.el.height()
          , c = Math.round((this.FF.width() - this.el.width()) / 2);
        this.el.css({
            "margin-top": b,
            "margin-left": c
        })
    }
    ;
    function dz(b, c, d) {
        this.Ta = d;
        this.ym = null ;
        dz.prototype.Xr = null ;
        null != b && (this.hc = b,
        b.click(r(this, r(this, function(b) {
            this.ym && this.ym(b);
            this.open();
            dz.prototype.Xr = b
        }))),
        b.mouseout(r(this, this.Eh)));
        c && (this.Zc = c,
        c.mouseover(r(this, this.open)),
        c.mouseout(r(this, this.Eh)));
        this.Ta.mouseover(r(this, this.mp));
        this.Ta.mouseout(r(this, this.Eh));
        _.extend(this, Backbone.Events);
        $("a", this.Ta).click(r(this, this.PL));
        S(Gu, r(this, function(b) {
            null != dz.prototype.Xr && b.target == dz.prototype.Xr.target || this.close()
        }))
    }
    var Sz = null
      , Cz = null ;
    function Ez(b, c) {
        null != b.hc && (b.hc.unbind("click"),
        b.hc.unbind("mouseout"),
        b.hc = null );
        null != b.Zc && (b.Zc.unbind("mouseover"),
        b.Zc.unbind("mouseout"),
        b.Zc = null );
        null != c && (b.hc = c,
        c.click(r(b, b.open)),
        c.mouseout(r(b, b.Eh)))
    }
    f = dz.prototype;
    f.open = function() {
        this.mp();
        this.close();
        this.Ta.show();
        this.Ta.css("visibility", "visible");
        Cz = this.Ta;
        R(Yv, this.Ta);
        return !1
    }
    ;
    f.Eh = function() {
        this.mp();
        Sz = setTimeout(r(this, this.close), 300);
        return !0
    }
    ;
    f.mp = function() {
        Sz && (clearTimeout(Sz),
        Sz = null );
        return !1
    }
    ;
    f.PL = function() {
        R(Wv);
        this.close()
    }
    ;
    f.ti = function() {
        return !0
    }
    ;
    f.close = function() {
        null != Cz && this.ti() && (Cz && (Cz.css("visibility", "hidden"),
        Cz.hide(),
        Cz = null ,
        this.trigger("close")),
        this.Ta.css("visibility", "hidden"),
        this.Ta.hide(),
        R(Xv, this.Ta))
    }
    ;
    f.enable = function() {
        null != this.hc && (this.hc.click(r(this, this.open)),
        this.hc.mouseout(r(this, this.Eh)));
        null != this.Zc && (this.Zc.mouseover(r(this, this.open)),
        this.Zc.mouseout(r(this, this.Eh)))
    }
    ;
    f.disable = function() {
        null != this.hc && (this.hc.unbind("click"),
        this.hc.unbind("mouseout"));
        null != this.Zc && (this.Zc.unbind("mouseover"),
        this.Zc.unbind("mouseout"))
    }
    ;
    function Tz(b) {
        this.model = b;
        this.au = $("#station_menu_dd");
        this.kB = this.au.find(".renameStation");
        dz.call(this, null , null , this.au);
        $("#station_menu_dd .shareStation").bind("click", r(this, function() {
            R(Yu, {
                mode: "station_and_song",
                station: this.model.get("menuStation"),
                track: this.model.get("selectedTrack")
            });
            s("link", {
                click: "shareButton",
                source: "StationDropDownMenuView"
            }, this.model.get("currentUser"));
            return !1
        }))
    }
    vd(Tz, dz);
    Tz.prototype.open = function() {
        var b = this.model.get("currentUser")
          , c = null == b || b.p()
          , d = this.model.get("menuStation");
        this.model.get("currentStation");
        var e = this.model.get("selectedTrack");
        null == e || e instanceof Hn || e.Ic || c || d && d.D() ? $("#station_menu_dd .shareStation").hide() : $("#station_menu_dd .shareStation").show();
        !d || d.D() || d.Ra() || d.Ha() ? $("#station_menu_dd .findFans").hide() : $("#station_menu_dd .findFans").show();
        d && d.D() ? $("#station_menu_dd .editStation").hide() : $("#station_menu_dd .editStation").show();
        d && d.Db() ? ($("#station_menu_dd .dismissStation").show(),
        $("#station_menu_dd .deleteStation").hide()) : ($("#station_menu_dd .dismissStation").hide(),
        d && d.Cb() ? d.Zg() == b.s ? $("#station_menu_dd .deleteStation").hide() : $("#station_menu_dd .deleteStation").show() : $("#station_menu_dd .deleteStation").show());
        d && d.Ha() && this.kB.hide();
        b = (c = this.Qv.offset()) ? c.top : 0;
        c = c ? c.left : 0;
        e = 50;
        d && d.Ha() && (e = 80);
        d = {
            top: b - 40,
            left: c - e + this.Qv.width()
        };
        this.Ta.css(d);
        return Tz.uQ.open.call(this)
    }
    ;
    Tz.prototype.ti = function() {
        return null == this.model.get("currentContextualTip")
    }
    ;
    function rz(b, c, d) {
        b.Qv = d;
        b.model.set({
            menuStation: c
        });
        c && (c.re() == m.Fc.Ve() || c.D() || c.Db() ? ($("#station_menu_dd .renameStation").hide(),
        c.D() && ($("#station_menu_dd .findFans").hide(),
        $("#station_menu_dd .editStation").hide(),
        $("#station_menu_dd .shareStation").hide())) : ($("#station_menu_dd .renameStation").show(),
        $("#station_menu_dd .findFans").show(),
        $("#station_menu_dd .editStation").show(),
        $("#station_menu_dd .shareStation").show()),
        $("#station_menu_dd a.findFans").attr("href", "/station/" + (c.Z() ? c.e() : c.Qi()) + "/fans"));
        Ez(b, d)
    }
    ;function Dz(b, c) {
        this.model = b;
        dz.call(this, $(".menuArrow", c), null , $("#track_menu_dd"))
    }
    vd(Dz, dz);
    Dz.prototype.ti = function() {
        return null == this.model.get("currentContextualTip")
    }
    ;
    function gz(b, c, d) {
        this.model = b;
        $("#cd_menu_dd .newStationFromSong").click(r(this, this.Hr));
        $("#cd_menu_dd .newStationFromArtist").click(r(this, this.Gr));
        $("#cd_menu_dd .tiredOfSong").click(r(this, this.Ht));
        $("#cd_menu_dd .moveSong").click(r(this, this.Br));
        this.model.bind("change:currentTrack", r(this, this.ml));
        dz.call(this, c, null , d)
    }
    vd(gz, dz);
    f = gz.prototype;
    f.ml = function() {
        var b = this.model.get("currentStation");
        b && (b.D() && !b.Z() || b.Ra()) ? ($("#cd_menu_dd .tiredOfSong").hide(),
        $("#cd_menu_dd .moveSong").hide()) : ($("#cd_menu_dd .tiredOfSong").show(),
        $("#cd_menu_dd .moveSong").show())
    }
    ;
    f.Hr = function() {
        var b = this.model.get("currentTrack");
        b && z.b(Hi, {
            stationCode: "mi" + b.o(),
            source: "track_action"
        });
        return !1
    }
    ;
    f.Gr = function() {
        var b = this.model.get("currentTrack");
        b && z.b(Hi, {
            stationCode: "mi" + b.Ye,
            source: "track_action"
        });
        return !1
    }
    ;
    f.Ht = function() {
        var b = this.model.get("currentTrack");
        b && z.b(Zi, b);
        return !1
    }
    ;
    f.Br = function() {
        var b = this.model.get("currentTrack");
        new Bz({
            model: this.model,
            track: b
        });
        return !1
    }
    ;
    function Uz() {}
    Uz = Backbone.View.extend({
        initialize: function() {
            this.h = this.options.station;
            this.Ne = 0;
            this.context = this.options.context;
            this.title = this.options.title || Sc();
            this.description = this.options.description || Tc();
            this.Bt = this.options.text || Rc();
            this.Tz = new az;
            this.PE = this.options.autoCompleteParams;
            this.Kb = -1;
            var b = this.h.wa();
            b && b.musicId ? (z.c(uf, r(this, function(b) {
                Uz.prototype.ek = b;
                this.render()
            })),
            z.b(bj, {
                stationId: this.h.e(),
                musicId: b.musicId
            })) : (Uz.prototype.ek = null ,
            this.render());
            S(Gu, r(this, this.Ga))
        },
        render: function() {
            this.na = (new Date).getTime();
            var b = by("addVarietyPopup", $("#addVarietyHeaderTmpl").tmpl({
                title: this.title
            }), $("#addVarietyContentTmpl").tmpl({
                descriptionText: this.description,
                textDefault: this.Bt
            }), $("#addVarietyFooterTmpl").tmpl());
            $(this.el).append(b);
            this.Bs();
            $("body").append(this.el);
            b = 1;
            $("form.searchInputForm", this.el).bind("submit", function() {
                return !1
            });
            Ae() && ($(".searchInput", this.el).css("filter", "none !important"),
            b = 500);
            var c = this;
            setTimeout(function() {
                $(".searchInput", c.el).focus()
            }, b);
            R(Vw);
            return this
        },
        Ga: function(b) {
            this.el && (new Date).getTime() - this.na > Vz && ($(b.target) == this.el || 0 < $(b.target).closest(".lightbox_bg").length || 0 < $(b.target).closest(".suggestion_nextPrev").length || this.U(null , null ))
        },
        Ak: 3,
        Bs: function() {
            if (null != Uz.prototype.ek && 0 < Uz.prototype.ek.length) {
                var b = Uz.prototype.ek.slice(this.Ne, this.Ne + this.Ak);
                $(".suggestions", this.el).empty().append($("#addVarietySuggestionTmpl").tmpl({
                    suggestions: b,
                    lessLink: 0 < this.Ne,
                    moreLink: this.Ne + this.Ak < Uz.prototype.ek.length
                }))
            }
        },
        events: {
            "focus .searchInput": "searchInputFocus",
            "blur .searchInput": "searchInputBlur",
            "keyup .searchInput": "searchInputKeyup",
            "closed .lightbox": "cancelClick",
            "click .lessVarietySuggestionLink": "lessSuggestionsClick",
            "click .moreVarietySuggestionLink": "moreSuggestionsClick",
            "click .searchResultVarietyArtist": "searchResultArtistClick",
            "click .searchResultVarietySong": "searchResultSongClick",
            "click .searchResultsContent .item": "autoCompleteClick",
            "click .addVarietyPopup": "popupClick"
        },
        popupClick: function(b) {
            if (0 < $(b.target).parents(".searchResultsBorder").length || $(b.target).hasClass("searchInput"))
                return !0;
            this.gm()
        },
        autoCompleteClick: function(b) {
            this.rz(b.target)
        },
        rz: function(b) {
            var c = $.tmplItem(b).data;
            b = c.get("musicId");
            c.get("songTitle") ? this.U(new Do(this.h,b,c.get("songTitle") + " by " + c.get("artistSummary"),this.context), "songAutoComplete") : (c = c.get("artistName") ? c.get("artistName") : c.get("composerName"),
            this.U(new Do(this.h,b,c,this.context), "artistAutoComplete"))
        },
        searchResultArtistClick: function(b) {
            b = $.tmplItem(b.target).data;
            this.U(new Do(this.h,b.musicId,b.artistName,this.context), "suggestedArtist");
            return !1
        },
        searchResultSongClick: function(b) {
            b = $.tmplItem(b.target).data;
            this.U(new Do(this.h,b.musicId,b.songTitle + " by " + b.artistSummary,this.context), "suggestedSong");
            return !1
        },
        lessSuggestionsClick: function() {
            $(".lessVarietySuggestionLink").hasClass("inactiveLink") || (this.Ne -= this.Ak,
            this.Bs());
            return !1
        },
        moreSuggestionsClick: function() {
            $(".moreVarietySuggestionLink").hasClass("inactiveLink") || (this.Ne += this.Ak,
            this.Bs());
            return !1
        },
        searchInputFocus: function(b) {
            b.target.value == this.Bt && (b.target.value = "");
            $(b.target).addClass("focus");
            b = $(".searchInput", this.el).val();
            null != b && 0 < b.length && this.uA()
        },
        searchInputBlur: function(b) {
            "" == b.target.value && (b.target.value = this.Bt);
            $(b.target).removeClass("focus")
        },
        gm: function() {
            this.kt && $(".searchResults", this.el).fadeOut("fast", r(this, function() {
                this.kt = !1
            }))
        },
        uA: function(b) {
            this.kt ? b && b() : (b ? $(".searchResults", this.el).fadeIn("fast", b) : $(".searchResults", this.el).fadeIn("fast"),
            this.kt = !0)
        },
        Bh: function() {
            $(".item", this.el).removeClass("selected");
            if (0 <= this.Kb) {
                $(".item", this.el).eq(this.Kb).addClass("selected");
                var b = ".searchResultsScroller .scrollPoint.selected"
                  , c = $(b, this.el);
                c.prev().hasClass("heading") && (b = ".searchResultsScroller .scrollPoint:eq(" + (c.index() - 1) + ")");
                ay($(".searchResultsScroller", this.el), b)
            }
        },
        searchInputKeyup: function(b) {
            $(".error", this.el).fadeOut();
            var c = $(".searchInput", this.el).val();
            40 == b.which ? (0 <= this.Kb ? this.Kb++ : this.Kb = 0,
            this.Kb >= $(".item", this.el).length && (this.Kb = $(".item", this.el).length - 1),
            this.Bh()) : 38 == b.which ? 0 <= this.Kb && (this.Kb--,
            this.Bh()) : 27 == b.which ? ($(".searchInput", this.el).val(""),
            this.gm()) : 13 == b.which ? (b = !0,
            0 <= this.Kb && this.Kb < $(".item", this.el).length && $(".searchResults", this.el).is(":visible") && (b = !1,
            this.rz($(".item", this.el).eq(this.Kb))),
            b && $(".error", this.el).text(Uc([c])).fadeIn()) : c && 0 < c.length ? (c = $.extend({
                sendquery: "no",
                q: c
            }, this.PE),
            k.info("Calling autocomplete with: ", c),
            $.get("/autocomplete", c).success(r(this, function(b) {
                this.Kb = 0;
                var c = Kx(b, !0, !0);
                0 < c.length ? this.uA(r(this, function() {
                    this.Tz.refresh(c);
                    var b = $(".searchResults .searchResultsContent", this.el);
                    b.empty();
                    var d = null ;
                    $.each(this.Tz.models, function(c, e) {
                        d != e.nb() && (d = e.nb(),
                        b.append($("#searchPopupHeading").tmpl(e.nb())));
                        b.append($(e.Ub()).tmpl(e))
                    });
                    this.dw();
                    this.Bh()
                })) : this.gm()
            }))) : this.gm()
        },
        cancelClick: function() {
            this.U(null , null );
            return !1
        },
        U: function(b) {
            z.pa(this);
            $(this.el).remove();
            this.el = null ;
            b && R(iw, b);
            null == this.context && sz();
            R(Ww)
        },
        gx: function(b) {
            $(".searchInput", this.el).blur();
            $(".searchResults", this.el).hide();
            z.b(cj, b)
        },
        handleSearchResults: function(b) {
            $(".searchResults", this.el).show();
            $(".searchResults .searchResultsContent", this.el).empty().append($("#addVarietySearchResultTmpl").tmpl({
                results: b
            }));
            this.dw()
        },
        dw: function() {
            setTimeout(r(this, function() {
                Yx($(".scroll-pane", this.el))
            }), 1)
        }
    });
    function Wz() {}
    Wz = Backbone.View.extend({
        initialize: function() {
            this.render();
            S(Gu, r(this, this.Ga))
        },
        render: function() {
            this.na = (new Date).getTime();
            var b = by("trialWelcomePanel", $("#TrialWelcomeHeaderTmpl").tmpl(), $("#TrialWelcomeContentTmpl").tmpl());
            $("body").append(b);
            $(".lightbox").bind("closed", r(this, this.U));
            $(".trialWelcomePanel").show();
            return this
        },
        Ga: function(b) {
            0 == $(b.target).parents(".trialWelcomePanel").length && (new Date).getTime() - this.na > Vz && this.U()
        },
        U: function() {
            Xz(this);
            $(".trialWelcomePanel").remove()
        }
    });
    function X() {}
    X = Backbone.View.extend({
        rB: 1E4,
        initialize: function() {
            this.message = this.options.message;
            this.UN = this.options.persist;
            this.OQ = this.options.undo;
            this.reload = this.options.reload;
            this.NO = this.options.retry;
            this.play = this.options.play;
            this.context = this.options.context;
            S(Gu, r(this, this.Ga));
            z.c(mi, r(this, this.Zi));
            z.c(ei, r(this, this.Zi));
            z.c(hi, r(this, this.Zi));
            z.c(vg, r(this, this.Zi));
            z.c(ti, r(this, this.Zi))
        },
        className: "toastContainer",
        render: function() {
            for (this.na = (new Date).getTime(); 0 < X.Ph.length; )
                X.Ph.pop().close(null , !1);
            $(this.el).append($("#toastTmpl").tmpl(this.message));
            $("body").append($(this.el));
            this.OQ || $(".toastItemUndoContainer", this.el).remove();
            this.reload || $(".toastItemReloadContainer", this.el).remove();
            this.NO || $(".toastItemRetryContainer", this.el).remove();
            this.play ? $(".toastItemClose", this.el).hide() : ($(".toastItemPlayContainer", this.el).remove(),
            $(".toastItemClose", this.el).show());
            $(this.el).css("top", -$(this.el).height());
            $(this.el).animate({
                top: 0
            });
            this.closed = !1;
            this.UN || setTimeout(r(this, this.close), this.rB);
            X.Ph.push(this);
            return this
        },
        events: {
            "click .toastItemClose": "close",
            "click .toastItemUndo": "undoClicked",
            "click .toastItemReload": "reloadClicked",
            "click .toastItemRetry": "retryClicked",
            "click .toastItemPlay": "playClicked"
        },
        close: function(b, c) {
            if (!this.closed) {
                for (var d = 0; d < X.Ph.length; d++)
                    if (X.Ph[d] == this) {
                        X.Ph.splice(d, 1);
                        break
                    }
                Xz(this);
                this.closed = !0;
                $(this.el).animate({
                    top: -$(this.el).height()
                }, r(this, function() {
                    c || this.trigger("close");
                    this.remove()
                }))
            }
        },
        undoClicked: function() {
            this.trigger("undo");
            this.close(null , !0);
            return !1
        },
        reloadClicked: function() {
            this.trigger("reload");
            this.close(null , !0);
            return !1
        },
        retryClicked: function() {
            this.trigger("retry");
            this.close(null , !0);
            return !1
        },
        playClicked: function() {
            this.trigger("play");
            this.close(null , !0);
            return !1
        },
        getContext: function() {
            return this.context
        },
        Ga: function(b) {
            this.el && (new Date).getTime() - this.na > Vz && ($(b.target) == this.el || 0 < $(b.target).closest(".lightbox_bg").length || this.play || this.close(null ))
        },
        Zi: function() {
            this.play && this.close(null )
        }
    });
    X.Ph = [];
    function Yz() {}
    Yz = Backbone.View.extend({
        sC: 1E3,
        initialize: function() {
            z.c(dg, r(this, this.dI));
            z.c(eg, r(this, this.cI));
            $(this.el).empty().append($("#spinnerTmpl").tmpl());
            $("body").append(this.el);
            this.dn = 0;
            this.it = !1
        },
        className: "spinnerContainer",
        dI: function(b) {
            this.fz(b) && (this.dn++,
            clearTimeout(this.timeout),
            this.timeout = setTimeout(r(this, function() {
                this.PP(b)
            }), this.sC))
        },
        PP: function() {
            var b = $("#playerBar")
              , c = !b.is(":visible") || $("#splash").is(":visible");
            c ? ($("#nav_spinner").hide(),
            $("#splash_spinner").show(),
            $(this.el).vw({
                vertical: !1
            }),
            $(this.el).css({
                "z-index": $("#splash_spinner").css("z-index"),
                top: "320px"
            })) : ($("#nav_spinner").show(),
            $("#splash_spinner").hide(),
            $(this.el).css("z-index", $("#nav_spinner").css("z-index")),
            $(this.el).vw());
            c || $(this.el).css("top", b.height() + b.offset().top - 7 + "px");
            this.it || ($(this.el).hide().css("visibility", "visible").fadeIn("fast"),
            this.it = !0)
        },
        fz: function(b) {
            return !b || "string" == typeof b && -1 < b.indexOf("/static/promo") ? !1 : !0
        },
        cI: function(b) {
            this.fz(b) && (this.dn--,
            1 > this.dn && (this.it = !1,
            clearTimeout(this.timeout),
            $(this.el).fadeOut("fast"),
            this.dn = 0))
        }
    });
    function Zz() {}
    Zz = Backbone.View.extend({
        qC: 2E3,
        Pc: null ,
        initialize: function() {
            this.model.bind("change:blueBarMessage", r(this, this.Vx))
        },
        events: {
            "click .fb_close": "fbCloseClick",
            "click .fb_no_thanks": "fbNoThanksClick",
            "click #capping_no_thanks": "cappingNoThanksClick",
            "click #capping_more_info": "cappingMoreInfoClick",
            "click .account_message_close": "messageCloseClick",
            "click .nice_account_message_close": "messageCloseClick",
            "click .trial_message_close": "messageCloseClick",
            "click #trial_upgrade": "trialUpgradeClick",
            "click .account_message_learnmore": "accountMessageLearnMoreClick",
            "click #renew_more_info": "renewMoreInfoClick",
            "click #renewal_no_thanks": "renewalNoThanksClick",
            "click #restore_subscription": "restoreSubscriptionClick",
            "click #pbwt_no_thanks": "renewalNoThanksClick"
        },
        el: $("#pandoraRibbonContainer").get(0),
        Vx: function() {
            var b = this.model.get("blueBarMessage");
            this.uw();
            null == b ? this.uy() : this.gt = setTimeout(r(this, function() {
                3 == b.C() ? this.zP(b.sl) : 0 == b.C() ? this.JP(b.sl, b.ih) : 5 == b.C() ? this.GP(b.sl) : 4 == b.C() ? this.RP(b.sl) : 2 == b.C() ? this.Ws(b.bz) : 1 == b.C() && this.BP(b.MG, b.CQ)
            }), this.qC)
        },
        JP: function(b, c) {
            $("#pandora_bar_day_count", "#renewalRibbon").text(0 == b ? "today" : "in " + b + (1 < b ? " days" : " day"));
            c ? ($(".pandora_bar_message").css("left", "1px"),
            $("#pandora_bar_desc").text("Gift Subscription")) : ($(".pandora_bar_message").css("left", "10px"),
            $("#pandora_bar_desc").text("subscription"));
            this.Gh($("#renewalRibbon"))
        },
        GP: function(b) {
            $("#pandora_bar_day_count", "#paymentBackedTrialRibbon").text(0 == b ? "today" : "in " + b + (1 < b ? " days" : " day"));
            $(".pandora_bar_message").css("left", "10px");
            this.Gh($("#paymentBackedTrialRibbon"))
        },
        RP: function(b) {
            $("#pandora_bar_day_count", "#trialRibbon").text(0 == b ? "within 24 hours" : "in " + b + (1 < b ? " days" : " day"));
            $(".pandora_bar_message").css("left", "10px");
            this.Gh($("#trialRibbon"))
        },
        trialUpgradeClick: function() {
            V("/subscriptionInfo", !0, !1);
            return !1
        },
        zP: function(b) {
            $("#currentListeningHours").text(b);
            $("#cappingRibbon").is(":visible") || this.Gh($("#cappingRibbon"))
        },
        BP: function(b, c) {
            $("#fbRibbonName").html(b);
            $("#fbRibbonImage").attr("src", c);
            this.Gh($("#facebookRibbon"))
        },
        v3: function(b) {
            return "/services/adClicked.jsp?ad=bluebar_" + b + "&forward=" + escape("/one/gift?ref=bluebar_" + b)
        },
        Ws: function(b) {
            if ("/account/info" == window.location.pathname && (Fx(b) || Gx(b) || Hx(b) || Ix(b)))
                return !1;
            this.Pc = this.Ax(b);
            if (null != this.Pc) {
                var c = this.Pc
                  , d = c.message;
                if (Ix(b)) {
                    var d = "Please confirm your account information."
                      , e = this.model.get("currentUser").Eb();
                    e && (d = "Still living in " + e + "? " + d)
                }
                $(".account_message", this.el).text(d);
                null != c.bg && (d = c.bg + "?cb=" + (new Date).getTime(),
                $("#pandoraAccountMessageOuterWrapper").css({
                    "background-image": "url(" + d + ")",
                    "background-repeat": "no-repeat"
                }));
                null != c.containerClass && $("#pandoraRibbonContainer").addClass(c.containerClass);
                null != c.href && 0 < c.href.length && (d = $(".account_message_learnmore", this.el),
                d.attr("href", c.href),
                "/" != c.href.charAt(0) && d.attr("target", "_blank"));
                if (Fx(b) || Gx(b) || Hx(b) || Ix(b)) {
                    var d = $(".account_message_learnmore", this.el)
                      , h = this.Ax(b);
                    d.click(function() {
                        R(Pv, h)
                    })
                }
                this.Gh($("#accountMessageRibbon"))
            }
        },
        Ax: function(b) {
            var c = window.ACCOUNT_MESSAGES;
            if (null != c)
                for (var d = 0; d < c.length; d++) {
                    var e = c[d];
                    if (e.name == b)
                        return e
                }
            return null
        },
        Gh: function(b) {
            $(".ribbon", this.el).removeAttr("style");
            b.show();
            $(this.el).is(":visible") || ($(".ribbonContent", this.el).css("position", "fixed").show(),
            this.mA(!0));
            this.vr("display")
        },
        mA: function(b) {
            $(this.el).show();
            if (0 < $(".ribbonContent").innerHeight()) {
                var c = $(".ribbonContent").innerHeight() - 2;
                this.model.set({
                    pageShifting: !0
                });
                c = $(".skinContainer,#topnav,#searchPopupNavPosition,#ad_frame").animate({
                    top: (b ? "+=" : "-=") + c + "px"
                }, 1E3);
                $.when(c).done(r(this, function() {
                    this.model.set({
                        pageShifting: !1
                    });
                    b || ($("#pandoraAccountMessageOuterWrapper").removeAttr("style"),
                    $("#pandoraRibbonContainer").removeClass(),
                    $("#pandoraRibbonContainer").removeAttr("style"),
                    $(".ribbonContent", this.el).removeAttr("style"))
                }))
            }
        },
        uy: function() {
            var b = "fixed" == $(".ribbonContent", this.el).css("position");
            this.uw();
            $(".ribbonContent", this.el).css("position", "relative");
            $(window).scrollTop(0);
            b && this.mA(!1);
            $(this.el).slideUp(1E3, r(this, function() {
                $(".ribbon", this.el).removeAttr("style");
                $("#pandoraRibbonContainer").show()
            }));
            this.Pc = null
        },
        uw: function() {
            this.gt && (clearTimeout(this.gt),
            this.gt = null )
        },
        vr: function(b) {
            var c = this.model.get("currentUser")
              , d = this.model.get("blueBarMessage")
              , e = null ;
            null != d && (e = d.bz);
            s("blue_bar", {
                action: b,
                vendor_id: u,
                message_key: e,
                listener_state: c.u
            }, c)
        },
        accountMessageLearnMoreClick: function(b) {
            b.target.blur();
            this.vr("click_through");
            if (null != this.Pc && this.Pc.action)
                return this.Pc.action(),
                this.model.set({
                    blueBarMessage: null
                }),
                !1;
            this.model.set({
                blueBarMessage: null
            });
            return !0
        },
        messageCloseClick: function(b) {
            b.target.blur();
            this.Pc && this.Pc.name && z.b(Xj, this.Pc.name);
            this.model.set({
                blueBarMessage: null
            });
            this.vr("dismiss");
            return !1
        },
        fbCloseClick: function(b) {
            b.target.blur();
            this.model.set({
                blueBarMessage: null
            });
            return !1
        },
        fbNoThanksClick: function(b) {
            b.target.blur();
            this.model.set({
                blueBarMessage: null
            });
            return !1
        },
        cappingMoreInfoClick: function() {
            R(cv);
            return !1
        },
        cappingNoThanksClick: function() {
            this.model.set({
                blueBarMessage: null
            });
            return !1
        },
        renewMoreInfoClick: function() {
            R(ev);
            return !1
        },
        renewalNoThanksClick: function() {
            this.model.set({
                blueBarMessage: null
            });
            um(am, !0);
            return !1
        },
        restoreSubscriptionClick: function() {
            V("/account/billing", !1, !1);
            return !1
        }
    });
    function $z() {}
    $z = Backbone.View.extend({
        initialize: function() {
            this.model.bind("change:modalPanel", r(this, this.ia))
        },
        el: $("#footer"),
        ia: function() {
            this.model.get("modalPanel") != uu && "REGISTERED_PANEL" != this.model.get("modalPanel") || $(".navFooter").hide()
        },
        events: {
            "click .concerts": "concertsClick",
            "click .navFooter": "footerClick"
        },
        concertsClick: function() {
            k.info("concerts not implemented");
            return !1
        },
        footerClick: function(b) {
            R(Ow, b);
            return !0
        }
    });
    function aA() {}
    aA = Backbone.View.extend({
        initialize: function() {
            S(jw, r(this, this.Iq));
            S(Ru, r(this, this.ut));
            S(iw, r(this, this.SO));
            S(Uv, r(this, this.Xi));
            z.c(mf, r(this, this.ny));
            z.c(nf, r(this, this.ny));
            z.c(Df, r(this, this.jK));
            z.yh(Ef, r(this, this.lK));
            z.c(hf, r(this, this.Nd))
        },
        el: $("#mainContentContainer .station").last(),
        Dm: null ,
        as: "",
        Bj: "",
        ut: function(b) {
            null != b && (this.Dm = null ,
            this.ka = b);
            $(this.el).empty();
            0 == this.ka.indexOf("G") ? bA("/content/genrestation", {
                musicid: this.ka,
                cachebuster: "" + (new Date).getTime()
            }, r(this, function(b) {
                $(this.el).empty().append(b);
                this.Qp();
                this.h = Cn($("#station_info").data("station"));
                this.Oi = this.ka;
                R(ix, this.h);
                b = xo($(".likeButton[data-like-type=genrestation]", this.el));
                R(Ev, b);
                cA(this.el, this.model.get("currentUser"));
                this.gw()
            }), function() {
                z.b(Mh)
            }, !0) : bA("/content/station", {
                stationId: this.ka,
                cachebuster: "" + (new Date).getTime()
            }, r(this, function(b) {
                $(this.el).empty().append(b);
                this.h = Cn($("#station_info").data("station"));
                !0 === $("#station_info").data("banned") && $(".comment_form").hide();
                this.Qp();
                this.Dm = this.ka;
                this.ka = this.h.e();
                this.Oi = null ;
                this.as = $("#title", this.el).val();
                this.Bj = $.trim($("#station_description", this.el).html());
                this.NN = $("#description", this.el).val();
                this.Zv();
                this.Zm(!1);
                b = xo($(".likeButton[data-like-type=station]", this.el));
                R(Ev, b);
                this.gw();
                R(ix, this.h);
                _.each($(".section", this.el), r(this, function(b) {
                    this.fA($(b))
                }))
            }), function() {
                z.b(Mh)
            }, !0)
        },
        Qp: function() {
            $(".left_col_buttons", this.el).show();
            this.h && this.h.Cb() || $(".stationDetailsEdit", this.el).show();
            hp() && $(".sample", this.el).show();
            $(".iTunes-badge").hide();
            $(".addButton", this.el).show();
            $(".col2", this.el).show();
            $(".col3", this.el).show();
            $(".i-menu-dropdown-1.menu_dropdown").mouseleave(function() {
                $(this).find(".dropdownmenu_nosample").fadeOut()
            })
        },
        gw: function() {
            this.Bb && this.Bb.close();
            var b = this.model.get("currentUser")
              , b = null != b && b.s == this.h.Zg();
            this.Bb = new dA({
                el: $(".backstage", this.el).get(0),
                model: this.model,
                type: this.Oi ? "music" : "station",
                targetId: this.Oi ? this.Oi : this.ka,
                isTargetOwner: b
            })
        },
        Zv: function() {
            1 == $(".stationSeedsSection li", this.el).length ? $(".stationSeedsSection li .deletable", this.el).hide() : $(".stationSeedsSection li .deletable", this.el).show()
        },
        SO: function(b) {
            var c = b.r();
            if ("addThumbedUpSong" == b.getContext()) {
                var d = c.wa();
                d && d.musicId && z.b(Ui, [c.e(), b.o(), d.musicId])
            } else
                "addSongSeed" != b.getContext() && "addArtistSeed" != b.getContext() || z.b(Vi, [c.e(), b.o()])
        },
        ny: function(b) {
            b[0] == this.ka && this.ut()
        },
        render: function() {
            $(".backstage .header h1", this.el).text(this.h.ca());
            return this
        },
        Iq: function(b) {
            this.ka == b.e() && (this.h = b,
            this.render(),
            this.ut())
        },
        events: {
            "click #playStationButton": "playStationClick",
            "click .likeButton": "likeStationClick",
            "click .show_more": "fetchPage",
            "click .stationDetailsEdit": "stationEditClick",
            "click #cancelEditButton": "cancelEditClick",
            "click #saveEditButton": "saveEditClick",
            "click .addButton": "handleAddClick",
            "click .deletable": "handleDeleteClick",
            "click .stationSectionSort": "handleSortClick",
            "click .sample": "sampleClick",
            "click #shareButton": "shareButtonClick",
            "change #enableArtistMessagesCheckbox": "handleArtistMessagesChange",
            "click  .btn_right .menu_dropdown": "dropDownClick",
            "click .create_station": "playStationClick"
        },
        shareButtonClick: function() {
            var b = this.model.get("currentUser");
            null == b || b.p() ? R(Av, {
                onSuccessRedirect: ez()
            }) : (R(Yu, {
                mode: "station",
                station: this.h
            }),
            s("link", {
                click: "shareButton",
                source: "StationView"
            }, this.model.get("currentUser")))
        },
        sampleClick: function(b) {
            $(b.target).blur();
            b = 0 < $(b.target).parent(".sample").size || $(b.target);
            if (!b.hasClass("sample-inactive"))
                return b.hasClass("playing") ? (z.b(Qi),
                b.removeClass("playing")) : (z.b(Pi, {
                    url: b.data("sampleurl"),
                    gain: null != b.data("samplegain") ? Number(b.data("samplegain")) : 0
                }),
                b.addClass("playing"),
                b = b.data("trackname"),
                $(".iTunes-badge." + b).show()),
                !1
        },
        dropDownClick: function(b) {
            $(b.target).blur();
            b = $(b.target).children(".dropdownmenu_nosample");
            b.css("visibility", "visible");
            b.show()
        },
        Nd: function(b) {
            var c = $(".sample.playing", this.el);
            c.removeClass("playing");
            var d = c.data("trackname");
            $(".iTunes-badge." + d).hide();
            b.isError && c.addClass("sample-inactive").find("a").attr("title", "Sample Unavailable").find("span").html("Sample Unavailable")
        },
        playStationClick: function(b) {
            if (jz(this.model))
                return R(Av, {
                    onSuccessRedirect: ez()
                }),
                !1;
            var c = $(b.target).attr("data-station-id");
            b = $(b.target).data("music-id");
            le(c) ? z.b(Hi, {
                stationCode: "fs" + c,
                source: "station_page"
            }) : le(b) && z.b(Hi, {
                stationCode: "mi" + b,
                source: "station_page"
            });
            return !1
        },
        likeStationClick: function(b) {
            var c = this.model.get("currentUser");
            if (null == c || c.p())
                R(Av, {
                    onSuccessRedirect: ez()
                });
            else
                return (b = $(b.currentTarget).attr("data-like_id")) ? z.b(vj, b) : z.b(uj, {
                    type: this.Oi ? "genrestation" : "station",
                    objectId: this.ka,
                    context: "station_page",
                    contextId: this.ka,
                    contextName: this.h.ca()
                }),
                !1
        },
        jK: function(b) {
            this.h && b.objectId == this.ka && ($("#likeStationButton").addClass("selected"),
            $("#likeStationButton").attr("data-like_id", b.id),
            $("#likeStationButton").text(Ac),
            $("#likeStationButton").css("background-image", "url(/img/likes/liked.png)"))
        },
        lK: function(b) {
            b = yo(b);
            $("#likeStationButton").attr("data-like_id") == b.df && ($("#likeStationButton").removeClass("selected"),
            $("#likeStationButton").removeAttr("data-like_id"),
            $("#likeStationButton").text(Bc),
            $("#likeStationButton").css("background-image", "url(/img/likes/like.png)"))
        },
        Xi: function(b) {
            ey(this.el, b)
        },
        stationEditClick: function() {
            R(hx);
            this.Zm(!0);
            return !1
        },
        cancelEditClick: function() {
            R(hx);
            k.info("Cancelling form");
            $("#title", this.el).val(this.as);
            $("#description", this.el).val(this.NN);
            this.Zm(!1);
            return !1
        },
        saveEditClick: function() {
            R(hx);
            this.as = "";
            this.Bj = "Please wait..";
            this.Zm(!1);
            var b = $("#title", this.el).val()
              , c = $("#description", this.el).val();
            z.b(Ti, [this.ka, b, c]);
            return !1
        },
        Zm: function(b) {
            this.h.Cb() || (b ? ($(".stationDescription").hide(),
            $("#stationEditForm").fadeIn()) : (this.Bj && 0 < this.Bj.length ? ($("#default_description", this.el).hide(),
            $("#station_description", this.el).empty().html(this.Bj),
            $("#station_description", this.el).show()) : ($("#default_description", this.el).show(),
            $("#station_description", this.el).hide()),
            $("#stationEditForm").hide(),
            $(".stationDescription").fadeIn()))
        },
        handleArtistMessagesChange: function() {
            var b = $("#enableArtistMessagesCheckbox").is(":checked");
            z.b(xk, [null != this.Dm ? this.Dm : this.ka, b]);
            return !1
        },
        handleAddClick: function(b) {
            new Uz({
                model: this.model,
                station: this.h,
                context: b.target.id,
                event: Vv
            });
            return !1
        },
        handleDeleteClick: function(b) {
            var c = b.target.getAttribute("data-musicId");
            "seed" == b.target.getAttribute("data-type") ? z.b(Nj, {
                stationID: this.ka,
                seedID: $(b.target).attr("data-seedid")
            }) : R(av, {
                isPositive: $(b.target).closest("ul").hasClass("thumb_up_list"),
                stationID: this.ka,
                musicID: [c]
            });
            $(b.target).parents("li").slideUp(200);
            return !1
        },
        handleSortClick: function(b) {
            var c = $(b.target)
              , d = c.hasClass("sort-dir-ascending");
            $(".stationSectionSort", c.parents(".section")).removeClass("sort-dir-ascending").removeClass("sort-dir-descending");
            d ? (s("link", {
                click: "sortStationsAscending",
                source: "StationView"
            }, this.model.get("currentUser")),
            c.addClass("sort-dir-descending")) : (s("link", {
                click: "sortStationsDescending",
                source: "StationView"
            }, this.model.get("currentUser")),
            c.addClass("sort-dir-ascending"));
            $("." + c.attr("data-sort")).empty();
            this.fetchPage(b);
            return !1
        },
        fA: function(b) {
            var c = $(".sort-dir-ascending", b);
            0 == c.length && (c = $(".sort-dir-descending", b));
            0 == c.length && (c = $(".stationSectionSort", b).last(),
            c.addClass("date" == $(c).attr("data-key") ? "sort-dir-descending" : "sort-dir-ascending"));
            return c
        },
        fetchPage: function(b) {
            b = $(b.target).parents(".section");
            var c = this.fA(b)
              , d = $("." + c.attr("data-sort"))
              , e = $(".show_more:visible", b);
            e.hide();
            var e = 0 == e.length ? 0 : parseInt(e.data("nextstartindex"), 10)
              , h = c.hasClass("sort-dir-ascending")
              , c = c.data("key")
              , l = r(this, function(b) {
                d.append(b);
                this.Zv();
                this.Qp()
            });
            b.hasClass("allSeeds") ? bA("/content/station_all_seeds", {
                stationId: this.ka,
                startIndex: e,
                artistSortAsc: h,
                sortBy: c,
                "cachebuster:": "" + (new Date).getTime()
            }, l) : b.hasClass("thumbedUpSongs") ? bA("/content/station_track_thumbs", {
                stationId: this.ka,
                page: "true",
                posFeedbackStartIndex: e,
                posSortAsc: h,
                posSortBy: c,
                "cachebuster:": "" + (new Date).getTime()
            }, l) : b.hasClass("thumbedDownSongs") && bA("/content/station_track_thumbs", {
                stationId: this.ka,
                page: "true",
                down: "true",
                negFeedbackStartIndex: e,
                negSortAsc: h,
                negSortBy: c,
                "cachebuster:": "" + (new Date).getTime()
            }, l);
            return !1
        }
    });
    function Bz() {}
    Bz = Backbone.View.extend({
        initialize: function() {
            this.na = (new Date).getTime();
            this.track = this.options.track;
            var b = iy(this.model)
              , c = this.model.get("currentStation")
              , d = c;
            d && d.D() && (d = this.model.get("stationList").Rc(this.track.e()));
            this.NF = c;
            b = by("stationSelectorPopup", $("#stationSelectorHeaderTmpl").tmpl(), $("#stationSelectorContentTmpl").tmpl({
                albumArt: this.track.ub(),
                songTitle: this.track.Ja,
                artistSummary: this.track.Y(),
                currentStation: d,
                stations: b
            }), $("#stationSelectorFooterTmpl").tmpl());
            $("body").append($(this.el).append(b));
            Yx($(".scroll-pane", this.el));
            setTimeout(r(this, function() {
                $(".stationSelectorPopup .stationSelectorPopupStation").first().click()
            }), 1);
            V("/song/move/" + this.track.o(), !1, !0);
            R(cx)
        },
        events: {
            "closed .lightbox": "cancelButtonClicked",
            "click .cancelButton": "cancelButtonClicked",
            "click .okButton": "okButtonClicked",
            "click .stationSelectorPopupStation": "stationClicked"
        },
        cancelButtonClicked: function() {
            this.U(null );
            return !1
        },
        okButtonClicked: function() {
            this.U(this.WO);
            return !1
        },
        stationClicked: function(b) {
            $(".stationSelectorPopupStation", this.el).removeClass("selected");
            $(b.target).addClass("selected");
            this.WO = $.tmplItem(b.target).data;
            return !1
        },
        U: function(b) {
            $(this.el).remove();
            this.el = null ;
            null != b && R($v, new My(b,this.track,this.NF))
        }
    });
    function eA() {}
    eA = Backbone.View.extend({
        initialize: function() {
            this.na = (new Date).getTime();
            S(Gu, r(this, this.Ga));
            var b = this.options.title;
            b || (b = Lc());
            var c = this.options.subtitle
              , d = this.options.message;
            d || (d = Kc());
            var e = this.options.yesButtonText;
            e || (e = Nc());
            var h = this.options.noButtonText;
            h || (h = Oc());
            this.Ji = this.options.event;
            b = by("confirmPopup", $("#confirmHeaderTmpl").tmpl({
                title: b
            }), $("#confirmBodyTmpl").tmpl({
                subtitle: c,
                message: d
            }), $("#confirmFooterTmpl").tmpl({
                yesButtonText: e,
                noButtonText: h
            }));
            $("body").append($(this.el).append(b))
        },
        Ga: function(b) {
            this.el && (new Date).getTime() - this.na > Vz && ($(b.target) == this.el || 0 < $(b.target).parents(".lightbox_bg").length || this.U(null ))
        },
        events: {
            "click .yesButton": "yesClicked",
            "click .noButton": "noClicked",
            "closed .lightbox": "noClicked"
        },
        yesClicked: function() {
            this.U(!0);
            return !1
        },
        noClicked: function() {
            this.U(!1);
            return !1
        },
        U: function(b) {
            Xz(this);
            $(this.el).remove();
            this.el = null ;
            b ? R(fw, this.Ji) : R(gw, this.Ji)
        }
    });
    function Gz() {}
    Gz = Backbone.View.extend({
        initialize: function() {
            this.na = (new Date).getTime();
            S(Gu, r(this, this.Ga));
            var b = this.options.title;
            b || (b = Lc());
            var c = this.options.subtitle
              , d = this.options.message;
            d || (d = Kc());
            var e = this.options.yesButtonText;
            e || (e = Nc());
            var h = this.options.noButtonText;
            h || (h = Oc());
            var l = this.options.reverseButtons
              , p = this.options.onlyShowNoButton;
            this.Ji = this.options.event;
            p ? e = [{
                label: h,
                className: "closeBtn noButton"
            }] : (e = [{
                label: e,
                className: "yesButton"
            }, {
                label: h,
                className: "closeBtn noButton"
            }],
            l && (l = e[0],
            e[0] = e[1],
            e[0].className = "noButton",
            e[1] = l,
            e[1].className = "yesButton closeBtn"));
            b = dy($("#onboarding-confirmHeaderTmpl").tmpl({
                title: b
            }), $("#onboarding-confirmBodyTmpl").tmpl({
                subtitle: c,
                message: d
            }), $("#onboarding-confirmFooterTmpl").tmpl({
                buttons: e
            }));
            $("body").append($(this.el).append(b))
        },
        Ga: function(b) {
            this.el && (new Date).getTime() - this.na > Vz && ($(b.target) == this.el || 0 < $(b.target).parents(".lightbox_bg").length || this.U(null ))
        },
        events: {
            "click .yesButton": "yesClicked",
            "click .noButton": "noClicked",
            "closed .lightbox": "noClicked"
        },
        yesClicked: function() {
            this.U(!0);
            return !1
        },
        noClicked: function() {
            this.U(!1);
            return !1
        },
        U: function(b) {
            Xz(this);
            $(this.el).remove();
            this.el = null ;
            b ? R(fw, this.Ji) : R(gw, this.Ji)
        }
    });
    function fA() {}
    fA = Backbone.View.extend({
        initialize: function() {
            this.na = (new Date).getTime();
            S(Gu, r(this, this.Ga));
            this.h = this.options.station;
            var b = by("renameStationPopup", $("#renameStationHeaderTmpl").tmpl(), $("#renameStationContentTmpl").tmpl({
                station: this.h
            }), $("#renameStationFooterTmpl").tmpl());
            $(this.el).append(b);
            $("body").append(this.el);
            $(".renameStationName", this.el).focus()
        },
        Ga: function(b) {
            this.el && (new Date).getTime() - this.na > Vz && ($(b.target) == this.el || 0 < $(b.target).parents(".renameStationPopup").length || this.U(null ))
        },
        events: {
            "click .okButton": "okClicked",
            "click .cancelButton": "cancelClicked",
            "closed .lightbox": "cancelClicked",
            "keyup .renameStationName": "stationNameKey"
        },
        stationNameKey: function(b) {
            if (100 < (new Date).getTime() - this.na)
                if (27 == b.which)
                    this.U(null );
                else if (13 == b.which)
                    return this.okClicked(null )
        },
        okClicked: function() {
            var b = $(".renameStationName", this.el).val();
            this.U(Hd(b));
            return !1
        },
        cancelClicked: function() {
            this.U("");
            return !1
        },
        U: function(b) {
            Xz(this);
            $(this.el).remove();
            this.el = null ;
            null != b && "" != b && z.b(ej, [this.h.e(), b]);
            sz()
        }
    });
    function gA() {}
    gA = Backbone.View.extend({
        events: {
            "closed .lightbox": "cancelClickedHandler",
            "click .okButton": "okClicked",
            "click .cancelButton": "cancelClickedHandler",
            "click .skipButton": "cancelClickedHandler",
            "click #facebookLoginButton": "facebookLoginButtonClick",
            "click #twitterLoginButton": "twitterLoginButtonClick",
            "click #shareStation": "shareStationClick",
            "click #shareSong": "shareSongClick",
            "click #shareViaProfile": "shareViaProfileClickHandler",
            "click #shareViaEmail": "shareViaEmailClick",
            "focus #shareStationTo": "shareStationToFocus",
            "change #shareSocialNetworkSelectFacebook": "shareFacebookChange",
            "change #shareSocialNetworkSelectTwitter": "shareTwitterChange",
            "click .startLoginFacebook": "startFacebookLogin",
            "click .startLoginTwitter": "startTwitterLogin",
            "focus #shareStationMessage": "shareStationMessageFieldFocus",
            "keypress #shareStationMessage": "shareStationMessageFieldKeyPress",
            "keyup #shareNameInput": "shareStationNameChange",
            "blur #shareNameInput": "validateStationNameChangeHandler",
            "change #shareStationMessage": "storeUserInputMessage"
        },
        initialize: function() {
            z.c(Hg, r(this, this.Gq));
            z.c(rh, r(this, this.DI));
            this.model.bind("change:twitterAuthenticated", r(this, this.St));
            this.model.bind("change:facebookAuthenticated", r(this, this.St));
            this.Uz = "/";
            S(Zu, r(this, function(b) {
                this.nd = "song" == b.mode;
                this.Uz = b.returnHash;
                this.mode = b.mode;
                this.track = b.track;
                this.Nc = b.album;
                this.h = b.station;
                this.Wd = b.relatedArtists ? b.relatedArtists : this.model.get("relatedArtists");
                this.h && !0 == this.h.D() || (this.track instanceof zo ? (this.mode = "station",
                this.nd = !1) : this.track instanceof Bo && (this.mode = "song",
                this.nd = !0));
                this.render()
            }));
            $("body").append(this.el)
        },
        render: function() {
            this.na = (new Date).getTime();
            S(Gu, r(this, this.Ga));
            var b = this.model.get("currentUser")
              , c = this.track ? this.track.Ja : ""
              , d = this.track ? this.track.Y() : ""
              , e = this.track ? this.track.jb : ""
              , h = this.h && (this.h.Cb() || null == this.Wd && !this.h.wa()) ? _.escape(this.h.Ol()).replace(/\n/g, "<br>") : _.escape(this.Wd);
            this.h && this.h.Ha() && this.h.Z() && (h = this.zi("your"));
            var l = "";
            this.h && this.h.Ha() && this.model.get("facebookAuthenticated") && (l = ko(this.model.get("currentUser")),
            this.An(l));
            var p = "";
            if (this.h && this.h.Ha()) {
                var p = Id(this.h.ca())
                  , q = Id(this.h._originalStationShareName)
                  , p = this.zi(p);
                this.An(q)
            }
            this.track instanceof Bo && (c = "Message from " + d,
            p = this.Hw());
            b = by("shareStationPopup", $("#shareStationHeaderTmpl").tmpl(), $("#shareStationContentTmpl").tmpl({
                profileImage: Gd(b, !0),
                stationArt: this.Si(),
                albumArt: this.ub(),
                station: this.h,
                description: h,
                sharedDescription: p,
                defaultShareName: "Enter Your Name",
                fbName: l,
                isCustomContentTrack: this.track ? this.track instanceof In : !1,
                isArtistMessageTrack: this.track ? this.track instanceof Bo : !1,
                trackSongTitle: c,
                trackArtistSummary: d,
                trackAlbumTitle: e,
                album: this.Nc
            }), $("#shareStationFooterTmpl").tmpl());
            $(this.el).empty().append(b);
            this.St();
            $("#shareStationName", this.el).focus();
            this.Rs();
            this.lA();
            this.h && ($("#shareNameInput").val(Id(yn(this.h))),
            this.h.Ha() && this.model.get("facebookAuthenticated") && this.h.Z() && this.An(l));
            $(this.el).show()
        },
        St: function() {
            var b = this.model.get("currentUser");
            null != b && ($(".profileImage", $(this.el)).attr("src", Gd(b, !0)),
            this.model.get("facebookAuthenticated") ? ($(".facebook_logged_in", $(this.el)).show(),
            $(".facebook_not_logged_in", $(this.el)).hide(),
            $("#shareSocialNetworkSelectFacebook", $(this.el)).prop("checked", !0)) : ($(".facebook_logged_in", $(this.el)).hide(),
            $(".facebook_not_logged_in", $(this.el)).show(),
            $("#shareSocialNetworkSelectFacebook", $(this.el)).prop("checked", !1)),
            this.model.get("twitterAuthenticated") && !me(b.$d) ? ($(".twitter_logged_in", $(this.el)).show(),
            $(".twitter_not_logged_in", $(this.el)).hide(),
            $("#shareSocialNetworkSelectTwitter", $(this.el)).prop("checked", !0)) : ($(".twitter_logged_in", $(this.el)).hide(),
            $(".twitter_not_logged_in", $(this.el)).show(),
            $("#shareSocialNetworkSelectTwitter", $(this.el)).prop("checked", !1)))
        },
        ub: function() {
            return null != this.track ? this.track.ub() : null != this.Nc ? this.Nc.albumArt : null != this.h ? this.Si() : null
        },
        Si: function() {
            var b = null ;
            if (this.h) {
                if (this.h.Ha())
                    return this.h._stationArt;
                b = this.h._stationArt;
                b || (b = (b = this.h.wa()) && null != b.song ? b.song.artUrl : b && null != b.artist ? b.artist.artUrl : mn() + "img/no_album_art.png")
            }
            return b
        },
        Rs: function() {
            "song" == this.mode ? ($(".shareStationOrSong", this.el).hide(),
            this.iA()) : "album" == this.mode ? ($(".shareStationOrSong", this.el).hide(),
            this.oP()) : "station" == this.mode ? ($(".shareStationOrSong", this.el).hide(),
            this.jA()) : ($(".shareStationOrSong", this.el).show(),
            this.nd ? this.iA() : this.jA());
            $(".shareInfoData div").truncate({
                width: 275
            });
            $("#shareSocialNetworkSelectFacebook:visible").prop("checked", Im());
            $("#shareSocialNetworkSelectTwitter:visible").prop("checked", Hm())
        },
        Y: function() {
            return this.track ? me(this.track.wo) ? this.track.Y() : this.track.wo : this.Nc ? me(this.Nc.composerName) ? this.Nc.artistSummary : this.Nc.composerName : ""
        },
        iA: function() {
            this.track instanceof Jn ? (this.md = "I'm listening to " + this.h.ca() + " #LIVE on #pandora. Join me now!",
            this.Le = "I'm listening to " + (this.track.Gc ? this.track.Gc : this.h.ca()) + " #LIVE on #pandora. Join me now!") : this.track instanceof Bo ? (this.md = "Check out this audio message from " + this.Y() + " on Pandora",
            this.Le = "Check out this audio message from " + (this.track.Gc ? this.track.Gc : this.Y()) + " on @pandoramusic. #Pandora") : (this.md = "I'm listening to \"" + this.track.Ja + '" by ' + this.Y() + " on Pandora",
            this.Le = "I'm listening to \"" + this.track.Ja + '" by ' + (this.track.Gc ? this.track.Gc : this.Y()) + " on @pandoramusic. #Pandora");
            this.Lb ? $("#shareStationMessage", this.el).val(this.Lb) : this.track instanceof In ? $("#shareStationMessage", this.el).val('Write a message about "' + this.track.Ja + '" from ' + this.Y() + " to share with your friends...") : this.track instanceof Jn ? $("#shareStationMessage", this.el).val(this.md) : this.track instanceof Bo ? $("#shareStationMessage", this.el).val("Write a message about this audio message by " + this.Y() + " to share with your friends...") : $("#shareStationMessage", this.el).val('Write a message about "' + this.track.Ja + '" by ' + this.Y() + " to share with your friends...");
            $("#shareStationInfo", this.el).hide();
            $("#shareAlbumInfo", this.el).hide();
            $("#shareTrackInfo", this.el).show();
            $("#shareHeaderStation", this.el).hide();
            $("#shareHeaderAlbum", this.el).hide();
            this.track instanceof Bo ? ($("#shareHeaderArtistMessage", this.el).show(),
            $("#shareHeaderSong", this.el).hide()) : ($("#shareHeaderArtistMessage", this.el).hide(),
            $("#shareHeaderSong", this.el).show())
        },
        oP: function() {
            this.md = "I'm listening to \"" + this.Nc.albumTitle + '" by ' + this.Y() + " on Pandora";
            this.Lb ? $("#shareStationMessage", this.el).val(this.Lb) : $("#shareStationMessage", this.el).val('Write a message about "' + this.Nc.albumTitle + '" by ' + this.Y() + " to share with your friends...");
            $("#shareStationInfo", this.el).hide();
            $("#shareAlbumInfo", this.el).show();
            $("#shareTrackInfo", this.el).hide();
            $("#shareHeaderStation", this.el).hide();
            $("#shareHeaderAlbum", this.el).show();
            $("#shareHeaderSong", this.el).hide();
            $("#shareHeaderArtistMessage", this.el).hide()
        },
        zg: function(b, c, d, e, h) {
            d = d ? "@pandoramusic. #Pandora" : "Pandora";
            c = c ? "#LIVE " : "";
            var l = e ? 'Check out "' : "I'm listening to \"";
            e && (b = b.replace("Thumbprint Radio", "#ThumbprintRadio"));
            return l + b + '" ' + c + "on " + d + h
        },
        Kz: function() {
            var b = yn(this.h)
              , c = this.h._stationNameWithTwitterHandle;
            this.track instanceof Jn ? (this.md = this.zg(this.Y(), !0, !0, !1, ". Join me now! " + this.track.Ix()),
            this.Le = this.zg(this.track.Gc ? this.track.Gc : this.Y(), !0, !0, !1, "")) : this.h.Ha() ? (this.md = this.zg(b, !1, !1, !0, ""),
            this.Le = this.zg(b, !1, !0, !0, "")) : (this.md = this.zg(b, !1, !1, !1, ""),
            this.Le = this.zg(c ? c : b, !1, !0, !1, ""))
        },
        jA: function() {
            this.Kz();
            this.Lb ? $("#shareStationMessage", this.el).val(this.Lb) : this.track instanceof Jn ? $("#shareStationMessage", this.el).val(this.md) : $("#shareStationMessage", this.el).val('Write a message about "' + this.h.ca() + '" to share with your friends...');
            $("#shareStationInfo", this.el).show();
            $("#shareAlbumInfo", this.el).hide();
            $("#shareTrackInfo", this.el).hide();
            $("#shareHeaderStation", this.el).show();
            $("#shareHeaderAlbum", this.el).hide();
            $("#shareHeaderSong", this.el).hide();
            $("#shareHeaderArtistMessage", this.el).hide()
        },
        Ga: function(b) {
            this.el && (new Date).getTime() - this.na > Vz && ($(b.target) == this.el || 0 < $(b.target).parents(".shareStationPopup").length || 0 < $(b.target).parents(".shareVehicleAuthPopup").length || 0 < $(b.target).parents(".toastContainer").length || this.sw())
        },
        validateStationNameChangeHandler: function() {
            return this.eB.apply(this, arguments)
        },
        shareFacebookChange: function(b) {
            b = $(b.target).is(":checked");
            um(fm, b)
        },
        shareTwitterChange: function(b) {
            b = $(b.target).is(":checked");
            um(em, b)
        },
        startFacebookLogin: function() {
            z.b(pj);
            return !1
        },
        startTwitterLogin: function() {
            R(sv, null );
            return !1
        },
        shareStationToFocus: function() {
            $("#shareStationTo").data("hasdefaulttext") && ($("#shareStationTo").text(""),
            $("#shareStationTo").data("hasDefaultText", !1))
        },
        shareViaProfileClickHandler: function(b) {
            return this.lA.apply(this, arguments)
        },
        lA: function() {
            this.Ig = !1;
            $("#shareViaEmail", this.el).show();
            $("#shareViaProfile", this.el).hide();
            $("#shareToEmailForm", this.el).hide();
            $("#shareSocialNetworkSelect", this.el).show();
            $(".shareVehiclePandora", this.el).show();
            $(".shareVehicleEmail", this.el).hide();
            return !1
        },
        shareViaEmailClick: function() {
            this.Ig = !0;
            $("#shareViaEmail", this.el).hide();
            $("#shareViaProfile", this.el).show();
            $("#shareToEmailForm", this.el).show();
            $("#shareSocialNetworkSelect", this.el).hide();
            $(".shareVehiclePandora", this.el).hide();
            $(".shareVehicleEmail", this.el).show();
            return !1
        },
        shareStationClick: function() {
            this.nd = !1;
            this.Rs()
        },
        shareSongClick: function() {
            this.nd = !0;
            this.Rs()
        },
        shareStationMessageFieldFocus: function() {
            this.Lb ? $("#shareStationMessage", this.el).val(this.Lb) : this.track instanceof Bo ? (this.kr() ? $("#shareStationMessage", this.el).val(this.Le) : $("#shareStationMessage", this.el).val(this.md),
            this.b4()) : $("#shareStationMessage", this.el).val("")
        },
        eB: function() {
            var b = $("#shareNameInput").val();
            if (this.vL(b))
                return $("#required-reminder").removeClass("invalidField"),
                $("label[for='shareNameInput']").removeClass("invalidField"),
                this.h.Ha() && this.Kz(),
                !0;
            $("#required-reminder").addClass("invalidField");
            $("label[for='shareNameInput']").addClass("invalidField");
            return !1
        },
        vL: function(b) {
            return null != b && 0 < $.trim(b).length
        },
        JF: function(b) {
            return this.h.Ha() ? b + "'s Thumbprint Radio" : this.h.ca()
        },
        An: function(b) {
            var c = this.JF(b);
            $(".stationShareName").text(c);
            $(".stationShareDescription").text(this.zi(b));
            this.h._stationShareName = c
        },
        shareStationNameChange: function() {
            var b = $("#shareNameInput").val();
            this.An(b)
        },
        zi: function(b) {
            if (this.h.Ha()) {
                var c = this.h.qq();
                return "your" != b ? "Music inspired by " + (b + "'s") + " " + c + " thumbs from across all their stations." : "Music inspired by your " + c + " thumbs from across all your stations."
            }
            return this.h.Ol()
        },
        Hw: function() {
            var b = this.h ? yn(this.h) : null ;
            return "Hear an audio message from " + this.Y() + " and tune into " + (b ? b : this.Y() + " Radio") + " on Pandora"
        },
        shareStationMessageFieldKeyPress: function() {
            if (!$("#shareStationMessage").val() && this.kr()) {
                var b = " #Pandora";
                ("song" == this.mode || "album" != this.mode && "station" != this.mode && this.nd) && this.track.Gc && (b = " " + this.track.Gc + b);
                $("#shareStationMessage").val(b);
                $("#shareStationMessage")[0].setSelectionRange(0, 0)
            }
        },
        cancelClickedHandler: function(b) {
            return this.sw.apply(this, arguments)
        },
        sw: function() {
            this.U();
            this.Lb = null ;
            return !1
        },
        okClicked: function() {
            if (this.h && this.h.Ha() && this.h.Z() && !this.eB($("#shareNameInput").val()))
                return $("#shareNameInput").focus(),
                !1;
            !this.Wd && this.model.get("relatedArtists") && (this.Wd = this.model.get("relatedArtists"));
            this.cb = this.ZE();
            this.Cd = [];
            if (null != this.cb)
                this.jt = !1,
                this.hp({
                    doFacebook: this.cb.doFacebook && this.model.get("facebookAuthenticated"),
                    doTwitter: this.cb.doTwitter && this.model.get("twitterAuthenticated")
                });
            else
                return !1;
            this.Lb = null ;
            return !1
        },
        storeUserInputMessage: function() {
            this.Lb = Hd(String($("#shareStationMessage", this.el).val()));
            0 >= this.Lb.length ? $("#shareStationMessage", this.el).removeClass("edited") : $("#shareStationMessage", this.el).addClass("edited")
        },
        ZE: function() {
            var b = null == this.Lb ? "" : Hd(String(this.Lb))
              , c = Hd(String(this.md))
              , d = this.Le ? Hd(String(this.Le)) : c
              , e = this.h ? yn(this.h) : null
              , h = this.model.get("currentUser")
              , l = this.mL()
              , p = this.kr()
              , q = null ;
            if (this.Ig) {
                var q = String($("#shareStationTo", this.el).val()), t;
                a: {
                    var y = !1;
                    t = q.split(",");
                    for (var E = 0; E < t.length; E++) {
                        var I = jQuery.trim(t[E]);
                        if (0 < I.length) {
                            var y = I
                              , I = y.indexOf("@")
                              , N = y.length
                              , U = y.indexOf(".");
                            if (-1 != y.indexOf("@") && 0 != I && I != N - 1 && -1 != U && 0 != U && "." != y.substr(N - 1, N) && -1 == y.indexOf("@", I + 1) && "." != y.substring(I - 1, I) && "." != y.substring(I + 1, I + 2) && -1 != y.indexOf(".", I + 2) && -1 == y.indexOf(" "))
                                y = !0;
                            else {
                                t = !1;
                                break a
                            }
                        }
                    }
                    t = y
                }
                if (!t)
                    return (new X({
                        message: Hb([Ib()])
                    })).render(),
                    null ;
                t = 0 == b.length ? c : b;
                t = t.toLowerCase();
                if (!(0 <= t.indexOf("http:") || 0 <= t.indexOf("https:") || 0 <= t.indexOf("www.") || t.replace(/<[^>]*?>/gi, "").length != t.length || -1 < t.search("([!#-'*+\\-\\/-9=?A-Z^-~]+[.])*[!#-'*+\\-\\/-9=?A-Z^-~]+@(((?:(?:[\\da-zA-Z](?:[-\\da-zA-Z]{0,61}[\\da-zA-Z])?)\\.)+(?:[a-zA-Z](?:[-\\da-zA-Z]{0,6}[\\da-zA-Z])?)\\.?))(\\:\\d+)?") ? 0 : 0 < t.length))
                    return (new X({
                        message: Hb([Jb()])
                    })).render(),
                    null
            }
            var pa, Ia, fb, gb, ua, y = this.track ? this.track.Ja : null , I = this.track ? this.track.Y() : null , N = this.track ? this.track.jb : null , U = null ;
            ua = "";
            var ta = this.track ? this.track.bi : null ;
            l ? ua += "&site=facebook&shareImp=true" : p && (ua += "&site=twitter&shareImp=true");
            var T = h.PK;
            le(T) && "/" == T.charAt(T.length - 1) && (T = T.substring(0, T.length - 1));
            "song" == this.mode ? (this.track instanceof Bo ? (E = t = gb = this.track.TC,
            y = "Message from " + this.Y(),
            Ia = "Listen at Pandora",
            pa = this.Hw(),
            U = this.track.he) : (t = T + "?ext_lsfmi=mf" + this.track.o() + "%7C%7C" + h.s + ua + "&seed=song",
            E = T + "/" + this.track.bi + "?referrer=" + h.X + ua + "&seed=song"),
            ua = this.track.ub()) : "station" == this.mode ? (t = T + "/land/station/" + this.h.Jd() + "?referrer=" + h.X + ua + "&seed=station",
            E = T + "/land/station/" + this.h.Jd() + "?referrer=" + h.X + ua + "&seed=station",
            ua = this.Si(),
            pa = this.h && (this.h.Cb() || null == this.Wd && !this.h.wa()) ? this.zi(Id(yn(this.h))) : e + " on Pandora will play music by " + this.Wd) : this.nd ? (E = (this.track.Pk ? this.track.Pk : "/station/play/" + this.track.bi).replace(/&?site=[^&]+/, ua) + "&referrer=" + h.X + "&seed=song&station=" + this.h.Jd(),
            this.track.po ? t = T + "?ext_lsfmi=mf" + this.track.o() + "%7C" + this.h.e() + "%7C" + h.s + ua + "&seed=song" : (ta = (this.track.Pk ? this.track.Pk : "/station/play/" + this.track.bi).replace(/&?site=[^&]+/, ua).replace(/^http:\/\/[^\/]*/, ""),
            t = E),
            fb = T + "/land/station/" + this.h.Jd() + "?referrer=" + h.X + ua + "&seed=song",
            ua = this.track.ub()) : (t = T + "/land/station/" + this.h.Jd() + "?referrer=" + h.X + ua + "&seed=station&shareName=" + Id(yn(this.h)),
            E = T + "/land/station/" + this.h.Jd() + "?referrer=" + h.X + ua + "&seed=station&shareName=" + Id(yn(this.h)),
            ua = this.Si(),
            this.h && this.h.Cb() && (ta = this.h.e() + "/" + this.track.o() + "/" + this.track.bi),
            pa = this.h && (this.h.Cb() || null == this.Wd && !this.h.wa()) ? this.zi(Id(yn(this.h))) : e + " on Pandora will play music by " + this.Wd);
            this.h && this.h.wa() ? (T = this.h.wa(),
            T = "string" == typeof T ? T : T.musicId) : T = null ;
            return {
                doFacebook: l,
                doProfile: !this.Ig,
                doTwitter: p,
                doEmail: this.Ig,
                isSongShare: this.nd,
                emails: q,
                userMessage: b,
                defaultMessage: c,
                defaultTwitterMessage: d,
                facebookDescription: pa,
                facebookCaption: Ia ? Ia : null ,
                stationName: e,
                isCustomContentTrack: this.track ? this.track instanceof In : !1,
                relatedArtistNames: this.Wd,
                directUrl: t,
                landingUrl: E,
                shortenedUrl: gb,
                stationLandingUrl: fb,
                artUrl: ua,
                fbShareArt: this.h ? this.h._fbShareArt : this.Si(),
                webname: h.X,
                stationToken: this.h ? this.h.Jd() : null ,
                stationId: this.h ? this.h.e() : null ,
                stationInitialSeed: T,
                musicId: this.track ? this.track.o() : null ,
                songToken: this.track ? this.track.Bv : null ,
                songDetailToken: ta,
                songName: y,
                artistName: I,
                albumName: N,
                artistMessageArtistUid: U
            }
        },
        mL: function() {
            return !this.Ig && 0 < $("#shareSocialNetworkSelectFacebook:checked", this.el).length
        },
        kr: function() {
            return !this.Ig && 0 < $("#shareSocialNetworkSelectTwitter:checked", this.el).length
        },
        twitterLoginButtonClick: function() {
            this.hp({
                doProfile: !1,
                doFacebook: !1,
                doTwitter: !0,
                doEmail: !1
            })
        },
        facebookLoginButtonClick: function() {
            this.hp({
                doProfile: !1,
                doFacebook: !0,
                doTwitter: !1,
                doEmail: !1
            })
        },
        hp: function(b) {
            var c = {}, d;
            for (d in this.cb)
                c[d] = this.cb[d];
            if (null != b)
                for (d in b)
                    c[d] = b[d];
            this.h && this.h.Ha() && (c.shareName = Id(yn(this.h)));
            c.doEmail || c.doProfile || c.doFacebook || c.doTwitter ? z.b(this.nd ? oj : nj, c) : this.Gq({})
        },
        Gq: function(b) {
            this.U();
            clearTimeout(this.EQ);
            b.profile && (this.cb.doProfile = !1,
            this.Cd.push('your <a href="/profile">Pandora Profile</a>'));
            b.facebook && (this.cb.doFacebook = !1,
            this.Cd.push("Facebook"));
            b.twitter && (this.model.set({
                twitterAuthenticated: !0
            }),
            this.cb.doTwitter = !1,
            this.Cd.push("Twitter"));
            b.email ? this.jt || (new X({
                message: xc([this.cb.isSongShare ? this.cb.songName : this.cb.stationName])
            })).render() : this.EQ = setTimeout(r(this, function() {
                if (!this.jt && 0 < this.Cd.length) {
                    var b;
                    2 >= this.Cd.length ? b = this.Cd.join(" and ") : (b = this.Cd.shift() + ", ",
                    b += this.Cd.join(" and "));
                    (new X({
                        message: yc([b])
                    })).render();
                    this.Cd = []
                }
            }), 1500);
            var c = !b.email && this.cb && this.cb.doFacebook && !this.model.get("facebookAuthenticated")
              , d = !b.email && this.cb && this.cb.doTwitter && !this.model.get("twitterAuthenticated");
            if (c || d)
                c = by("shareVehicleAuthPopup", $("#shareVehicleAuthHeaderTmpl").tmpl(), $("#shareVehicleAuthContentTmpl").tmpl({
                    showTwitter: d,
                    showFacebook: c,
                    showFacebookAuthenticated: this.cb.doFacebook && this.model.get("facebookAuthenticated"),
                    showTwitterAuthenticated: this.cb.doTwitter && this.model.get("twitterAuthenticated"),
                    facebookConnectName: ko(this.model.get("currentUser"))
                }), $("#shareVehicleAuthFooterTmpl").tmpl()),
                $(this.el).empty().append(c).show();
            s("share", {
                share_object: "song" == this.mode ? "song" : "station" == this.mode ? "station" : this.nd ? "song" : "station",
                source: "unknown",
                pandora: b.profile ? "true" : "false",
                twitter: b.twitter ? "true" : "false",
                twitter_handle: b.twitterHandle ? b.twitterHandle : "",
                facebook: b.facebook ? "true" : "false",
                email: b.email ? "true" : "false",
                object_id: this.h.e()
            }, this.model.get("currentUser"));
            this.track instanceof Bo && s("aam_listener_share_complete", {
                vendor_id: u,
                station_id: this.h.e(),
                artist_uid: this.track.he,
                message_id: this.track.Qb,
                pandora: b.profile ? "true" : "false",
                twitter: b.twitter ? "true" : "false",
                facebook: b.facebook ? "true" : "false",
                email: b.email ? "true" : "false"
            }, this.model.get("currentUser"))
        },
        U: function() {
            R(kx);
            Xz(this, Gu);
            $(this.el).empty();
            V(this.Uz, !0, !0)
        },
        DI: function(b) {
            this.jt = !0;
            (new X({
                message: b
            })).render();
            this.Gq({})
        }
    });
    function yz() {}
    yz = Backbone.View.extend({
        ii: "wwwpandoracom-20",
        initialize: function() {
            this.aF = this.options.buyButton;
            this.xg = this.options.buyMenu;
            this.Kw = this.options.cssBeforeOpen;
            this.cF = new dz(this.aF,null ,this.xg);
            this.cF.ym = r(this, function(b) {
                this.xg.empty().append($("#buyMenuTmpl").tmpl({
                    iTunesUrl: this.gj && 0 < jQuery.trim(this.gj).length ? this.gj : null ,
                    amazonUrl: this.Wk && 0 < jQuery.trim(this.Wk).length ? this.Wk : null ,
                    amazonDigitalAsin: this.ji && 0 < jQuery.trim(this.ji).length ? this.ji : null
                }));
                this.Kw && this.xg.css(this.Kw(b));
                $(".buyOnITunes", this.xg).click(r(this, this.fF));
                $(".buyOnAmazon", this.xg).click(r(this, this.dF));
                $(".buyOnAmazonMp3", this.xg).click(r(this, this.eF))
            })
        },
        Fh: function(b, c, d) {
            this.gj = b;
            this.Wk = c;
            this.ji = d;
            "US" != gp() && (this.ji = this.gj = null )
        },
        Ms: function(b, c) {
            this.KE = b;
            this.JE = c
        },
        YO: function(b) {
            this.yE = b
        },
        gA: function(b, c, d) {
            this.IQ = b;
            this.GQ = c;
            this.hh = d
        },
        kP: function(b) {
            this.Ms(b.Ye, b.Y());
            this.gA(b.o(), b.Ja, b.hh());
            this.Fh(b.Fo, b.qo, b.oo)
        },
        fF: function() {
            var b = this.gj + "&ct=Web";
            this.ed("itunes", b);
            R(Fv);
            window.open(b, "_blank");
            return !1
        },
        dF: function() {
            var b = this.Wk + "&tag=" + this.ii;
            this.ed("amazonCD", b);
            R(Fv);
            window.open(b, Ae() ? "pandoraAmazon" : "_blank");
            return !1
        },
        eF: function() {
            var b = "http://www.amazon.com/dp/" + this.ji + "/?&tag=" + this.ii;
            this.ed("amazonMp3", b);
            R(Fv);
            window.open(b, Ae() ? "pandoraAmazon" : "_blank");
            return !1
        },
        ed: function(b, c) {
            s("buy", {
                store: b,
                source_url: window.location.href,
                destination_url: c,
                track_uid: this.IQ,
                featured_track: this.hh,
                track_name: this.GQ,
                album_uid: this.yE,
                artist_uid: this.KE,
                artist_name: this.JE,
                listener_type: this.model.get("currentUser").u,
                platform: "web"
            }, this.model.get("currentUser"));
            wp(null )
        }
    });
    function hA() {}
    hA = Backbone.View.extend({
        el: $(".stationContent #promobox"),
        initialize: function() {
            this.Hz = null ;
            this.Ai = "#content_a";
            this.sr = (new Date).getTime();
            this.model.bind("change:currentUser", r(this, this.render));
            setInterval(r(this, this.scrollPromoBox), 15E3);
            $('a[rel="tooltip"]').each(function() {
                new Rz($(this),$(this).attr("title"))
            })
        },
        Iz: "/static/promo/",
        render: function() {
            var b = this.model.get("currentUser");
            null != b && (b = this.Iz + "manifest." + (null != b && b.J() ? "free" : "subscriber") + ".json",
            this.Hz != b && (this.Hz = b,
            this.jd = [],
            this.ob = 0,
            this.Lm = {},
            this.ij = !0,
            bA(b, {
                cachebuster: "" + (new Date).getTime()
            }, r(this, function(b) {
                this.jd = _.reject(b, function(b) {
                    return b.country && b.country != gp()
                });
                this.ob = Math.floor(Math.random() * this.jd.length);
                this.Rm();
                this.tO()
            }))))
        },
        tO: function() {
            for (var b = "<ul>", c = 0; c < this.jd.length; c++)
                b += '<li class="dot">&nbsp;</li>';
            b += "</ul>";
            $(".dots", this.el).empty().append(b)
        },
        Rm: function(b) {
            this.jd && (null == this.Lm[this.ob] ? this.EL(b) : this.Uw(b))
        },
        Uw: function() {
            var b = this.Lm[this.ob].htmlElem
              , c = this.Lm[this.ob].adType
              , d = $("#content_a" == this.Ai ? "#content_b" : "#content_a", this.el);
            d.empty().append(b);
            Pp({
                action: "promo_display",
                promo_type: c,
                source: "PromoBoxView"
            }, this.model.get("currentUser"));
            try {
                $("a", d)[0].setAttribute("adType", c)
            } catch (e) {
                k.error("displayPromoItem error inserting adType into anchor element: " + e)
            }
            $(this.Ai, this.el).fadeOut();
            $(".dot", this.el).removeClass("selected");
            $(".dot", this.el).eq(this.ob).addClass("selected");
            $("#content_a" == this.Ai ? "#content_b" : "#content_a", this.el).fadeIn(400, r(this, function() {
                this.Ai = "#content_a" == this.Ai ? "#content_b" : "#content_a";
                this.ij = !1
            }))
        },
        EL: function(b) {
            this.ij = !0;
            bA(this.Iz + this.jd[this.ob].url, {
                cachebuster: "" + (new Date).getTime()
            }, r(this, function(c) {
                this.Lm[this.ob] = {
                    htmlElem: c,
                    adType: this.jd[this.ob].type
                };
                this.Uw(b)
            }), function(b, d) {
                (new X({
                    message: "Error loading content textStatus=" + b + " error=" + d
                })).render();
                this.ij = !1
            })
        },
        events: {
            "click #scrollLeft": "scrollLeftClick",
            "click #scrollRight": "scrollRightClick",
            "click #content_a": "handlePromoBoxClick",
            "click #content_b": "handlePromoBoxClick",
            "click .dot": "dotClick"
        },
        handlePromoBoxClick: function(b) {
            try {
                var c = "undefined";
                try {
                    var d = $(b.target).context.parentNode;
                    d.getAttribute("adType") && (c = d.getAttribute("adType"))
                } catch (e) {
                    k.error("Error collecting info from promo box anchor element" + e)
                }
                Pp({
                    action: "box_click",
                    promo_type: c,
                    source: "PromoBoxView"
                }, this.model.get("currentUser"))
            } catch (h) {
                k.error("Error collecting info from promo box" + h)
            }
        },
        dotClick: function(b) {
            Pp({
                action: "dot_click",
                source: "PromoBoxView"
            }, this.model.get("currentUser"));
            $(b.target).hasClass("selected") || (this.ob = $(b.target).index(),
            this.Rm("left"),
            R(Nw));
            return !1
        },
        mouseOverPromobox: function() {
            $("#scrollLeft", this.el).fadeIn();
            $("#scrollRight", this.el).fadeIn()
        },
        mouseOutPromobox: function() {
            $("#scrollLeft", this.el).fadeOut();
            $("#scrollRight", this.el).fadeOut()
        },
        scrollLeftClick: function() {
            if (this.jd) {
                this.sr = (new Date).getTime();
                if (this.ij)
                    return;
                this.ob--;
                0 > this.ob && (this.ob = this.jd.length - 1);
                this.Rm("left")
            }
            return !1
        },
        scrollRightClick: function() {
            if (this.jd) {
                this.sr = (new Date).getTime();
                if (this.ij)
                    return;
                this.ob++;
                this.ob >= this.jd.length && (this.ob = 0);
                this.Rm("right")
            }
            return !1
        },
        scrollPromoBox: function() {
            12E4 < (new Date).getTime() - this.sr && (Pp({
                action: "auto_scroll",
                source: "PromoBoxView"
            }, this.model.get("currentUser")),
            this.scrollRightClick())
        }
    });
    function iA() {}
    iA = Backbone.View.extend({
        initialize: function() {
            z.c(Ee, r(this, function() {
                this.xl()
            }));
            S(Fw, r(this, this.xl));
            S(Ew, r(this, this.kc));
            this.du = "#adLayout";
            this.Ec = "#mainContentContainer";
            this.Te = "#footer";
            this.ra = "#ad_container";
            this.rd = "#advertisement";
            this.Nb = "#companion_frame";
            this.sm = !1;
            this.L3 = null ;
            this.ho = "/radioAdEmbedGPT.html";
            this.fo = "/radioAdEmbedAsyncGPT.html"
        },
        render: function(b, c) {
            this.yl = !1;
            $(this.ra).show();
            $("body").hasClass("width-p1-noAds") && $("body").removeClass("width-p1-noAds");
            $("body").hasClass("adSupported-layout") || (R(kw),
            $("body").addClass("adSupported-layout"),
            R(lw));
            var d = c ? this.Nb : this.rd;
            if (null != b) {
                var e = "ad" + (new Date).getTime();
                b += (-1 == b.indexOf("?") ? "?" : "&") + "cb=" + je();
                var h = '<IFRAME id="' + e + '" src="' + b + '" frameborder="0" scrolling="no" marginheight="0" marginwidth="0" topmargin="0" leftmargin="0" allowtransparency="true" width="100%" height="100%"></IFRAME>'
                  , l = null ;
                c || ($(this.ra).hasClass("masthead_ad") && (this.sm = !0,
                l = $(this.ra).height(),
                $(this.ra).height(l)),
                l = $(this.ra).fadeTo("slow", 0.01));
                $.when(l).done(r(this, function() {
                    c || (zy = null );
                    $(this.Nb).html("");
                    $(d).removeClass("inactive").removeClass("invisible").addClass("active").addClass("visible");
                    var b = (new Date).getTime();
                    $(d).html(h);
                    var l = "#" + e
                      , t = this;
                    $(l).bind("load", this, function(d) {
                        var e = 3;
                        (function N() {
                            var h = d.target && d.target.contentWindow && d.target.contentWindow.adType
                              , pa = d.target.contentWindow && d.target.contentWindow.requestUrl
                              , Ia = d.target.contentWindow && d.target.contentWindow.creativeId
                              , fb = d.target.contentWindow && d.target.contentWindow.lineItemId
                              , gb = se();
                            if (null == h) {
                                if (0 < e) {
                                    k.debug("Ad iFrame rendered: adType is not ready. Retries: " + e);
                                    e--;
                                    setTimeout(N, 500);
                                    return
                                }
                                k.debug("Ad iFrame rendered: adType was not ready. No retries left!")
                            }
                            k.debug("Ad iFrame: Checking adType: ", h);
                            var ua = null ;
                            !c && t.sm && "masthead" != h && "masthead_with_companion" != h && (t.sm = !1,
                            ua = $(t.ra).animate({
                                height: "0"
                            }, 1E3));
                            $.when(ua).done(r(this, function() {
                                var c = (new Date).getTime() - b
                                  , e = t.model ? t.model.get("currentUser") : null ;
                                e && e.HB && s("gpt_render_duration", {
                                    duration: c,
                                    ua: navigator.userAgent,
                                    browser: gb,
                                    site_version: window._pandoraVersion,
                                    flash_ver: te(),
                                    is_gpt: "true"
                                }, e);
                                d.data.YL(h, l, pa, Ia, fb, gb)
                            }))
                        })()
                    })
                }));
                z.b(Jk)
            }
        },
        kc: function(b, c) {
            if (this.model.get("modalPanel") != su)
                this.hb();
            else if (b && 0 == b.indexOf("masthead"))
                if ("masthead" == b ? ($(this.Nb).removeClass().addClass("inactive"),
                this.IO(b)) : ($(this.Ec).removeClass("wide"),
                $(this.Te).removeClass("wide")),
                "masthead_companion" == b)
                    $(this.Nb).addClass("active"),
                    this.Zp(b, c);
                else {
                    if ("masthead_with_companion" == b) {
                        var d = Yo();
                        null != d && 2 == d.split(":").length ? this.render(this.Xc() + "?displayAd=" + d, !0) : (C.cP(),
                        this.render(this.Xc(), !0))
                    }
                    R(kw);
                    $(this.ra).removeClass("inactive").addClass("active");
                    this.Zp(b, c);
                    R(lw)
                }
            else {
                $(this.Nb).removeClass("active").removeClass("visible").addClass("inactive").addClass("invisible");
                var e = 950 < $(this.Ec).width();
                e && R(kw);
                var d = e ? $(this.Ec).css("width", "970").removeClass("wide").animate({
                    width: "665"
                }, 1E3, null ) : ""
                  , h = e ? $(this.Te).css("width", "970").removeClass("wide").animate({
                    width: "665"
                }, 1E3, null ) : "";
                $.when(d, h).done(r(this, function() {
                    $(this.Ec).removeAttr("style").css("display", "block");
                    $(this.Te).removeAttr("style").css("display", "block");
                    $("body").hasClass("adSupported-layout") ? e && R(lw) : $("body").hasClass("width-p1-noAds") ? ($("body").removeClass("width-p1-noAds"),
                    R(lw)) : e && R(lw);
                    this.Zp(b, c)
                }))
            }
        },
        Zp: function(b, c) {
            if (!this.yl)
                if ("masthead" == b || "masthead_with_companion" == b) {
                    var d = null ;
                    this.sm || ($(this.ra).height(0),
                    d = $(this.ra).animate({
                        height: "250"
                    }, 1E3));
                    $.when(d).done(r(this, function() {
                        $.when($(this.ra).fadeTo("slow", 1)).done(r(this, function() {
                            $(this.ra).removeClass("inactive").removeClass("invisible").addClass("active").addClass("visible").removeAttr("style");
                            z.b(Kk, c)
                        }))
                    }))
                } else
                    "masthead_companion" == b ? $.when($(this.Nb).fadeTo("slow", 1)).done(r(this, function() {
                        $(this.Nb).removeClass("inactive").removeClass("invisible").addClass("active").addClass("visible").removeAttr("style");
                        z.b(Kk, c)
                    })) : $.when($(this.ra).fadeTo("slow", 1)).done(r(this, function() {
                        $(this.ra).removeClass("inactive").removeClass("invisible").addClass("active").addClass("visible").removeAttr("style");
                        z.b(Kk, c)
                    }))
        },
        IO: function(b) {
            if ("masthead" == b) {
                if (970 != $(this.Ec).width()) {
                    R(kw);
                    b = $(this.Ec).css("width", "665").removeClass("wide").animate({
                        width: "970"
                    }, 1E3, null );
                    var c = $(this.Te).css("width", "665").removeClass("wide").animate({
                        width: "970"
                    }, 1E3, null );
                    $.when(b, c).done(r(this, function() {
                        $(this.Ec).addClass("wide").removeAttr("style").css("display", "block");
                        $(this.Te).addClass("wide").removeAttr("style").css("display", "block");
                        R(lw)
                    }))
                }
            } else
                970 == $(this.Ec).width() && (R(kw),
                b = $(this.Ec).css("width", "970").removeClass("wide").animate({
                    width: "665"
                }, 1E3, null ),
                c = $(this.Te).css("width", "970").removeClass("wide").animate({
                    width: "665"
                }, 1E3, null ),
                $.when(b, c).done(r(this, function() {
                    $(this.Ec).addClass("wide").removeAttr("style").css("display", "block");
                    $(this.Te).addClass("wide").removeAttr("style").css("display", "block");
                    R(lw)
                })))
        },
        xl: function() {
            var b = this.model.get("currentUser");
            R(kw);
            b && !b.J() ? ($(this.ra).removeClass().addClass("invisible").addClass("inactive"),
            $(this.Nb).removeClass().addClass("invisible").addClass("inactive"),
            $("body").hasClass("adSupported-layout") && $("body").removeClass("adSupported-layout"),
            $("body").addClass("width-p1-noAds")) : ($(this.ra).height("0"),
            $("body").hasClass("width-p1-noAds") && $("body").removeClass("width-p1-noAds"),
            $("body").addClass("adSupported-layout"));
            R(lw);
            By()
        },
        hm: function() {
            this.hb(!0, !1)
        },
        TP: function() {
            $(this.ra).show();
            $("body").hasClass("width-p1-noAds") && $("body").removeClass("width-p1-noAds");
            $("body").hasClass("adSupported-layout") || (R(kw),
            $("body").addClass("adSupported-layout"),
            R(lw));
            this.yl = !1;
            this.kc()
        },
        hb: function(b, c) {
            if (!this.yl || b)
                c && $(this.rd).empty(),
                $(this.ra).removeClass("active").removeClass("visible").addClass("inactive").addClass("invisible"),
                $(this.Nb).removeClass("active").removeClass("visible").addClass("inactive").addClass("invisible"),
                this.Lz(),
                R(kw),
                $("body").hasClass("adSupported-layout") && $("body").removeClass("adSupported-layout"),
                $("body").addClass("width-p1-noAds"),
                R(lw),
                By(),
                this.yl = !0
        },
        Lz: function() {
            $("#google_adwords").css("display", "none").css("visibility", "hidden");
            $("#advertisement_bottom").css("display", "none").css("visibility", "hidden");
            $("#ad_controls").css("display", "none").css("visibility", "hidden");
            $("#ad_your_ad_here").css("display", "none").css("visibility", "hidden")
        },
        YL: function(b, c, d, e, h, l) {
            null == zy && By();
            "double_wide_short" != b && this.Lz();
            if (b && 0 == b.indexOf("masthead")) {
                var p = this.model.get("currentUser");
                if (p && p.p()) {
                    this.hb(!0);
                    return
                }
            }
            "medium_rectangle" == b ? ($(this.ra).attr("class", "banner_ad"),
            $(this.rd).attr("class", "advertisement_square"),
            $(c).height("100%"),
            this.kc(b, c)) : "wide_skyscraper" == b ? ($(this.ra).attr("class", "banner_ad"),
            $(this.rd).attr("class", "advertisement_tall"),
            $(c).height("100%"),
            this.kc(b, c)) : "double_wide" == b ? ($(this.ra).attr("class", "banner_ad"),
            $(this.rd).attr("class", "advertisement_double_wide"),
            $(c).height("100%"),
            this.kc(b, c)) : "double_wide_short" == b ? ($(this.ra).attr("class", "network_ad"),
            $(this.rd).attr("class", "advertisement_double_wide_short"),
            $(c).height("100%"),
            this.kc(b, c)) : "masthead" == b ? ($(this.ra).attr("class", "masthead_ad"),
            $(this.rd).attr("class", "advertisement_masthead"),
            $(this.Nb).attr("class", "companion_ad"),
            $(c).height(250),
            this.kc(b, c)) : "masthead_with_companion" == b ? ($(this.ra).attr("class", "masthead_ad"),
            $(this.rd).attr("class", "advertisement_masthead"),
            $(this.Nb).attr("class", "companion_ad"),
            $(c).height(250),
            this.kc(b, c)) : "masthead_companion" == b ? ($(this.rd).attr("class", "advertisement_masthead"),
            $(this.Nb).attr("class", "companion_ad"),
            $(c).height("100%"),
            this.kc(b, c)) : (b = "Unknown ad type: " + b,
            this.model.get("displayingCompanion") ? Ap("Companion ad not displayed", "2000x2", b, d, e, h, l, this.model.get("currentUser")) : Ap("Banner ad not displayed", "2000x2,300x250,300x600", b, d, e, h, l, this.model.get("currentUser")),
            this.xl())
        },
        WN: function(b, c) {
            var d = {
                wide_skyscraper: 0,
                medium_rectangle: 0,
                double_wide: 0,
                masthead: 0
            };
            switch (b) {
            case 160:
                d.wide_skyscraper++;
                break;
            case 300:
                d.medium_rectangle++;
                d.double_wide++;
                break;
            case 970:
                d.masthead++
            }
            switch (c) {
            case 600:
                d.wide_skyscraper++;
                d.double_wide++;
                break;
            case 250:
                d.medium_rectangle++,
                d.masthead++
            }
            var e = [], h;
            for (h in d)
                e[e.length] = {
                    type: h,
                    score: d[h]
                };
            e.sort(function(b, c) {
                return c.QO - b.QO
            });
            return e[0].type
        },
        Xc: function() {
            var b = this.model.get("currentUser");
            return b && b.ve() ? this.fo : this.ho
        },
        debug: function(b) {
            k.debug("AdView : " + b)
        }
    });
    function jA() {}
    jA = Backbone.View.extend({
        initialize: function() {
            k.debug("Initialize animated overlay ad view");
            this.Az = !0;
            S(Cw, r(this, this.cM));
            S(Dw, r(this, this.bM))
        },
        debug: function(b) {
            k.debug("AnimatedOverlayAdView : " + Ed() + " : ", arguments)
        },
        render: function(b) {
            b && "ANIMATEDOVERLAY" == b.C() ? (this.wg = new Zz({
                model: this.model
            }),
            this.wg.uy(),
            this.SD(b)) : this.debug("Invalid ad type here ... should never happen", b)
        },
        SD: function(b) {
            this.data = b;
            this.wb(b);
            (b = b.data.richmedia_companion) ? (this.Az = !0,
            this.startTime = Fd(),
            z.b(Uk, this.data),
            z.b(gi, !1),
            this.debug("Force the companion ad .." + b),
            R(Aw, {
                companion: b,
                forceSyncGPT: !1
            }),
            $(window).scrollTop(0)) : this.sp()
        },
        sp: function() {
            z.b(Vk, this.data);
            this.data = null ;
            this.Az && z.b(ei, {
                userInitiated: !1
            });
            this.wg = new Zz({
                model: this.model
            });
            this.wg.Vx()
        },
        r3: function(b) {
            Fd() - this.startTime > b && (this.debug("Too long for the ad to respond ... closing"),
            this.sp())
        }
    });
    jA.prototype.uh = function(b) {
        this.debug("ERROR pinging tracker url ? " + b)
    }
    ;
    jA.prototype.wb = function(b) {
        if (b && b.pc) {
            var c = b.pc;
            Fp(c, function() {}, r(this, function(b) {
                this.uh(c, b)
            }));
            b.pc = null
        }
        if (b && b.tracker) {
            var d = b.tracker;
            Fp(d, function() {}, r(this, function(b) {
                this.uh(d, b)
            }));
            b.tracker = null
        }
    }
    ;
    jA.prototype.cM = function() {
        this.debug("Animated overlay start", this.data);
        this.data && z.b(Wk, this.data)
    }
    ;
    jA.prototype.bM = function() {
        this.debug("Animated overlay end", this.data);
        if (this.data) {
            var b = this.data.data.followon_companion
              , c = !this.data.eb();
            this.sp();
            R(Aw, {
                companion: b,
                isCompanionAd: c
            })
        }
    }
    ;
    jA.xG = function() {
        R(Cw)
    }
    ;
    jA.wG = function() {
        R(Dw)
    }
    ;
    window.animatedOverlayStart = jA.xG;
    window.animatedOverlayFinish = jA.wG;
    function Y() {}
    Y = Backbone.View.extend({
        initialize: function(b) {
            k.debug("Initialize video ad view");
            this.Ck = "#videoAd";
            this.Vu = "#videoPlayerJS";
            this.og = "#videoPlayer";
            this.GC = 854;
            this.FC = 480;
            this.lB = "Advertisement: Your music will resume in {0} seconds";
            this.ke = b.ke || new Backbone.Model({
                creativeId: "",
                lineId: ""
            });
            this.qk = this.data = null ;
            this.fB = 30;
            this.Tq = this.Na = this.Dp = this.Ej = !1;
            this.qr = this.lastPosition = this.position = 0;
            this.qt = this.bd = !1;
            this.an = -1;
            this.Tt = !1;
            this.Zt = !0;
            this.dB = !1;
            this.CE = new jA({
                model: this.model
            });
            S(uw, r(this, this.eO));
            S(vw, r(this, this.dO));
            S(px, r(this, function(b) {
                kA(this, b.mG, b.nG)
            }))
        },
        debug: function(b) {
            k.debug("VideoAdView : " + Ed() + " : ", arguments)
        },
        Wc: function() {
            return this.Pd() ? this.qk : $(this.Vu).get(0)
        },
        Pd: function() {
            try {
                return -1 < $(this.Ck).html().toLowerCase().indexOf("ooyala.com/player.swf")
            } catch (b) {
                return !1
            }
        },
        rP: function(b) {
            b && (this.dB = !0);
            if ($(this.Vu) && this.Wc() && (b && this.Pd() || !b && !this.Pd()))
                this.qk = this.Wc(),
                this.debug("Video player is available " + this.qk),
                b || this.Pd() ? $(this.og).find(".close").hide() : this.data.Qr ? $(this.og).find(".close").show() : $(this.og).find(".close").hide();
            else {
                var c = $("<div id='videoPlayerContainer'></div>");
                Ce() ? c.css("visibility", "hidden") : c.addClass("hideVideoAd");
                var d = $("<div id='videoPlayer'><div class='close' style='display:none'></div><div id='videoAd'></div></div>");
                b && (d.addClass("htmlStatus"),
                d.prepend('<div class="videoStatusBar"><div class="mainHolder">&nbsp;</div><div class="skipHolder"><a href="javascript:void(0);">Skip</a></div></div>'));
                c.append(d);
                this.data.Qr && c.find(".close").show();
                c.appendTo("body");
                this.debug("Added the videoAd div - " + $(this.Ck));
                this.DP();
                if (b) {
                    var e = this;
                    $(this.Ck).ready(function() {
                        var c = {
                            width: e.GC,
                            height: e.FC,
                            autoplay: !0
                        };
                        Ry(e.data) ? "VPAID" == Sy(e.data) ? $.extend(c, {
                            "vpaid-ads-manager": {
                                adTag: Ry(e.data),
                                showInAdControlBar: !0,
                                showAdMarquee: !1
                            }
                        }) : $.extend(c, {
                            vast: {
                                tagUrl: Ry(e.data),
                                disablePauseAd: !0
                            }
                        }) : $.cookie("pandoraVideoAdClickTracker", Vy(e.data), {
                            path: "/",
                            domain: window.location.hostname,
                            V3: !1
                        });
                        e.qk = OO.Player.create("videoAd", b, c);
                        setTimeout(function() {
                            e.qk.mb.subscribe("*", "videoAdView", function(b, c) {
                                R(px, {
                                    mG: b,
                                    nG: c
                                })
                            })
                        }, 1);
                        $(".skipHolder a", this).bind("click", r(e, e.Cy))
                    })
                } else
                    e = this,
                    $(this.Ck).ready(function() {
                        swfobject.embedSWF("/videoPlayerJS.swf", "videoAd", "100%", "100%", "8", null , {
                            allowscriptaccess: "always"
                        }, null , {
                            id: "videoPlayerJS"
                        });
                        k.debug("VideoAdView : " + Ed() + " : Video player has been added : " + $("#videoPlayerJS").get(0));
                        $(".close", this).bind("click", r(e, e.Cy))
                    })
            }
        },
        Cy: function() {
            lA(this, Y.Tn, null )
        },
        HP: function() {
            $("#videoPlayerContainer").removeClass("hideVideoAd");
            Ce() && ($("#videoPlayerContainer").removeAttr("style"),
            $("#videoPlayerContainer").css("visibility", "visible"));
            this.Pd() && $(".videoStatusBar", $(this.og)).animate({
                height: "21px"
            })
        },
        DP: function() {
            $("#videoPlayerContainer").removeClass("hideVideoAd");
            Ce() && ($("#videoPlayerContainer").removeAttr("style"),
            $("#videoPlayerContainer").css("visibility", "visible"))
        },
        KK: function() {
            Ce() ? $("#videoPlayerContainer").css("visibility", "hidden") : $("#videoPlayerContainer").addClass("hideVideoAd").removeAttr("style");
            $("#videoPlayer").removeAttr("style")
        },
        LK: function(b) {
            $("#videoPlayer").fadeOut(250, function() {
                $("#videoPlayerContainer").fadeOut(1E3, function() {
                    Ce() ? $("#videoPlayerContainer").css("visibility", "hidden") : $("#videoPlayerContainer").addClass("hideVideoAd").removeAttr("style");
                    $("#videoPlayer").removeAttr("style");
                    ("Explorer" == BrowserDetect.browser || b) && $("#videoPlayerContainer").remove()
                })
            })
        },
        K3: function() {
            return this.Ej
        },
        render: function(b) {
            this.data = b;
            this.Zt = !0;
            this.Zt = this.model.get("musicPlaying");
            this.an = b.WP;
            this.ke.set({
                lineId: this.data.Go,
                creativeId: this.data.Hc
            });
            if ("VIDEOAD" == this.data.C())
                if (this.Na = !1,
                b = this.data.data.ooyalatoken,
                this.rP(b),
                this.Ej) {
                    Ry(this.data) || Qy(this.data) || this.Mv();
                    setTimeout(r(this, this.playVideo), 500);
                    var c = 1;
                    1 == this.Tk && (c = 2);
                    this.Im = setTimeout(r(this, this.oF), 16E3 * c);
                    this.Kj = b && Ry(this.data) && "VPAID" == Sy(this.data) ? setTimeout(r(this, this.op), 3E5) : setTimeout(r(this, this.op), 19E3 * c)
                } else
                    this.Dp = !0,
                    this.debug("Player is not initialized yet .... no jsping yet?");
            else
                "HOUSE" == this.data.C() ? (this.debug("Handle the HOUSE video ad", this.data),
                this.wb(this.data),
                z.b(Wk, this.data),
                z.b(Vk, this.data),
                this.data = null ) : "ANIMATEDOVERLAY" == this.data.C() && (this.debug("Handle the AnimatedOverlay ad", this.data),
                this.CE.render(this.data))
        },
        hb: function(b) {
            this.debug("Remove Display");
            this.LK(b);
            clearTimeout(this.Im);
            clearTimeout(this.Kj)
        },
        setData: function(b) {
            this.data = b
        },
        R3: function() {
            this.debug("Preload Movie called")
        },
        playVideo: function() {
            var b = this.Wc();
            this.position = 0;
            this.Tq = this.bd = !1;
            this.qr = Ed();
            this.debug("Video player - calling play video : " + b);
            var c = this.data.data.logoimage
              , d = this.data.eb() ? 1 : 0
              , e = this.data.Qr ? 1 : 0
              , h = this.data.LP ? 1 : 0
              , l = this.data.data.movie;
            this.debug("Playing Movie : url : " + l + " : uif : " + Ry(this.data) + " : vol : " + this.Ui());
            this.Pd() ? this.Tt = !0 : b.setShowSkipButtonAfter(this.an);
            this.trigger(Y.ng.LOG_TIME_TO_PLAYER);
            if (Qy(this.data)) {
                this.debug("Playing Movie (asset determined by Yume)");
                var l = this.model.get("currentUser")
                  , p = this.model.get("currentStation")
                  , q = {
                    M: 1,
                    F: 2
                };
                b.playYumeVideo({
                    ag: l ? (new Date).getFullYear() - l.ri : "",
                    gnd: l ? q[eo(l)] : "",
                    genre: p ? encodeURIComponent(p.n.Df()) : ""
                }, "4x3", d, h, e, c, this.Ui(), this.data.data.creativeTypeAdServer ? this.data.data.creativeTypeAdServer : null )
            } else
                this.data.data.ooyalatoken ? (this.debug("Playing Movie v/Ooyala native: " + this.data.data.ooyalatoken),
                Ry(this.data) && b.play()) : null != l ? (p = l.indexOf("file="),
                -1 != p ? (l = decodeURI(l.substring(p + 5)),
                this.debug("Playing Movie : " + l),
                b.playVideo(!0, l, this.data.data.aspectRatio, d, h, e, c, this.Ui())) : (vp(Wy(this.data), "Video", "invalid movie url", "html5", this.model.get("currentUser")),
                this.Ze())) : null != Ry(this.data) ? (l = Ry(this.data),
                this.debug("Playing Movie : " + l),
                b.playVideo(!1, l, null , d, h, e, c, this.Ui())) : (vp(Wy(this.data), "Video", "invalid path data", "html5", this.model.get("currentUser")),
                this.Ze())
        },
        Mv: function() {
            z.b(gi, !1);
            this.debug("Show the video ad view", this.data);
            this.KK();
            this.HP();
            z.b(Uk, this.data)
        },
        EN: function() {
            this.data && this.data.eb() ? this.bd = !0 : this.Ze()
        },
        Ze: function() {
            this.debug("Close Movie called");
            this.Im && clearTimeout(this.Im);
            this.Kj && clearTimeout(this.Kj);
            this.Kj = this.Im = null ;
            this.bd = this.Na = !1;
            this.duration = this.position = 0;
            var b = !1;
            try {
                var c = this.Wc();
                this.Pd() ? (b = !0,
                de(this, function() {
                    c.destroy();
                    this.Ej = !1
                }, 200)) : c.endVideo()
            } catch (d) {}
            this.hb(b);
            try {
                z.b(Vk, this.data)
            } catch (e) {}
            (this.data.eb() || void 0 != this.data.mj && !0 == this.data.mj) && !this.Zt || z.b(ei, {
                userInitiated: !1
            });
            this.data = null
        },
        FN: function() {
            vp(Wy(this.data), "VideoAd", "VideoPlayer error event", "onVideoError", this.model.get("currentUser"));
            this.Ze()
        },
        oF: function() {
            !1 == this.Na ? (this.debug("Looks like the player is having issues with starting the video"),
            vp(Wy(this.data), "VideoAd", "Video didn't start", "checkPlaying", this.model.get("currentUser")),
            this.Ze()) : this.debug("The player is doing fine .... ")
        },
        op: function() {
            var b = Ed() - this.qr;
            this.Na && 10 < b && !this.bd && (this.debug("Looks like the player is having issues with progressing through the video"),
            vp(this.data, "VideoAd", "Video stalled for : " + b, "checkProgress", this.model.get("currentUser")),
            this.Ze());
            this.debug("The player is doing fine .... check again in 3s");
            this.Na && (this.Kj = setTimeout(r(this, this.op), 3E3))
        },
        Ui: function() {
            var b = Jm();
            return null == b || isNaN(Number(b)) || 0 > Number(b) || 100 < Number(b) ? 50 : Number(b)
        }
    });
    Y.Rn = "initialized";
    Y.pu = "interaction_playerLoaded";
    Y.Un = "interaction_videoInitiated";
    Y.Vn = "interaction_videoPlayedToCompletion";
    Y.PB = "interaction_scrubbed";
    Y.ou = "interaction_pauseClicked";
    Y.Sn = "interaction_unpauseClicked";
    Y.TV = "interaction_replayClicked";
    Y.SV = "interaction_muteClicked";
    Y.UV = "interaction_unmuteClicked";
    Y.qu = "interaction_videoLoadError";
    Y.MB = "interaction_endOfVideoCloseClicked";
    Y.Tn = "interaction_videoClosedBeforeEnd";
    Y.RV = "interaction_endOfVideoReplayClicked";
    Y.NB = "interaction_endOfVideoLearnMoreClicked";
    Y.OB = "interaction_graphicLinkClicked";
    Y.QB = "interaction_videoClicked";
    Y.LB = "interaction_emptyVastTag";
    Y.Xu = "videoProgress";
    Y.ng = {
        VIDEO_EVENT: "VIDEO_EVENT",
        LOG_TIME_TO_PLAYER: "LOG_TIME_TO_PLAYER"
    };
    Y.prototype.uh = function(b, c) {
        try {
            var d = c.name + " : while pinging url";
            this.debug(d, c);
            vp(b, "video", d, "impression", this.model.get("currentUser"))
        } catch (e) {}
    }
    ;
    Y.prototype.wb = function(b) {
        if (b && b.pc) {
            var c = b.pc;
            this.debug("Ping " + c);
            Fp(c, function() {}, r(this, function(b) {
                this.uh(c, b)
            }));
            b.pc = null
        } else {
            var d = "VideoData is empty"
              , e = "Empty";
            b && (d = "Impression url is empty",
            e = b.C() + " : " + Wy(b));
            vp(e, "video", d, "impression", this.model.get("currentUser"))
        }
        if (b && b.tracker) {
            var h = b.tracker;
            Fp(h, function() {}, r(this, function(b) {
                this.uh(h, b)
            }));
            b.tracker = null
        }
    }
    ;
    function kA(b, c, d) {
        b.debug("Ooyala interaction - " + c);
        switch (c) {
        case "playerEmbedded":
            lA(b, Y.pu, null );
            break;
        case "contentTreeFetched":
            b.Ej || lA(b, Y.Rn, null );
            break;
        case "playheadTimeChanged":
            b.Na && (c = b.Wc().getPlayheadTime(),
            d = Ry(b.data) && !sd(b.Wc().getDuration()) ? b.fB : b.Wc().getDuration(),
            $(b.og + " .videoStatusBar .mainHolder").html(b.lB.replace("{0}", Math.round(d - c))),
            b.Tt && Math.round(c) >= b.an && (b.Tt = !1,
            $(b.og + " .videoStatusBar .skipHolder").css("visibility", "visible")),
            lA(b, Y.Xu, {
                position: c,
                duration: d
            }));
            break;
        case "willShowCompanionAds":
            "*INLINED*" == b.data.vf && d.Vk && d.Vk[0] && ($.extend(d.Vk[0], {
                pandoraContainer: b.data.nl
            }),
            R(Bw, d.Vk[0]));
            break;
        case "error":
        case "playFailed":
            b.debug("Ooyala ERROR: " + b.Wc().getError());
            lA(b, Y.qu, null );
            break;
        case "played":
        case "adsPlayed":
            b.Na && lA(b, Y.Vn, null );
            break;
        case "paused":
            b.Na && 0.95 > b.position / b.duration && (b.bd && Ry(b.data) ? lA(b, Y.Sn, null ) : b.bd || (b.qt && clearTimeout(b.qt),
            b.qt = de(b, function() {
                lA(this, Y.ou, null )
            }, 200)));
            break;
        case "playing":
            !b.Na && Ry(b.data) ? lA(b, Y.Vn, null ) : b.Na && b.bd && lA(b, Y.Sn, null );
            break;
        case "playbackReady":
            b.Na || Ry(b.data) || de(b, function() {
                lA(this, Y.Un, null )
            }, 500);
            break;
        case "willPlayAds":
            b.Na || (sd(d) && (b.fB = d),
            lA(b, Y.Un, null ))
        }
    }
    function lA(b, c, d) {
        var e = b.data;
        if (Y.Xu == c) {
            if (b.lastPosition = b.position,
            b.position = d.position,
            b.duration = d.duration,
            b.qr = Ed(),
            0 == b.position % 10 && b.debug("Handling interaction - " + c),
            b.duration) {
                d = b.position / b.duration;
                var h = b.lastPosition / b.duration;
                0 == h && 0 < d && (mA(b, "start"),
                e && nA(b, e.iQ));
                0.25 > h && 0.25 <= d && (mA(b, "first_quartile"),
                e && nA(b, e.NG));
                0.5 > h && 0.5 <= d && (mA(b, "second_quartile"),
                e && nA(b, e.UO));
                0.75 > h && 0.75 <= d && (mA(b, "third_quartile"),
                e && nA(b, e.BQ))
            }
        } else
            b.debug("Handling interaction - " + c);
        Y.PB == c && (b.Tq = !0);
        if (Y.Rn == c)
            b.Ej = !0,
            b.Dp && (b.Dp = !1,
            b.data && b.render(b.data)),
            mA(b, "initiate");
        else {
            Y.pu == c && b.debug("Player loaded");
            c == Y.Tn && (mA(b, "skip"),
            s("video_ad_skipped", {
                O3: Wy(e),
                Q3: b.position,
                f4: b.duration
            }, b.model.get("currentUser")),
            b.debug("Player closed before end?"));
            if (c == Y.Vn && (d = b.Na,
            b.EN(),
            mA(b, "complete"),
            e && nA(b, e.CF),
            e && Ry(e) && !d)) {
                b.wb(e);
                return
            }
            c != Y.MB && c != Y.Tn || b.Ze();
            c == Y.NB && Uy(b.data) && (window.open(Uy(b.data), "_blank"),
            b.debug("Open window " + Uy(b.data)));
            c == Y.OB && (null != Ty(b.data) ? (window.open(Ty(b.data), "_blank"),
            b.debug("Open window " + Ty(b.data))) : Vy(b.data) && (window.open(Vy(b.data), "_blank"),
            b.debug("Open Window " + Vy(b.data))));
            c == Y.QB && Vy(b.data) && (window.open(Vy(b.data), "_blank"),
            b.debug("Open Window " + Vy(b.data)));
            c == Y.Un && (b.Pd() && b.Wc().setVolume(b.Ui() / 100),
            (Ry(b.data) || Qy(b.data)) && b.Mv(),
            b.Na = !0,
            b.bd = !1,
            z.b(Wk, b.data),
            b.wb(b.data));
            c == Y.LB && (b.wb(b.data),
            Qy(b.data) && (b.Na = !1));
            c == Y.qu ? b.FN() : (c == Y.ou && (b.bd = !0,
            mA(b, "pause")),
            c == Y.Sn && (b.bd = !1,
            mA(b, "unpause")),
            c && "interaction_videoInitiated" != c && e && nA(b, e.get("trackingUrl_" + c.split("interaction_")[1])))
        }
    }
    function mA(b, c) {
        var d = {
            event_type: c,
            line_id: "",
            creative_id: "",
            playback_pos: b.position,
            duration: b.duration,
            has_scrubbed: b.Tq,
            network: null ,
            vendor_id: u,
            device_id: we,
            accessory_id: null ,
            app_version: z.ba,
            device_os: se(),
            device_model: null ,
            client_timestamp: (new Date).format("yyyy-mm-dd HH:MM:ss", !0),
            is_pandora_link: !1,
            bluetooth_device_name: null
        }
          , e = b.ke;
        e && (d = _.extend(d, {
            line_id: e.get("lineId"),
            creative_id: e.get("creativeId")
        }));
        b.trigger(Y.ng.VIDEO_EVENT, d);
        s("tap_to_video", d, b.model.get("currentUser"))
    }
    function nA(b, c) {
        c && (xp(c, function() {}, r(b, b.uh)),
        b.debug("ping : " + c))
    }
    Y.prototype.eO = function(b) {
        lA(this, b.interaction, b.data)
    }
    ;
    Y.prototype.dO = function(b) {
        var c = this.Wc();
        this.an = b;
        c ? (this.Pd() || c.setShowSkipButtonAfter(b),
        this.debug("Set the showSkip duration to : " + b)) : this.debug("No video player to set the show skip duration..")
    }
    ;
    Y.hP = function(b) {
        R(vw, b)
    }
    ;
    Y.GN = function(b, c) {
        R(uw, {
            interaction: b,
            data: c
        })
    }
    ;
    Y.wL = function(b) {
        k.debug("VideoAdView : Firing off interaction event : init with " + b);
        R(uw, {
            interaction: Y.Rn,
            data: b
        })
    }
    ;
    window.setShowSkipDuration = Y.hP;
    window.onVideoInteraction = Y.GN;
    window.jsPing = Y.wL;
    function oA() {}
    oA = Backbone.View.extend({
        initialize: function() {
            this.sk = "#skinClickRight";
            this.rk = "#skinClickLeft";
            this.cu = "#advertisement";
            this.du = "#adLayout";
            this.lC = 800;
            this.hb()
        },
        render: function(b) {
            if (b) {
                var c = "ad" + (new Date).getTime();
                b = b.replace("__CACHEBUSTER__", je());
                var d = '<div id="' + c + '" style="width:100%;height:100%;" class="sponsored_logo"><a href="' + b + '" target="_blank"><img src="/static/ads/sponsorship/transparent-logo-area.gif" width="100%" height="100%" border="0" ></a></div>';
                $(this.sk).fadeTo("slow", 0.01, r(this, function() {
                    $(this.sk).html(d)
                }));
                $(this.rk).fadeTo("slow", 0.01, r(this, function() {
                    $(this.rk).html(d)
                }))
            }
        },
        kc: function() {
            var b = this.lC;
            $(this.du).animate({
                width: b
            }, "slow");
            $(this.cu).html("");
            $(this.cu).hide();
            $(this.sk).addClass("active_trial").fadeIn(200);
            $(this.rk).addClass("active_trial").fadeIn(200);
            $(".skinClick").css({
                display: "block"
            });
            $(".skinClick").width(($(window).width() - b) / 2);
            $(window).resize(function() {
                $(".skinClick").width(($(window).width() - b) / 2)
            })
        },
        hb: function() {
            $(this.sk).removeClass("active_trial").fadeOut(200);
            $(this.rk).removeClass("active_trial").fadeOut(200)
        },
        debug: function(b) {
            k.debug("ComplimentaryTrialLogoView : ", arguments)
        }
    });
    function pA() {}
    pA = Backbone.View.extend({
        initialize: function() {
            z.gb(Sg, r(this, this.Gb))
        },
        Gb: function() {
            var b = by("readOnlyPopup", $("#readOnlyHeaderTmpl").tmpl(), $("#readOnlyContentTmpl").tmpl());
            $("body").append($(this.el).append(b))
        },
        events: {
            "closed .lightbox": "cancelClick"
        },
        cancelClick: function() {
            $(this.el).empty();
            return !1
        }
    });
    function qA() {}
    qA = Backbone.View.extend({
        initialize: function() {
            $("#main").append(this.el);
            this.model.bind("change:modalPanel", r(this, this.render));
            mz("/account/welcome");
            z.c(ti, r(this, this.abort))
        },
        render: function() {
            if ("REGISTERED_PANEL" == this.model.get("modalPanel")) {
                V("/account/welcome", !1, !0);
                var b = by("first_interaction", $("#firstInteractionHeaderTmpl").tmpl(), $("#firstInteractionContentTmpl").tmpl(), $("#firstInteractionFooterTmpl").tmpl(), !0);
                b.css("top", 0);
                $(this.el).empty().append(b);
                $(this.el).show();
                b.bind("closed", r(this, this.closeWindow));
                $("#first_interaction_continue", this.el).click(r(this, this.closeWindow));
                R(rw);
                $(".legal").hide()
            }
        },
        closeWindow: function() {
            var b = this.model.get("currentUser");
            !$("#public_profile").is(":checked") && b && z.b(zi, {
                isProfilePrivate: !0,
                disallowComments: b.Hp,
                optOut: !b.zl,
                noNotifyOnNote: !b.Mr,
                noNotifyOnFollow: !b.Lr,
                artistPromoEmailsEnabled: void 0 != b.zf ? b.zf : null
            });
            $("#first_interaction_continue", this.el).unbind();
            $(this.el).empty();
            kp() && 0 < kp().length && (window.location = kp());
            this.model.set({
                modalPanel: "POSTREG_AD_PANEL"
            });
            $(".navFooter").show();
            $(".legal").show()
        },
        abort: function() {
            $("#first_interaction_continue", this.el).unbind();
            $(this.el).hide(function() {
                $(this.el).empty()
            })
        }
    });
    function rA() {}
    rA = Backbone.View.extend({
        initialize: function() {
            $("#main").append(this.el)
        },
        render: function(b) {
            var c = by("postreg_ad", $("#postregAdHeaderTmpl").tmpl(), $("#postregAdContentTmpl").tmpl(), $("#postregAdFooterTmpl").tmpl(), !0);
            c.css("top", 0);
            $(this.el).empty().append(c);
            $(this.el).show();
            c.bind("closed", r(this, this.closeWindow));
            $("#postreg_nothanks", this.el).click(r(this, this.closeWindow));
            swfobject.embedSWF("/postregAdProxy/postregproxy.swf?adswf=" + b, "postregAdSwfContainer", "560", "300", "8", null , {
                allowscriptaccess: "always"
            }, {
                wmode: "transparent"
            }, {
                id: "postregProxy"
            })
        },
        closeWindow: function() {
            $(this.el).empty();
            z.b(Bi)
        },
        abort: function() {
            $(this.el).hide(function() {
                $(this.el).empty()
            })
        },
        DF: function(b) {
            $("#postregProxy").css("height", "1px");
            $("#postregProxy").css("width", "1px");
            b = by("postreg_ad", $("#postregAdConfirmHeaderTmpl").tmpl(), $("#postregAdConfirmTmpl").tmpl({
                msg: b
            }), $("#postregAdInfoConfirmButtons").tmpl(), !0);
            b.css("top", 0);
            $(this.el).append(b);
            b.bind("closed", r(this, this.closeWindow));
            $("#postreg_info_dont_allow", this.el).click(r(this, function() {
                $("#postreg_info_dont_allow", this.el).fadeOut();
                this.closeWindow();
                z.b(Di)
            }));
            $("#postreg_info_allow", this.el).click(r(this, function() {
                $("#postreg_info_allow", this.el).fadeOut();
                z.b(Ci)
            }))
        },
        events: {}
    });
    function sA() {}
    sA = Backbone.View.extend({
        eC: 3E4,
        initialize: function() {
            $("#main").append(this.el);
            this.na = 0;
            this.Cg = !1;
            S(yw, r(this, this.nK));
            S(zw, r(this, this.SH))
        },
        nK: function() {
            this.Cg = !0;
            $(".headerContinue", this.el).fadeIn()
        },
        SH: function() {
            R(xw, {
                source: "truex_creative_close",
                elapsedTime: (new Date).getTime() - this.na,
                didReachThreshold: this.Cg
            })
        },
        render: function(b, c, d) {
            b = $("#svnAdContentTmpl").tmpl({
                svnActivityUrl: b,
                height: c,
                width: d
            });
            var e = this.model.get("currentUser")
              , h = e.fk
              , e = e.Mh;
            b = by("svn_ad", $("#svnAdHeaderTmpl").tmpl({
                isSponsoredListening: e == m.de.ao(),
                creditHours: h + " hour" + (1 < h ? "s" : "")
            }), b, $("#svnAdFooterTmpl").tmpl(), !1);
            b.css("top", 0);
            $(".lightbox_content", b).height(c + 10);
            $(".lightbox_content", b).width(d);
            $(".svn_ad", b).width(d + 30);
            $(this.el).empty().append(b);
            $(".headerContinue", this.el).hide();
            $(this.el).show();
            this.na = Date.now();
            this.Cg = !1;
            b.bind("closed", r(this, this.handleCancel))
        },
        handleCancel: function() {
            var b = (new Date).getTime() - this.na;
            b > this.eC ? R(xw, {
                source: "close",
                elapsedTime: b,
                didReachThreshold: this.Cg
            }) : R(ww, {
                source: "close",
                elapsedTime: b,
                didReachThreshold: this.Cg
            })
        },
        tF: function() {
            $(this.el).empty()
        },
        events: {
            "click .headerContinue a": "userSkipClick"
        },
        userSkipClick: function() {
            R(xw, {
                source: "start_listening",
                elapsedTime: (new Date).getTime() - this.na,
                didReachThreshold: this.Cg
            })
        }
    });
    function tA() {}
    tA = Backbone.View.extend({
        initialize: function() {
            $("#main").append(this.el)
        },
        render: function() {
            var b = by("password_confirmation", $("#passwordConfirmationHeaderTmpl").tmpl(), $("#passwordConfirmationContentTmpl").tmpl());
            $(this.el).empty().append(b);
            $(this.el).show();
            $("input[name=password]", this.el).get(0).focus()
        },
        events: {
            "closed .lightbox": "cancelClick",
            "click .submitButton": "submitButtonClick",
            "submit .passConfirmForm": "passConfirmFormSubmit"
        },
        cancelClick: function() {
            this.trigger("cancel");
            $(this.el).remove();
            return !1
        },
        passConfirmFormSubmit: function() {
            return !1
        },
        submitButtonClick: function() {
            var b = $("input[name=password]", this.el).val();
            $(".formFieldError", this.el).hide();
            var c = !1;
            rd(b) && 5 <= b.length || ($(".passwordFieldError", this.el).text(ia()).fadeIn(),
            c = !0);
            c || (this.trigger("submit", b),
            $(this.el).remove());
            return !1
        }
    });
    function uA() {}
    uA = Backbone.View.extend({
        initialize: function() {
            $("#main").append(this.el)
        },
        render: function() {
            var b = by("session_start_dialog", $("#pandoraForBusinessSessionStartHeaderTmpl").tmpl(), $("#pandoraForBusinessSessionStartContentTmpl").tmpl());
            $(this.el).empty().append(b);
            $(this.el).show();
            s("business_session_start_page_hit", {
                vendor_id: u
            }, this.model.get("currentUser"));
            um(mm, Date.now())
        },
        events: {
            "closed .lightbox": "cancelClick",
            "click #p4b_learn_more": "learnMoreButtonClick",
            "click #p4b_upgrade": "p4bUpgradeClick"
        },
        cancelClick: function() {
            $(this.el).remove();
            return !1
        },
        learnMoreButtonClick: function() {
            s("business_session_start_page_click", {
                vendor_id: u,
                action: "learn_more"
            }, this.model.get("currentUser"));
            setTimeout(function() {
                R(mv)
            }, 10);
            $(this.el).remove();
            return !1
        },
        p4bUpgradeClick: function() {
            s("business_session_start_page_click", {
                vendor_id: u,
                action: "business_upgrade"
            }, this.model.get("currentUser"));
            setTimeout(function() {
                R(jv)
            }, 10);
            $(this.el).remove();
            return !1
        }
    });
    function vA() {}
    vA = Backbone.View.extend({
        initialize: function() {
            $("#main").append(this.el)
        },
        render: function() {
            var b = this.model.get("currentUser")
              , b = {
                grandfathered: b && b.Ny(),
                isBusiness: b && b.S()
            }
              , b = by("cancel_subscription_warning", $("#cancelSubscriptionWarningHeaderTmpl").tmpl(b), $("#cancelSubscriptionWarningContentTmpl").tmpl(b));
            $(this.el).empty().append(b);
            $(this.el).show()
        },
        events: {
            "closed .lightbox": "cancelClick",
            "click .submitButton": "submitButtonClick",
            "click .cancelButton": "cancelClick"
        },
        cancelClick: function() {
            this.trigger("cancel");
            $(this.el).remove();
            s("p1_gf_auto_renew_choice", {
                choice: "donotsave"
            }, this.model.get("currentUser"));
            return !1
        },
        submitButtonClick: function() {
            this.trigger("submit");
            $(this.el).remove();
            s("p1_gf_auto_renew_choice", {
                choice: "disable"
            }, this.model.get("currentUser"));
            return !1
        }
    });
    Backbone.View.extend({
        initialize: function() {
            this.na = (new Date).getTime();
            S(Gu, r(this, this.Ga));
            var b = by("facebookInfoPopup", null , $("#facebookInfoTmpl").tmpl({
                appId: So()
            }));
            $("body").append($(this.el).append(b))
        },
        Ga: function(b) {
            this.el && (new Date).getTime() - this.na > Vz && !($(b.target) == this.el || 0 < $(b.target).parents(".lightbox_bg").length) && this.closeClicked()
        },
        events: {
            "click .publish": "publishClicked",
            "click .notNow": "closeClicked",
            "closed .lightbox": "closeClicked"
        },
        publishClicked: function() {
            this.Ty("publish");
            this.U();
            z.b(sj);
            return !1
        },
        closeClicked: function() {
            this.Ty("close");
            this.U();
            return !1
        },
        U: function() {
            Xz(this);
            $(this.el).remove();
            this.el = null
        },
        Ty: function(b) {
            var c = this.model.get("currentUser");
            null != c && s("social_autoshare_info_select", {
                social_network_id: "facebook",
                eventType: b,
                device_os: "web"
            }, c)
        }
    });
    function wA() {}
    wA = Backbone.View.extend({
        initialize: function() {
            this.na = (new Date).getTime();
            S(Gu, r(this, this.Ga));
            var b = by("facebookConnectedPopup", null , $("#facebookConnectedTmpl").tmpl());
            $("body").append($(this.el).append(b))
        },
        Ga: function(b) {
            this.el && (new Date).getTime() - this.na > Vz && !($(b.target) == this.el || 0 < $(b.target).parents(".lightbox_bg").length) && this.dismiss()
        },
        events: {
            "click .yourSettings": "yourSettingsClicked",
            "closed .lightbox": "dismiss"
        },
        yourSettingsClicked: function() {
            this.U();
            V("/account/privacy", !0, !0);
            return !1
        },
        dismiss: function() {
            this.U();
            return !1
        },
        U: function() {
            Xz(this);
            $(this.el).remove();
            this.el = null
        }
    });
    for (K = kq[8]; -1 != K; )
        switch (K) {
        case 37:
            G[180] = -2070576169;
            K = kq[41];
            break;
        case 25:
            G[212] = -1910507150;
            K = kq[21];
            break;
        case 3:
            K = kq[56];
            break;
        case 33:
            G[68] = 1599896490;
            K = kq[43];
            break;
        case 9:
            G[102] = -1463358468;
            K = kq[6];
            break;
        case 18:
            G[480] = -1999123204;
            K = kq[10];
            break;
        case 54:
            K = kq[29];
            break;
        case 28:
            G[299] = -1638921804;
            K = kq[38];
            break;
        case 57:
            K = kq[18];
            break;
        case 59:
            G[351] = 707040027;
            K = kq[54];
            break;
        case 41:
            G[517] = 2622719909;
            K = kq[32];
            break;
        case 47:
            G[512] = 1231605603;
            K = kq[7];
            break;
        case 39:
            G[822] = -397702507;
            K = kq[19];
            break;
        case 20:
            G[352] = 1104147103;
            K = kq[48];
            break;
        case 21:
            K = kq[52];
            break;
        case 10:
            K = kq[53];
            break;
        case 55:
            K = kq[60];
            break;
        case 23:
            G[969] = 2086753151;
            K = kq[42];
            break;
        case 12:
            K = kq[34];
            break;
        case 46:
            K = kq[0];
            break;
        case 30:
            K = kq[26];
            break;
        case 32:
            G[809] = -1352458875;
            K = kq[27];
            break;
        case 6:
            K = kq[25];
            break;
        case 48:
            G[444] = 521733442;
            K = kq[28];
            break;
        case 17:
            G[836] = 1419030366;
            K = kq[22];
            break;
        case 50:
            G[166] = -1714400200;
            K = kq[3];
            break;
        case 2:
            G[959] = -1681004700;
            K = kq[4];
            break;
        case 16:
            K = kq[36];
            break;
        case 58:
            K = kq[20];
            break;
        case 5:
            K = kq[31];
            break;
        case 36:
            G[961] = -1052091643;
            K = kq[39];
            break;
        case 11:
            G[257] = -74256028;
            K = kq[9];
            break;
        case 31:
            G[460] = -1402562782;
            K = kq[30];
            break;
        case 22:
            G[871] = 1418498237;
            K = kq[13];
            break;
        case 4:
            G[291] = -58623508;
            K = kq[24];
            break;
        case 24:
            G[590] = 1750244024;
            K = kq[1];
            break;
        case 35:
            G[5] = -2080913454;
            K = kq[40];
            break;
        case 45:
            G[273] = 2141246715;
            K = kq[50];
            break;
        case 7:
            G[1] = -1126562572;
            K = kq[49];
            break;
        case 29:
            G[181] = 1251875558;
            K = kq[55];
            break;
        case 51:
            G[411] = -791173261;
            K = kq[5];
            break;
        case 8:
            G[807] = -1984567002;
            K = kq[47];
            break;
        case 44:
            K = kq[17];
            break;
        case 43:
            G[259] = 1764240269;
            K = kq[37];
            break;
        case 26:
            G[1036] = 1419022742;
            K = kq[14];
            break;
        case 1:
            K = kq[2];
            break;
        case 15:
            G[958] = -1871395290;
            K = kq[16];
            break;
        case 34:
            K = kq[46];
            break;
        case 19:
            G[48] = 1248939638;
            K = kq[44];
            break;
        case 49:
            G[421] = -1072746871;
            K = kq[58];
            break;
        case 53:
            K = kq[23];
            break;
        case 14:
            G[364] = -1864904878;
            K = kq[35];
            break;
        case 42:
            K = kq[33];
            break;
        case 13:
            G[994] = 983083871;
            K = kq[15];
            break;
        case 56:
            G[509] = -1057179023;
            K = kq[59];
            break;
        case 52:
            K = kq[11];
            break;
        case 40:
            G[978] = -2052130286;
            K = kq[51];
            break;
        case 0:
            K = kq[45];
            break;
        case 38:
            K = kq[12];
            break;
        case 27:
            G[293] = -622914062,
            K = kq[57]
        }
    ;function xA() {}
    xA = Backbone.View.extend({
        initialize: function() {
            z.c(hf, r(this, this.Nd));
            z.c(Re, r(this, this.close));
            z.c(Rf, r(this, this.UG));
            z.c(Sf, r(this, this.QQ));
            z.c(Vf, r(this, this.NQ));
            this.cm = null ;
            this.Ki = [];
            this.JA = this.IA = this.Nh = this.Oh = 0;
            z.c(ei, r(this, this.iK));
            S(qv, r(this, this.gx))
        },
        el: $("#mainContentContainer .search"),
        render: function() {
            $(this.el).empty();
            bA("/content/search", {
                q: this.Sf,
                ae: this.zE,
                cachebuster: "" + (new Date).getTime()
            }, r(this, function(b) {
                $(this.el).empty().append(b);
                b = $(".search_section .section", this.el);
                var c = Go();
                if (b && 0 < b.size() && null != c && 0 < c.length && !this.dD && (this.dD = !0,
                this.IF(this.Sf, this.Pj)))
                    return;
                R(Rw);
                this.sx(null != this.Pj ? this.Pj : "none");
                _.each(b, function(b) {
                    new dz($(".menu_dropdown", $(b)),null ,$(".dropdownmenu", $(b)))
                });
                ty(new qy(this.model.get("currentUser")), !1);
                this.postRender()
            }), function() {
                z.b(Mh)
            }, !0);
            this.Nh = Date.now();
            return this
        },
        postRender: function() {
            hp() ? $(".create-station-no-sample").hide() : $(".sample_allowed").hide();
            $(".iTunes-badge").hide()
        },
        gx: function(b) {
            this.Pj = b.UD;
            this.Oh = Date.now();
            b.Fv == this.Sf ? (this.sx(null != this.Pj ? this.Pj : "none"),
            R(Rw)) : (this.Sf = b.Fv,
            this.zE = b.NC ? "t" : "f",
            this.render())
        },
        close: function() {
            this.LL();
            this.kj() && R(Iu)
        },
        Nd: function(b) {
            var c = $(".sample.playing", this.el);
            this.kj() && (c.removeClass("playing"),
            $(".iTunes-badge").hide(),
            b.isError && c.addClass("sample-inactive").html("No Sample").parent(".btn_bg").addClass("disabled"))
        },
        kj: function() {
            return $(this.el).is(":visible")
        },
        UG: function(b) {
            if (this.kj()) {
                var c = null ;
                $("#extendedSearchResults .right_col .search_button.follow_button", this.el).each(r(this, function(d, e) {
                    $(e).data("webname") == b.webName && (c = $(e))
                }));
                c && (c.removeClass("followable"),
                c.addClass("following"),
                c.removeClass("hover"),
                c.find(".follow_button_label").text("Following"),
                c.addClass("immediate"))
            }
        },
        QQ: function(b) {
            if (this.kj()) {
                var c = null ;
                $("#extendedSearchResults .right_col .search_button.follow_button", this.el).each(r(this, function(d, e) {
                    $(e).data("webname") == b.webName && (c = $(e))
                }));
                c && (c.removeClass("following"),
                c.addClass("followable"),
                c.removeClass("hover"),
                c.find(".follow_button_label").text("Follow"))
            }
        },
        NQ: function(b) {
            if (this.kj()) {
                var c = null ;
                $("#extendedSearchResults .right_col .search_button.follow_button", this.el).each(r(this, function(d, e) {
                    $(e).attr("data-listenerid") == b && (c = $(e))
                }));
                c && (c.removeClass("blocked"),
                c.addClass("followable"),
                c.removeClass("hover"))
            }
        },
        events: {
            "click #extendedSearchResults .left_col .filter": "filterClick",
            "click #extendedSearchResults .right_col .more": "moreClick",
            "click #extendedSearchResults .right_col .create_station": "createStationClick",
            "click #extendedSearchResults .right_col .play_sample": "songSampleClick",
            "click #extendedSearchResults .right_col .dropdownmenu .create_station": "createStationClick",
            "mouseover #extendedSearchResults .right_col .search_button.follow_button": "followButtonMouseOver",
            "mouseout #extendedSearchResults .right_col .search_button.follow_button": "followButtonMouseOut",
            "click #extendedSearchResults .right_col .search_button.follow_button": "followButtonClick",
            "click .right_col .search_section#song": "songClick",
            "click .right_col .search_section#artist": "artistClick"
        },
        songClick: function(b) {
            "" == b.target.className && (R(Xw, "song"),
            this.wr(b, "song"))
        },
        artistClick: function(b) {
            "" == b.target.className && (R(Xw, "artist"),
            this.wr(b, "artist"))
        },
        followButtonClick: function(b) {
            var c = this.model.get("currentUser");
            if (null == c || c.p())
                R(Av, {
                    onSuccessRedirect: ez()
                });
            else {
                if (!$(b.currentTarget).hasClass("cannotFollow")) {
                    var c = $(b.currentTarget).data("webname")
                      , d = $(b.currentTarget).attr("data-listenerid");
                    $(b.currentTarget).hasClass("followable") ? z.b(Ij, {
                        webName: c,
                        ui_id: b.currentTarget.id
                    }) : $(b.currentTarget).hasClass("following") ? z.b(Jj, {
                        webName: c,
                        ui_id: b.currentTarget.id
                    }) : $(b.currentTarget).hasClass("blocked") ? z.b(Lj, d) : k.error("Unhandled follow state: ", $(b.target))
                }
                return !1
            }
        },
        followButtonMouseOver: function(b) {
            $(b.currentTarget).hasClass("cannotFollow") || $(b.currentTarget).addClass("hover");
            $(b.currentTarget).hasClass("followable") ? $(b.currentTarget).find(".follow_button_label").text("Follow") : $(b.currentTarget).hasClass("following") ? $(b.currentTarget).find(".follow_button_label").text("Unfollow") : $(b.currentTarget).hasClass("blocked") && $(b.currentTarget).find(".follow_button_label").text("Unblock")
        },
        followButtonMouseOut: function(b) {
            $(b.currentTarget).hasClass("cannotFollow") || $(b.currentTarget).removeClass("hover");
            $(b.currentTarget).hasClass("followable") ? $(b.currentTarget).find(".follow_button_label").text("Follow") : $(b.currentTarget).hasClass("following") ? $(b.currentTarget).find(".follow_button_label").text("Following") : $(b.currentTarget).hasClass("blocked") && $(b.currentTarget).find(".follow_button_label").text("Blocked");
            $(b.currentTarget).removeClass("immediate")
        },
        moreClick: function(b) {
            this.IA = Date.now();
            if ($(b.target).hasClass("unfiltered")) {
                var c = "/search/" + this.Sf
                  , d = $(b.target).closest(".search_section").get(0).id;
                "none" != d && (c += "/" + escape(d));
                V(c, !1, !0)
            } else {
                var d = $(b.target).closest(".search_section")
                  , c = $(".section", d).length
                  , e = $(".section:visible", d).length
                  , e = 5 >= e ? 10 : e + 10;
                e >= c && (e = c,
                $(b.target).fadeOut());
                for (var h = this.Ki, l = $(".section .bi-col-left .search_details .search_title a", d), p = 0; p < l.length; p++)
                    p >= e ? $.each(h, function(b, c) {
                        c.path == l[p].pathname && (h[b].hidden = !0)
                    }) : $.each(h, function(c, d) {
                        var e = $(b.target).closest(".search_section").get(0).id;
                        d.path != l[p].pathname || 0 != d.section.length && "none" != e && d.section != e || (h[c].hidden = !1)
                    });
                this.Ki = h;
                var q = "";
                $.each(h, function(b, c) {
                    !1 == c.hidden && (0 < b && (q += ","),
                    q += c.musicId)
                });
                this.model.set({
                    clientSearchResults: q
                });
                for (p = 0; p < e; p++)
                    $(".section", d).eq(p).fadeIn()
            }
            this.model.set({
                searchSequenceNum: this.model.get("searchSequenceNum") + 1
            });
            var d = $(b.target).closest(".search_section").get(0).id
              , q = void 0 === this.model.get("clientSearchResults") ? [] : this.model.get("clientSearchResults").split(",")
              , c = q.length
              , e = (void 0 === this.model.get("serverSearchResults") ? [] : this.model.get("serverSearchResults").split(",")).length
              , t = $("#extendedSearchResults .search_rCol .int-1 .search_term_section .search_term", this.el).text();
            this.JA = Date.now();
            d = {
                action: "scroll",
                listener_id: v.i.s,
                vendor_id: u,
                device_id: we,
                device_os: se(),
                app_version: z.ba,
                sequence_number: this.model.get("searchSequenceNum"),
                page_view: d,
                view_mode: "search_results",
                source: "station_list_top",
                client_timestamp_ms: Date.now(),
                selected_result_id: null ,
                selected_result_unique_id: null ,
                num_results_returned: e,
                num_results_shown: c,
                new_station: "false",
                query: t,
                server_result_list: this.model.get("serverSearchResults"),
                client_result_list: this.model.get("clientSearchResults"),
                time_to_display_ms: this.JA - this.IA
            };
            s("search_action", d, null )
        },
        sx: function(b) {
            $("#extendedSearchResults .left_col li", this.el).removeClass("selected");
            $("#extendedSearchResults .left_col #filter_" + b, this.el).parent().addClass("selected");
            "none" == b ? $("#extendedSearchResults .right_col .search_section", this.el).fadeIn() : $("#extendedSearchResults .right_col .search_section", this.el).each(r(this, function(c, d) {
                d.id == b ? $(d).fadeIn() : $(d).hide()
            }));
            var c = ""
              , d = [];
            $("#extendedSearchResults .right_col .search_section .section .row", this.el).each(r(this, function(b, e) {
                var h = $(".bi-col-left .search_details .search_title a", $(e)).data("path")
                  , l = $(".bi-col-right .menu .button-1 .create_station", $(e)).data("musicid")
                  , p = $(".bi-col-right .menu .btn_left .play_sample", $(e)).data("trackname")
                  , q = $(e).closest(".search_section").get(0).id;
                d.push({
                    musicId: l ? l : p ? p : "",
                    sampleId: p ? p : "",
                    path: h ? h : "",
                    section: q,
                    hidden: !0,
                    index: b
                });
                0 < b && (c += ",");
                c += l && 0 < l.length ? l : p
            }));
            this.Ki = d;
            this.model.set({
                serverSearchResults: c
            });
            this.model.set({
                searchSelectedIndex: -1
            });
            $("#extendedSearchResults .right_col .search_section", this.el).each(r(this, function(c, e) {
                for (var h = "none" == b ? 5 : 10, l = $(".section", $(e)), p = $(".bi-col-left .search_details .search_title a", l), q = 0; q < l.length; q++)
                    q >= h ? (l.eq(q).hide(),
                    $.each(d, function(b, c) {
                        c.path == (void 0 === p[q] ? "" : p[q].pathname) && (d[b].hidden = !0)
                    })) : (l.eq(q).show(),
                    $.each(d, function(c, e) {
                        e.path != (void 0 === p[q] ? !1 : p[q].pathname) || 0 != e.section.length && "none" != b && e.section != b || (d[c].hidden = !1)
                    }));
                l.length > h ? "none" == b ? ($(".more.unfiltered", $(e)).show(),
                $(".more.filtered", $(e)).hide()) : ($(".more.unfiltered", $(e)).hide(),
                $(".more.filtered", $(e)).show()) : $(".more", $(e)).hide()
            }));
            var e = ""
              , h = [];
            $.each(d, function(b, c) {
                !1 == c.hidden && (h.push(c.musicId),
                0 < e.length && (e += ","),
                e += c.musicId)
            });
            this.model.set({
                clientSearchResults: e
            });
            var l = h.length
              , p = void 0 === this.model.get("serverSearchResults") ? 0 : this.model.get("serverSearchResults").split(",").length
              , q = $("#extendedSearchResults .search_rCol .int-1 .search_term_section .search_term", this.el).text()
              , l = {
                action: "full_search",
                listener_id: v.i.s,
                vendor_id: u,
                device_id: we,
                device_os: se(),
                app_version: z.ba,
                sequence_number: this.model.get("searchSequenceNum"),
                page_view: "search",
                view_mode: "search_results",
                client_timestamp_ms: Date.now(),
                query: q,
                num_results_shown: l,
                num_results_returned: p,
                server_result_list: this.model.get("serverSearchResults"),
                client_result_list: this.model.get("clientSearchResults"),
                time_to_display_ms: this.Nh > this.Oh ? this.Nh - this.Oh : 0
            };
            s("search_action", l, null )
        },
        filterClick: function(b) {
            if (!$(b.target).hasClass("selected") && this.Sf && 0 < this.Sf.length) {
                var c = "/search/" + this.Sf;
                b = b.target.id.substring(7);
                "none" != b && (c += "/" + escape(b));
                V(c, !1, !0);
                return !1
            }
        },
        createStationClick: function(b) {
            var c = $(b.target);
            c.blur();
            var d = c.data("musicid")
              , e = c.attr("data-stationid")
              , h = c.attr("data-searchable-stationid");
            this.model.get("currentUser");
            var l = null
              , c = null
              , p = -1
              , q = $("#extendedSearchResults .search_rCol .int-1 .search_term_section .search_term", this.el).text();
            h ? c = l = h : d ? (l = Kn.StationKeyType.EXTENDED_SEARCH + d,
            c = d) : e && (l = Kn.StationKeyType.FRIENDS_STATION + e,
            c = e);
            l ? z.b(Hi, {
                stationCode: l,
                source: "search"
            }) : k.error("Unhandled station create code: ", b.target);
            (l = this.model.get("currentStation")) && (l = zn(l)) && l.key != d && R(Sw);
            e = this.model.get("searchSequenceNum");
            this.model.set({
                searchSequenceNum: e + 1
            });
            var e = (void 0 === this.model.get("clientSearchResults") ? [] : this.model.get("clientSearchResults").split(",")).length
              , h = (void 0 === this.model.get("serverSearchResults") ? [] : this.model.get("serverSearchResults").split(",")).length
              , t = b.target.attributes["data-path"];
            (t && 0 < t.length || d && 0 < d.length) && $.each(this.Ki, function(b, c) {
                if (t && c.path == t || d && c.musicId == d)
                    p = c.index,
                    d = c.musicId
            });
            b = d && d.length ? d.substr(0, 1) : null ;
            this.model.set({
                searchSelectedIndex: p
            });
            var y = !1;
            (l = this.model.get("currentStation")) && (l = zn(l)) && l.key != d && (y = !0);
            c = {
                action: "select",
                listener_id: v.i.s,
                vendor_id: u,
                device_id: we,
                device_os: se(),
                app_version: z.ba,
                sequence_number: this.model.get("searchSequenceNum"),
                page_view: "all",
                view_mode: "search_results",
                source: "station_list_top",
                client_timestamp_ms: Date.now(),
                selected_result_id: d,
                selected_result_unique_id: c && c.length ? c.substr(1, c.length - 1) : null ,
                selected_index: p,
                num_results_returned: h,
                num_results_shown: e,
                query: q,
                server_result_list: this.model.get("serverSearchResults"),
                client_result_list: this.model.get("clientSearchResults"),
                selected_result_type: b,
                selected_result_action: "play",
                new_station: y
            };
            s("search_action", c, null );
            return !1
        },
        songSampleClick: function(b) {
            $(b.target).blur();
            var c = 0 < $(b.target).parent(".sample").size || $(b.target);
            if (!c.hasClass("sample-inactive"))
                return c.hasClass("playing") ? (z.b(Qi),
                c.removeClass("playing")) : (z.b(Pi, {
                    url: c.data("sampleurl"),
                    gain: null != c.data("samplegain") ? Number(c.data("samplegain")) : 0
                }),
                c.addClass("playing"),
                c = c.data("trackname"),
                $(".iTunes-badge." + c).show(),
                $(".iTunes-badge." + c).css("visibility", "visible")),
                this.wr(b, "preview"),
                !1
        },
        iK: function() {
            this.cm && (V(this.cm, !0, !0),
            this.cm = null )
        },
        IF: function(b, c) {
            var d = null
              , e = !1;
            $("#extendedSearchResults .right_col .search_section", this.el).each(r(this, function(b, h) {
                if (null == c || h.id == c) {
                    var l = $(".section", h).eq(0);
                    if (100 == $(".search_details", l).data("score")) {
                        if (null != d)
                            return e = !0,
                            !1;
                        var y = $(".section", h).eq(1);
                        100 != $(".search_details", y).data("score") && (d = l)
                    }
                }
            }));
            if (null != d && !e) {
                var h = $(".create_station", d).data("musicid")
                  , l = $(".search_title a", d).attr("data-path");
                yA() ? le(l) && V(l, !0, !1) : (k.info("creating the station: " + h),
                this.cm = l,
                z.b(Hi, {
                    stationCode: "es" + h,
                    source: "search"
                }));
                return !0
            }
            return !1
        },
        wr: function(b, c) {
            var d = this.model.get("searchSequenceNum");
            this.model.set({
                searchSequenceNum: d + 1
            });
            var e = b.target.pathname
              , h = -1
              , l = ""
              , d = $("#extendedSearchResults .search_rCol .int-1 .search_term_section .search_term", this.el).text();
            $.each(this.Ki, function(b, c) {
                e && c.path == e && (h = c.index,
                l = c.musicId)
            });
            this.model.set({
                searchSelectedIndex: h
            });
            var p = l && l.length ? l.substr(0, 1) : null
              , q = void 0 === this.model.get("clientSearchResults") ? 0 : this.model.get("clientSearchResults").split(",").length
              , t = void 0 === this.model.get("serverSearchResults") ? 0 : this.model.get("serverSearchResults").split(",").length
              , d = {
                action: "select",
                listener_id: v.i.s,
                vendor_id: u,
                device_id: we,
                device_os: se(),
                app_version: z.ba,
                sequence_number: this.model.get("searchSequenceNum"),
                page_view: "search",
                view_mode: "search_results",
                source: "station_list_top",
                client_timestamp_ms: Date.now(),
                selected_result_id: l,
                selected_result_unique_id: l && l.length ? l.substr(1, l.length - 1) : null ,
                index: h,
                server_result_list: this.model.get("serverSearchResults"),
                client_result_list: this.model.get("clientSearchResults"),
                num_results_shown: q,
                num_results_returned: t,
                query: d,
                selected_result_type: p,
                selected_result_action: c
            };
            s("search_action", d, null )
        },
        LL: function() {
            var b = ez();
            if (0 < this.model.get("searchSequenceNum") && !(-1 < b.indexOf("/search/")) && 0 > this.model.get("searchSelectedIndex")) {
                this.model.set({
                    searchSequenceNum: this.model.get("searchSequenceNum") + 1
                });
                var b = ez()
                  , c = "back";
                -1 < b.indexOf("/music/top-stations") ? c = "browse_before_search" : "/" != b && (c = b);
                b = {
                    action: "exit_navigate_away",
                    listener_id: v.i.s,
                    vendor_id: u,
                    device_id: we,
                    device_os: se(),
                    app_version: z.ba,
                    sequence_number: this.model.get("searchSequenceNum"),
                    page_view: "search",
                    client_timestamp_ms: Date.now(),
                    view_mode: "search_results",
                    exit_path: c
                };
                s("search_action", b, null )
            }
        }
    });
    function dA() {}
    dA = Backbone.View.extend({
        initialize: function() {
            this.xF = this.options.type;
            this.yQ = this.options.targetId;
            this.tL = this.options.isTargetOwner;
            this.qy = this.options.hasMenu;
            this.fr = this.options.isActivityDelete;
            self.hl = null ;
            this.yt = !1;
            S(ew, r(this, this.wF));
            var b = this.model.get("currentUser");
            this.ix($(".notes .comment_box", this.el));
            this.Yx(this.el);
            this.Yp = new qy(b);
            ty(this.Yp, !1)
        },
        Yx: function(b) {
            var c = this.model.get("currentUser");
            null == c || c.p() || ($(".comments form", b).show(),
            $("h2", b).show(),
            this.qy ? _.each($(".comment_box .close", b), r(this, function(b) {
                $(b).parent().attr("data-sender-webname") != c.X && this.tE(b)
            })) : $('.comment_box[data-sender-webname="' + c.X + '"] .close', b).show())
        },
        ix: function(b) {
            var c = this.model.get("currentUser");
            if (null != c) {
                var d = null != c ? c.Ea : null
                  , e = c.Il;
                me(e) && (e = c.X);
                var h = this.tL;
                b.each(function(b, p) {
                    var q = $(this).attr("data-senderid")
                      , t = $(this).data("reports");
                    t && t.indexOf && -1 < t.indexOf(Number(c.s)) ? p.remove() : (c.s == q || h || $(".close", this).remove(),
                    $(".close", this).length ? $(".report", this).remove() : c.p() && $(".report", this).remove(),
                    c.s == q && (0 < d && $(".facebookThumbnail", this).attr("fbid", d),
                    $(".comment_name", this).empty().append($("#backstageCommentNameTmpl").tmpl({
                        webName: c.X,
                        senderName: e,
                        fbid: d
                    }))),
                    $(p).show())
                })
            }
        },
        wF: function(b) {
            b.fbid = b.senderFbId;
            Be() && b.sF && "profile" == b.sF ? ($("#backstageCommentTmpl").tmpl(b).prependTo($(".notes", this.el)),
            de(this, function() {
                $(".notes", this.el).slideDown()
            }, 1)) : $("#backstageCommentTmpl").tmpl(b).prependTo($(".notes", this.el)).slideDown();
            ty(this.Yp, !1)
        },
        tE: function(b) {
            var c = $(b).parent();
            c.prepend($("#profileCommentMenuTmpl").tmpl());
            new dz($(b),null ,$(".dropdownmenu", c));
            $(".remove_post", c).click(r(this, function(b) {
                this.Xw(b);
                return !1
            }));
            $(".block_user", c).click(r(this, function(b) {
                b = $(b.target).closest(".comment_box");
                b = $(b).attr("data-senderid");
                for (var c = $(".comment_box[data-senderid=" + b + "]"), h = 0; h < c.length; h++)
                    this.Yw(c.eq(h));
                z.b(Kj, b);
                return !1
            }))
        },
        close: function() {
            Xz(this)
        },
        events: {
            "focus .comments textarea[name=comment]": "commentFieldFocus",
            "blur .comments textarea[name=comment]": "commentFieldBlur",
            "submit form.comment_form": "submitComment",
            "click .post_button": "submitComment",
            "click .comment_box .close": "deleteComment",
            "click .comment_box .report": "reportComment",
            "mouseenter .comment_box": "mouseOverCommentBox",
            "mouseleave .comment_box": "mouseOutCommentBox",
            "keyup .comments textarea[name=comment]": "commentFieldGrow",
            "click .notes .show_more": "commentsGetMore",
            "click .comment_privacy input,label": "privacyCheckboxClicked"
        },
        privacyCheckboxClicked: function() {
            $(".comments textarea").focus();
            return !0
        },
        commentFieldGrow: function(b) {
            var c = $(b.target)
              , d = $(".comment_form", this.el)
              , e = b.target.scrollHeight;
            b = b.target.clientHeight;
            var h = parseInt(d.css("height"), 10)
              , l = b - c.height();
            e > b && (null == this.$r && null == this.Zr && (this.$r = b,
            this.Zr = h),
            c.css("height", e + "px"),
            d.css("height", l + h + (e - b) + "px"))
        },
        mouseOverCommentBox: function(b) {
            $(".close, .report", $(b.currentTarget)).fadeIn()
        },
        mouseOutCommentBox: function(b) {
            $(".close, .report", $(b.currentTarget)).fadeOut()
        },
        commentFieldFocus: function(b) {
            self.hl && (clearTimeout(self.hl),
            self.hl = null );
            var c = $(b.target).attr("data-default-text");
            $(b.target).val() == c && $(b.target).val("");
            $(".post_button", this.el).is(":visible") || $(".comment_controls", this.el).height(0).animate({
                height: $(".post_button", this.el).height()
            }, 200, r(this, function() {
                $(".comment_controls", this.el).css("height", "");
                $(".post_button", this.el).fadeIn();
                0 < $(".comment_privacy").length && $(".comment_privacy").fadeIn()
            }))
        },
        commentFieldBlur: function(b) {
            self.hl = setTimeout(r(this, function() {
                "" == $(b.target).val() && $(b.target).val($(b.target).attr("data-default-text"));
                $(".comment_controls", this.el).css("height", $(".comment_controls", this.el).height());
                $(".post_button, .comment_privacy", this.el).fadeOut(400, r(this, function() {
                    $(".comment_controls", this.el).animate({
                        height: 0
                    }, 200)
                }))
            }), 200)
        },
        gO: function() {
            if (this.yt)
                return !1;
            this.yt = !0;
            setTimeout(r(this, function() {
                this.yt = !1
            }), 500);
            return !0
        },
        submitComment: function() {
            if (this.gO()) {
                var b = $(".comments textarea", this.el)
                  , c = Hd(b.val())
                  , d = $(".comments input[name=private_comment]:visible");
                R(Vu, new Ky(this.xF,this.yQ,c,1 == d.length && d.is(":checked")));
                b.val(b.attr("data-default-text")).blur();
                s("comment", {
                    action: "submit"
                }, this.model.get("currentUser"));
                this.$r && this.Zr && (b = $(".comment_form", this.el),
                $(".comment_form textarea[name=comment]", this.el).css("height", this.$r + "px"),
                b.css("height", this.Zr + "px"));
                return !1
            }
        },
        deleteComment: function(b) {
            if ($(b.target).attr("feedid")) {
                var c = $(b.target).closest(".comment_box");
                c.slideUp();
                z.b(kj, {
                    feedId: $(b.target).attr("feedId"),
                    isActivityDelete: this.fr,
                    deleteCompletely: !0
                })
            } else {
                var c = $(b.target).closest(".comment_box")
                  , d = this.model.get("currentUser");
                this.qy && c.attr("data-sender-webname") != d.X || (this.Xw(b),
                s("comment", {
                    action: "delete"
                }, this.model.get("currentUser")))
            }
            return !1
        },
        reportComment: function(b) {
            b = $(b.target).closest(".comment_box").attr("data-noteid");
            R(Xu, b)
        },
        Xw: function(b) {
            b = $(b.target).closest(".comment_box");
            this.Yw(b)
        },
        Yw: function(b) {
            var c = b.attr("data-noteid");
            b.slideUp();
            R(Wu, c)
        },
        commentsGetMore: function(b) {
            var c = parseInt($(b.target).data("nextstartindex"), 10);
            $(".show_more", this.el).fadeOut("fast");
            var d = "/content" + $(b.target).data("ajaxpath");
            bA(d, {
                csi: c,
                cachebuster: "" + (new Date).getTime()
            }, r(this, function(d) {
                d = '<span id="commentSet' + c + '">' + d + "</span>";
                $(b.target).after(d);
                de(this, function() {
                    var b = $("#commentSet" + c + " .comment_box", this.el);
                    this.ix(b);
                    this.Yx(b);
                    uy(this.Yp, !0, b)
                }, 1)
            }), function() {
                z.b(Mh)
            }, !0);
            return !1
        }
    });
    function zA() {}
    zA = Backbone.View.extend({
        initialize: function() {
            this.lb = this.options.detail_url;
            z.c(hf, r(this, this.Nd));
            z.c(He, r(this, this.$a));
            z.c(Kk, r(this, this.ws));
            S(Uv, r(this, this.Xi));
            this.Qe = null ;
            this.xb = [];
            this.options.el && (this.lb = $(".backstage", this.el).data("url"),
            this.Gj())
        },
        className: "artist_detail",
        render: function() {
            var b, c = ie(this.lb);
            if (1 == c.length)
                b = "/content/music/artist/" + c[0];
            else if (2 == c.length)
                b = "/content/music/album/" + c[0] + "/" + c[1];
            else {
                z.b(Mh, this.lb);
                return
            }
            bA(b, {}, r(this, this.Rr), function() {
                setTimeout(function() {
                    V("/search/" + c[c.length - 1], !0, !1)
                }, 300)
            }, !0);
            return this
        },
        Rr: function(b) {
            this.closed || ($(this.el).append(b),
            this.Gj())
        },
        Gj: function() {
            k.debug("sending google analytics event: backstage");
            window.ga("send", "pageview", "/backstage");
            $(".artist_bio", this.el).addClass("short_bio");
            $(".full_bio_link", this.el).show();
            $(".createStation", this.el).parent().show();
            this.Yb = $(".backstage", this.el).data("musicid");
            this.dz = $(".backstage", this.el).data("musicianname");
            this.ok();
            this.Wv();
            cA(this.el, this.model.get("currentUser"));
            this.processQueryParams();
            hp || $(ne).hide()
        },
        Wv: function() {
            var b = $(".discography .albums li", this.el).length;
            setTimeout(r(this, function() {
                if (!this.closed) {
                    var c = $(".discography .albums .scroll-content li", this.el).first().width()
                      , d = 0;
                    $(".discography .albums .scroll-content li", this.el).each(function() {
                        var b = 1 * $(this).height();
                        b > d && (d = b)
                    });
                    d += 20;
                    $(".discography .albums .scroll-content", this.el).css("width", c * b);
                    $(".discography .albums .scroll-content", this.el).css("height", d);
                    0 == $(".ie8").length && Yx($(".discography .albums.scroll-pane", this.el), "artist_detail");
                    2 == ie(this.lb).length && this.showAlbumDetail(this.lb)
                }
            }), 1)
        },
        ws: function() {
            var b = $(".discography .albums.scroll-pane").closest(".scroll-pane");
            if (b && b.is(":visible"))
                try {
                    b.data("jsp").reinitialise({
                        hideFocus: !0,
                        verticalDragMinHeight: 40,
                        verticalDragMaxHeight: 100,
                        horizontalDragMinWidth: 100,
                        horizontalDragMaxWidth: 100,
                        horizontalGutter: 0
                    })
                } catch (c) {}
        },
        $a: function() {
            this.closed || (this.ok(),
            this.Wv(),
            this.ws())
        },
        show: function() {
            $(this.el).show();
            this.ws()
        },
        ok: function() {
            var b = xo($(".likeButton[data-like-type=artist]", this.el));
            R(Ev, b);
            this.bp && R(Ev, xo(this.bp));
            null == this.Bb && null != this.model.get("currentUser") && (this.Bb = new dA({
                el: $(".backstage", this.el).get(0),
                model: this.model,
                type: "music",
                targetId: this.Yb
            }))
        },
        processQueryParams: function() {
            for (var b = $.address.queryString().split("&"), c = 0; c < b.length; c++)
                "bio" == b[c] && this.fullBioLinkClick()
        },
        close: function() {
            this.ph && clearInterval(this.ph);
            this.closed = !0;
            var b = $(".discography .albums.scroll-pane", this.el).data("jsp");
            b && b.destroy();
            this.Bb && this.Bb.close();
            $(this.el).remove();
            this.el = null ;
            z.pa(this)
        },
        showAlbumDetail: function(b) {
            b = decodeURIComponent(b).replace(/\+/g, " ");
            $(".scroll-img").each(function() {
                var c = $(this).children("a").attr("href")
                  , c = decodeURIComponent(c).replace(/\+/g, " ");
                c == b ? $(this).addClass("on") : $(this).hasClass("on") && $(this).removeClass("on")
            });
            for (var c = $(".discography .album_detail", this.el), d = 0; d < c.length; d++) {
                var e = $(c[d]);
                if (decodeURIComponent(e.data("url")).replace(/\+/g, " ") == b)
                    return $(this.el).is(":visible") || ($("#mainContent").children().hide(),
                    $(this.el).show()),
                    this.Qe ? e.data("musicid") != this.Qe.data("musicid") && this.Qe.fadeOut(200, r(this, function() {
                        this.cw(e);
                        e.fadeIn(400)
                    })) : (this.cw(e),
                    e.slideDown(400)),
                    this.Qe = e,
                    this.bp = $(".likeButton[data-like-type=album]", this.Qe),
                    R(Ev, xo(this.bp)),
                    c = this.model.get("currentUser"),
                    c = (null != c ? c.J() : 1) ? 325 : 450,
                    $(".track_link", e).truncate({
                        width: c,
                        after: "&hellip;&nbsp;"
                    }),
                    (c = $(".buy_btn", e)) && 0 < c.length && (d = new yz({
                        buyButton: c,
                        buyMenu: $(".dropdownmenu", e).eq(0),
                        model: this.model
                    }),
                    d.Ms(this.Yb, this.dz),
                    d.YO(e.data("musicid")),
                    d.Fh(c.data("itunesurl"), c.data("amazonurl"), c.data("amazondigitalasin"))),
                    !0
            }
            return !1
        },
        getArtistHashPath: function() {
            var b = $(".backstage", this.el).data("url");
            return b ? b.replace(/^(#\!?)/, "") : null
        },
        events: {
            "click .full_bio_link": "fullBioLinkClick",
            "click .createStation": "createStationClick",
            "focus .albums": "albumsFocus",
            "click .album_close": "albumClose",
            "click .buy_btn": "buyAlbumClick",
            "click .likeButton": "clickLikeButton",
            "mouseover .likeButton": "mouseOverLikeButton",
            "mouseout .likeButton": "mouseOutLikeButton",
            "click .similar_artist": "similarArtistClick",
            "click .album_link": "albumClick",
            "click .track_link": "trackClick",
            "click .buyButton": "buyButtonClick",
            "click .play_button": "sampleButtonClick"
        },
        mouseOverLikeButton: function(b) {
            gy(b)
        },
        mouseOutLikeButton: function(b) {
            hy(b)
        },
        sampleButtonClick: function(b) {
            $(b.currentTarget).blur();
            this.xb = null ;
            var c = $(b.currentTarget).parent();
            if (c.hasClass("sample-inactive"))
                $(b.currentTarget).hide();
            else {
                if (c.hasClass("playing"))
                    z.b(Qi);
                else {
                    b = c.attr("data-sample-url");
                    var d = c.attr("data-gain");
                    if (b)
                        z.b(Pi, {
                            url: b,
                            gain: Number(d)
                        }),
                        c.addClass("playing"),
                        c.find(".iTunes-badge").show();
                    else
                        return !0
                }
                return !1
            }
        },
        clickLikeButton: function(b) {
            var c = this.model.get("currentUser");
            if (null == c || c.p())
                R(Av, {
                    onSuccessRedirect: ez()
                });
            else {
                var d = $(b.currentTarget);
                b = d.attr("data-like_id");
                c = d.attr("data-like-type");
                d = d.attr("data-like-objectid");
                b ? z.b(vj, b) : z.b(uj, {
                    type: c,
                    objectId: d,
                    context: "artist_page",
                    contextId: this.Yb,
                    contextName: this.dz
                });
                return !1
            }
        },
        Xi: function(b) {
            ey(this.el, b)
        },
        fullBioLinkClick: function() {
            R(Xw, "artist");
            var b = $(".artist_bio_inner", this.el).height();
            $(".artist_bio", this.el).animate({
                "max-height": b
            }, r(this, function() {
                $(".artist_bio", this.el).removeClass("short_bio").css({
                    overflow: "",
                    "max-height": ""
                });
                $(".full_bio_link", this.el).hide()
            }));
            s("link", {
                click: "showFullBio",
                source: "ArtistDetailView"
            }, this.model.get("currentUser"));
            return !1
        },
        createStationClick: function() {
            if (jz(this.model))
                return R(Av, {
                    onSuccessRedirect: ez()
                }),
                !1;
            this.model.get("currentUser");
            z.b(Hi, {
                stationCode: "mi" + this.Yb,
                source: "artist_page"
            });
            return !1
        },
        albumsFocus: function(b) {
            $(b.target).blur()
        },
        cw: function(b) {
            b.css("visibility", "hidden").show();
            Yx($(".scroll-pane", b), "album_detail");
            b.hide().css("visibility", "visible");
            this.ph && clearInterval(this.ph);
            this.ph = setInterval(function() {
                $(".jspPane", b).css("left", 0)
            }, 500)
        },
        albumClose: function() {
            this.ph && clearInterval(this.ph);
            this.Qe && ($(".scroll-img").each(function() {
                $(this).hasClass("on") && $(this).removeClass("on")
            }),
            this.Qe.slideUp(200),
            this.Qe = null );
            ez() != this.getArtistHashPath() && V(this.getArtistHashPath(), !0, !0);
            return !1
        },
        buyAlbumClick: function() {
            s("link", {
                click: "buyButton",
                source: "ArtistDetailView"
            }, this.model.get("currentUser"));
            return !1
        },
        zz: function() {
            if (null != this.xb && 0 < this.xb.length) {
                var b = $(this.xb[0]);
                if (!b.hasClass("sample-inactive")) {
                    var c = b.attr("data-sample-url")
                      , d = b.attr("data-gain");
                    z.b(Pi, {
                        url: c,
                        gain: Number(d)
                    });
                    $(b).parent(".sample").addClass("playing")
                }
            }
        },
        Nd: function(b) {
            var c = $(".sample.playing", this.el);
            c.removeClass("playing");
            $(".iTunes-badge").hide();
            b.isError ? (b = c.closest(".album_detail"),
            b.find(".sample").addClass("sample-inactive").find("a").attr("title", "Sample Unavailable"),
            b.find(".sample_all_btn").addClass("sample-inactive").attr("title", "Sample All Unavailable"),
            this.xb = null ) : null != this.xb && 0 < this.xb.length && b.reachedEnd && b.url == $(this.xb[0]).attr("data-sample-url") && (this.xb.shift(),
            this.zz())
        },
        similarArtistClick: function() {
            R(Xw, "artist");
            s("link", {
                click: "getRelatedArtist",
                source: "ArtistDetailView"
            }, this.model.get("currentUser"))
        },
        albumClick: function() {
            R(Xw, "album")
        },
        trackClick: function() {
            R(Xw, "song")
        },
        buyButtonClick: function() {
            s("link", {
                click: "buyButton",
                source: "ArtistDetailView"
            }, this.model.get("currentUser"))
        }
    });
    function AA() {}
    AA = Backbone.View.extend({
        initialize: function() {
            this.lb = this.options.detail_url;
            this.Km = this.options.fullLyrics;
            this.CP = this.options.focusTraits;
            z.c(hf, r(this, this.Nd));
            z.c(He, r(this, this.ok));
            S(Uv, r(this, this.Xi));
            S(Sv, r(this, this.Bq));
            this.options.el && (this.lb = $(".backstage", this.el).data("url"),
            this.Gj())
        },
        className: "song_detail",
        render: function() {
            var b = this.lb.split("/");
            bA("/content/music/song" + this.lb, {}, r(this, this.fN), function() {
                var c = "";
                _.each(b, function(b) {
                    b = $.trim(b);
                    0 < b.length && "-" != b && (c += (0 < c.length ? " " : "") + b)
                });
                V("/search/" + c + "/song", !0, !1)
            }, !0);
            return this
        },
        fN: function(b) {
            $(this.el).append(b);
            this.Gj()
        },
        Gj: function() {
            k.debug("sending google analytics event: backstage");
            window.ga("send", "pageview", "/backstage");
            $(".left_col_buttons", this.el).show();
            $(".sample", this.el).show();
            var b = fp();
            !this.Km && b ? $(".full_lyrics", this.el).show() : b || $(".full_lyrics", this.el).hide();
            $(".song_features .full", this.el).hide();
            $(".song_features .show_more", this.el).show();
            this.Yb = $(".backstage", this.el).data("musicid");
            this.wA = $(".backstage", this.el).data("songname");
            this.Wy = Hy($(".backstage", this.el));
            this.lb = $(".backstage", this.el).data("url");
            b = ez();
            b != this.lb && 0 != b.indexOf("/land/song/") && V(this.lb, !1, !1);
            this.ok();
            if ((b = $(".buyButton", this.el)) && 0 < b.length) {
                var c = new yz({
                    buyButton: b,
                    buyMenu: $(".dropdownmenu", this.el).eq(0),
                    model: this.model
                })
                  , d = this.model.get("selectedArtist");
                d && c.Ms(d.hf, d.getName());
                c.gA(this.Yb, this.wA);
                c.Fh(b.data("itunesurl"), b.data("amazonurl"), b.data("amazondigitalasin"))
            }
            this.Km && de(this, function() {
                R(Ku, this.Wy)
            }, 100);
            this.CP && (this.fullFeaturesClick(),
            $(window).scrollTop($("div.song_features h2", this.el).offset().top - $("#main").offset().top))
        },
        ok: function() {
            var b = $(".likeButton[data-like-type=song]", this.el);
            if (0 < b.length) {
                b = xo(b);
                R(Ev, b);
                var b = ".lyricSnippet"
                  , c = ".lyricSnippetClean"
                  , d = ".explicitSample"
                  , e = ".cleanSample"
                  , h = this.model.get("currentUser");
                h && h.Vb && (b = ".lyricSnippetClean",
                c = ".lyricSnippet",
                d = ".cleanSample",
                e = ".explicitSample");
                $(e).hide();
                hp() ? $(d).show() : $(d).hide();
                fp() ? (this.Km || ($(c, this.el).hide(),
                $(b, this.el).show()),
                "" != $.trim($(b + " div").text()) ? $(".lyrics", this.el).show() : $(".lyrics", this.el).hide()) : ($(c, this.el).hide(),
                $(b, this.el).hide(),
                $(".lyrics", this.el).hide())
            }
            null == this.Bb && null != this.model.get("currentUser") && (this.Bb = new dA({
                el: $(".backstage", this.el).get(0),
                model: this.model,
                type: "music",
                targetId: this.Yb
            }))
        },
        close: function() {
            this.Bb && this.Bb.close();
            $(this.el).remove();
            this.el = null ;
            z.pa(this);
            Xz(this)
        },
        Nd: function(b) {
            var c = $(".sample.playing", this.el);
            $(".sample", this.el).removeClass("playing");
            $(".iTunes-badge").hide();
            b.isError && (c.find("span").addClass("sample-inactive"),
            c.find("a").attr("title", "Sample Unavailable").find("span").html("Sample Unavailable"))
        },
        Bq: function(b) {
            if (b.o() == this.Yb)
                if (fp()) {
                    var c = $(".lyrics", this.el).height();
                    $(".lyrics", this.el).css({
                        overflow: "hidden",
                        "max-height": c
                    });
                    $(".lyrics .lyricSnippet", this.el).hide();
                    $(".lyrics .lyricSnippetClean", this.el).hide();
                    $(".lyrics .fullLyrics div", this.el).empty().append(b.Av).parent().append($("#fullLyricsCreditsTmpl").tmpl(b.iv));
                    b = $(".lyrics .fullLyrics", this.el).height();
                    $(".lyrics", this.el).animate({
                        "max-height": b
                    }, r(this, function() {
                        $(".lyrics", this.el).css({
                            overflow: "",
                            "max-height": ""
                        });
                        this.Km && $(window).scrollTop($("div.lyrics h2", this.el).offset().top - $("#main").offset().top)
                    }))
                } else
                    $(".lyrics", this.el).hide()
        },
        events: {
            "click .lyrics a.full_lyrics": "fullLyricsClick",
            "click .song_features a": "fullFeaturesClick",
            "click .createStation": "createStationClick",
            "click .play_button": "sampleClick",
            "click .buyButton": "buyButtonClick",
            "click .likeButton": "clickLikeButton",
            "click .shareButton": "clickShareButton",
            "click .track_link": "clickTrackLink",
            "click .album_link": "clickAlbumLink",
            "click .artist_link": "clickArtistLink",
            "mouseover .likeButton": "mouseOverLikeButton",
            "mouseout .likeButton": "mouseOutLikeButton"
        },
        mouseOverLikeButton: function(b) {
            gy(b)
        },
        mouseOutLikeButton: function(b) {
            hy(b)
        },
        clickShareButton: function(b) {
            var c = this.model.get("currentUser");
            if (null == c || c.p())
                R(Av, {
                    onSuccessRedirect: ez()
                });
            else
                return b = $(b.target).data("song"),
                b = new Fn(b,null ),
                s("link", {
                    click: "shareButton",
                    source: "SongDetailView"
                }, this.model.get("currentUser")),
                R(Yu, {
                    mode: "song",
                    track: b
                }),
                !1
        },
        clickLikeButton: function(b) {
            var c = this.model.get("currentUser");
            if (null == c || c.p())
                R(Av, {
                    onSuccessRedirect: ez()
                });
            else {
                var d = $(b.currentTarget);
                b = d.attr("data-like_id");
                c = d.attr("data-like-type");
                d = d.attr("data-like-objectid");
                b ? z.b(vj, b) : z.b(uj, {
                    type: c,
                    objectId: d,
                    context: "song_page",
                    contextId: this.Yb,
                    contextName: this.wA
                });
                return !1
            }
        },
        Xi: function(b) {
            ey(this.el, b)
        },
        fullLyricsClick: function() {
            R(Gw);
            R(Ku, this.Wy);
            return !1
        },
        lessLyricsClick: function() {
            R(Hw);
            return !1
        },
        fullFeaturesClick: function() {
            $(".song_features div", this.el).fadeIn();
            $(".song_features a", this.el).hide();
            return !1
        },
        createStationClick: function() {
            if (jz(this.model))
                return R(Av, {
                    onSuccessRedirect: ez()
                }),
                !1;
            z.b(Hi, {
                stationCode: "mi" + this.Yb,
                source: "track_page"
            });
            return !1
        },
        sampleClick: function(b) {
            $(b.currentTarget).blur();
            this.xb = null ;
            var c = $(b.currentTarget).parent(".sample");
            if (!c.hasClass("sample-inactive")) {
                if (c.hasClass("playing"))
                    z.b(Qi);
                else {
                    var d = $(b.currentTarget).siblings().first();
                    b = d.attr("data-sample-url");
                    d = d.attr("data-gain");
                    if (b)
                        z.b(Pi, {
                            url: b,
                            gain: Number(d)
                        }),
                        c.addClass("playing"),
                        $(".iTunes-badge").show();
                    else
                        return !0
                }
                return !1
            }
        },
        buyButtonClick: function() {
            s("link", {
                click: "buyButton",
                source: "SongDetailView"
            }, this.model.get("currentUser"))
        },
        clickTrackLink: function() {
            R(Xw, "song");
            return !0
        },
        clickArtistLink: function() {
            R(Xw, "artist");
            return !0
        },
        clickAlbumLink: function() {
            R(Xw, "album");
            return !0
        }
    });
    function BA() {}
    BA = Backbone.View.extend({
        render: function() {
            if (this.model.get("currentUser").J())
                (new X({
                    message: Sb()
                })).render(),
                z.b(Mh);
            else {
                var b = {};
                b.desktopAppUrl = A._data.desktopAppUrl;
                $(this.el).append($("#desktopAppDownloadTmpl").tmpl(b));
                window.navigator.platform && (b = window.navigator.platform.toLowerCase(),
                -1 != b.indexOf("win") || b.indexOf("mac"));
                $("#install_no_auto", this.el).show();
                $("#install_with_auto", this.el).hide();
                return this
            }
        }
    });
    function CA() {}
    CA = Backbone.View.extend({
        initialize: function() {
            this.Bd = this.options.cancelHash
        },
        render: function() {
            var b = this.model.get("currentUser");
            s("account_desktopapp_page_hit", {
                vendor_id: u
            }, b);
            $(this.el).append($("#desktopAppUpsaleTmpl").tmpl({
                isUserAUNZ: b.Sa,
                offerAnnualSub: b.Ce,
                monthlyPrice: my(no(b)),
                annualPrice: my(b.le.toString()),
                showTrial: b.rh,
                showBusinessOffer: b.Xb
            }))
        },
        events: {
            "click #upgrade_now": "upgradeNowClick",
            "click #start_trial": "startTrialClick"
        },
        upgradeNowClick: function() {
            var b = $("input[name='frequency']:checked", this.el).val();
            R(ev, {
                billingFrequency: b,
                cancelCallback: r(this, function() {
                    V(this.Bd, !0, !0)
                })
            });
            return !1
        },
        startTrialClick: function() {
            V("/one/trial/start", !0, !0)
        }
    });
    function DA(b, c, d, e, h) {
        this.id = EA++;
        this.displayName = b;
        this.resourcePath = c;
        this.previewImage = d;
        this.sponsored = !0 === e ? !0 : !1;
        this.retired = !0 === h ? !0 : !1
    }
    var EA = 0;
    function FA() {}
    FA = Backbone.View.extend({
        xk: [new DA("Default","/skins/pandoraone","skin_preview_default.png",!1,!1), new DA("Dead Days","/skins/skulls","skin_preview_skulls.png",!1,!1), new DA("The Mash","/skins/monsters","skin_preview_monsters.png",!1,!1), new DA("Purple Wave","/skins/purplewave","skin_preview_purplewave.png",!1,!1), new DA("Cosmic Rift","/skins/cosmicrift","skin_preview_cosmic.png",!1,!1), new DA("Freebird","/skins/birds","skin_preview_birds.png",!1,!1), new DA("Lullaby","/skins/night","skin_preview_night.png",!1,!1), new DA("Deep Sea Disco","/skins/deepseadisco","skin_preview_sea.png",!1,!1), new DA("Honeycomb","/skins/honeycomb","skin_preview_honeycomb.png",!1,!1), new DA("Danger Diamond","/skins/dangerdiamond","skin_preview_dangerdiamond.png",!1,!1), new DA("Vertical Violet","/skins/profplum","skin_preview_profplum.png",!1,!1), new DA("Cassettes","/skins/cassettes","skin_preview_cassettes.png",!1,!1), new DA("Rock the Mic","/skins/rockthemic","skin_preview_rockthemic.png",!1,!0), new DA("Sunny Day","/skins/day","skin_preview_day.png",!1,!1), new DA("Winter Leaf","/skins/leaves","skin_preview_leaves.png",!1,!1), new DA("Blue Sky","/skins/clouds","skin_preview_clouds.png",!1,!1), new DA("Owl Hour","/skins/owl","skin_preview_owl.png",!1,!0), new DA("Gem Jam","/skins/gemjam","skin_preview_gemjam.png",!1,!0), new DA("Sasquatch","/skins/sasquatch","skin_preview_sasquatch.png",!1,!1), new DA("Pool","/skins/pool","skin_preview_pool.png",!1,!1), new DA("Beach","/skins/beach_scene_p1","skin_preview_beach_scene_p1.png",!1,!1)],
        initialize: function() {
            z.c(Ih, r(this, this.render));
            S(Pu, r(this, this.render));
            z.c(bg, r(this, this.xM));
            z.c(cg, r(this, this.pM));
            this.model.bind("change:currentSkinPath", r(this, this.eN));
            this.Hm = this.Xj = null ;
            this.ce = this.xk
        },
        render: function() {
            if ($(".skinPickerPopup").is(":visible"))
                return $(this.el).empty(),
                !1;
            var b = by("skinPickerPopup", $("#skinPickerHeaderTmpl").tmpl(), "");
            $("body").append($(this.el).append(b));
            for (var b = $(".content", this.el), c = this.Jx(this.model.get("currentSkinPath")), d = 0; d < this.ce.length; d++) {
                var e = this.ce[d];
                (!0 != e.retired || null != c && c.id == e.id) && b.append($("#skinDefinitionTmpl").tmpl(this.ce[d]))
            }
            0 == $(".ie8").length && setTimeout(r(this, function() {
                Yx($(".scroll-pane", this.el))
            }), 500);
            return this
        },
        events: {
            "click .skin_definition_container": "skinDefinitionClick",
            "closed .lightbox": "cancelClick"
        },
        skinDefinitionClick: function(b) {
            b = this.ce[parseInt(b.currentTarget.id, 10)];
            s("skin_switched", {
                valance_name: b.displayName
            }, this.model.get("currentUser"));
            R(Qv, b.resourcePath);
            return !1
        },
        cancelClick: function() {
            $(this.el).empty();
            return !1
        },
        eN: function() {
            var b = this.model.get("currentSkinPath")
              , c = "/static/pandora_one" + b;
            $("#skinStyle").attr("href", me(c) ? "" : c + "/skin.css");
            this.Qz(b);
            return !1
        },
        Qz: function(b) {
            try {
                var c = this.Jx(b);
                R(Rv, c);
                k.debug("Ping the skin tracker url " + this.Xj);
                if (c) {
                    if (!0 === c.sponsored && this.Xj) {
                        var d = this.Xj.replace("__SKIN__", encodeURIComponent(b.split("/")[2]))
                          , d = d.replace("__CACHEBUSTER__", je());
                        xp(d, function() {}, function() {})
                    }
                    this.Hm = null
                } else
                    this.Hm = b
            } catch (e) {
                k.error("Exception?", e)
            }
        },
        xM: function(b) {
            if (b && b.menuEntries) {
                for (var c = b.menuEntries.split(/\r\n|\n|\t|\r/), d = [], e = EA = 0; e < c.length; e++) {
                    var h = jQuery.trim(c[e]);
                    if (h) {
                        var h = h.split("|")
                          , l = h[1];
                        d.push(new DA(h[0],"/skins/" + l,"skin_preview_" + l + ".png",!0,!1))
                    }
                }
                $.each(this.xk, function(b, c) {
                    c.id = EA++;
                    d.push(c)
                });
                this.ce = d;
                this.Xj = b.skinTrackerUrl;
                this.Hm && this.Qz(this.Hm)
            }
        },
        pM: function() {
            EA = 0;
            $.each(this.xk, function(b, c) {
                c.id = EA++
            });
            this.ce = this.xk;
            this.Xj = null
        },
        Jx: function(b) {
            for (var c = this.ce.length, d = 0; d < c; d++) {
                var e = this.ce[d];
                if (b == e.resourcePath)
                    return e
            }
            return null
        }
    });
    function GA() {}
    GA = Backbone.View.extend({
        initialize: function() {
            z.c(Ih, r(this, this.render))
        },
        render: function() {
            var b = by("serviceUnavailablePopup", $("#serviceUnavailableHeaderTmpl").tmpl(), $("#serviceUnavailableContentTmpl").tmpl());
            0 < $("#splash:visible").length ? $("#splash").append($(this.el).append(b)) : $("body").append($(this.el).append(b));
            b.show();
            return this
        },
        events: {}
    });
    function HA() {}
    HA = Backbone.View.extend({
        initialize: function() {
            this.model.bind("change:currentContextualTip", r(this, this.render));
            $("body").append(this.el);
            this.Wt = !1;
            setTimeout(function() {
                var b = $(document.createElement("img")).attr("src", "/img/tip/bg_tip.png");
                b && b.hide()
            }, 1);
            z.c(Uk, r(this, this.DN));
            z.c(Vk, r(this, this.Aj))
        },
        className: "contextual_help_container",
        render: function() {
            var b = this.model.get("currentContextualTip");
            if (null == b)
                $(this.el).fadeOut("fast");
            else {
                if (this.Wt)
                    return;
                $(this.el).hide();
                $(this.el).children().remove();
                var c = $(b.anchorElementPath + ":visible");
                0 < c.length && ($(this.el).append($("#contextualHelpTmpl").tmpl(b)),
                $("#contextualHelpInitalText", this.el).show(),
                $("#contextualHelpMoreText", this.el).hide(),
                me(b.moreText) ? $("#hrefShowMore", this.el).hide() : $("#hrefShowMore", this.el).show(),
                setTimeout(r(this, function() {
                    var b = $(c[0])
                      , e = b.offset();
                    if (b.is(":visible")) {
                        var h = e.left - 37 + b.outerWidth() / 2
                          , b = e.top + 17 + b.scrollTop();
                        0 <= h && 0 <= b && ($(this.el).show(),
                        $(this.el).offset({
                            top: b,
                            left: h
                        }))
                    }
                }), 1E3))
            }
            return this
        },
        events: {
            "click #tipClose": "tipCloseClick",
            "click #hrefShowMore": "showMoreClick"
        },
        showMoreClick: function() {
            IA();
            $("#contextualHelpMoreText", this.el).fadeIn();
            $("#hrefShowMore", this.el).hide()
        },
        tipCloseClick: function() {
            $(this.el).fadeOut("fast");
            IA();
            R(Su)
        },
        DN: function() {
            this.tipCloseClick();
            this.Wt = !0
        },
        Aj: function() {
            this.Wt = !1
        }
    });
    function JA() {}
    JA = Backbone.View.extend({
        ii: "wwwpandoracom-20",
        jC: 6E4,
        initialize: function() {
            this.$m = this.Ym = !0;
            S(Ju, r(this, this.render));
            S(ov, r(this, this.As));
            S(wv, r(this, this.UI));
            S(xv, r(this, this.TI));
            S(mw, r(this, this.Wx));
            S(nw, r(this, this.Wx));
            z.c(hf, r(this, this.Nd));
            z.c(Rf, r(this, this.Aq));
            z.c(Sf, r(this, this.Nq));
            z.c(Uf, r(this, this.gI));
            z.c(Vf, r(this, this.Mq));
            z.c(kj, r(this, this.gJ));
            z.c(lj, r(this, this.Cq));
            z.c(Kj, r(this, this.Cq));
            z.c(Me, r(this, this.WI));
            z.c(Ef, r(this, this.$l));
            z.c(Cf, r(this, this.RI));
            z.c(Vg, r(this, this.wq));
            this.model.bind("change:currentProfileInfo", r(this, this.As));
            this.model.bind("change:facebookAuthenticated", r(this, this.OI));
            this.Wz = !1;
            mz("/alsofollowing");
            $("#mainContent .profile_container_static").remove();
            setInterval(r(this, this.kF), this.jC)
        },
        className: "profile_container",
        render: function(b) {
            var c = null , d, e = {};
            this.xa = b.webname;
            e.webname = this.xa;
            e.showBio = !0;
            e.showActivityPanel = this.Ym;
            e.showLikesPanel = this.$m;
            var h = this.model.get("currentProfileInfo");
            h && !this.Xs() ? $.extend(e, h) : (e.followState = "cannotFollow",
            e.stationCount = "",
            e.bookmarkCount = "",
            e.likesCount = "",
            e.followingCount = "",
            e.followersCount = "");
            this.da = b.panelType;
            "likes" != this.da || this.$m || (this.da = Cu.toLowerCase());
            this.da != Cu.toLowerCase() || this.Ym || (this.da = "stations");
            $(".selected", this.el).removeClass("selected");
            var h = "#profileTmpl"
              , l = null ;
            this.da == Cu.toLowerCase() ? (c = "#profileNewsfeedTmpl",
            d = "#profile_tab_newsfeed",
            l = r(this, function() {
                this.Qm(this.xa, 0)
            })) : "stations" == this.da ? (d = "#profile_tab_stations",
            l = r(this, function() {
                this.Pz(this.xa, 0)
            })) : "bookmarks" == this.da ? (c = "#profileBookmarksTmpl",
            d = "#profile_tab_bookmarks",
            l = r(this, function() {
                this.sO(this.xa)
            })) : "likes" == this.da ? (d = "#profile_tab_likes",
            l = r(this, function() {
                this.Oz(this.xa)
            })) : "following" == this.da ? (d = "#profile_tab_following",
            l = r(this, function() {
                this.Nz(this.xa, 0)
            })) : "followers" == this.da ? (d = "#profile_tab_followers",
            l = r(this, function() {
                this.Mz(this.xa, 0)
            })) : this.da == Du.toLowerCase() ? (h = "#feedTmpl",
            d = null ,
            l = r(this, function() {
                $("#feed_tab", this.el).addClass("selected");
                this.Qm(this.xa, 0)
            })) : this.da == Eu.toLowerCase() ? (h = "#feedTmpl",
            d = null ,
            l = r(this, function() {
                $("#connect_tab", this.el).addClass("selected");
                this.Uf(null , !1, 0)
            })) : k.error("invalid panel type: " + this.da);
            $(this.el).contents().remove();
            $(this.el).append($(h).tmpl(e));
            null != l && l();
            null != c && $("#contentRight", this.el).append($(c).tmpl(e));
            e.showBio ? $("#contentRight", this.el).removeClass("content_right_nocontent") : $("#contentRight", this.el).addClass("content_right_nocontent");
            this.model.set({
                modalPanel: su
            });
            $("#mainContent").children().hide();
            $("#mainContent").append($(this.el));
            $(this.el).show();
            $(d, this.el).parent().addClass("on");
            this.kd();
            this.As();
            b.edit && this.editProfileClick(null );
            b.panelType == Eu && $(window).scrollTop(0);
            return this
        },
        Ot: function(b) {
            var c = "true" == b.attr("viewerLikedObject")
              , d = b.attr("objectId")
              , e = b.attr("objectType")
              , h = parseInt(b.attr("countLikes"), 10)
              , h = h + (1 == h ? " like" : " likes");
            b.empty().append($("#newsfeedLikeTmpl").tmpl({
                viewerLikedObject: c,
                objectId: d,
                objectType: e,
                countLikesDesc: h
            }))
        },
        Uf: function(b, c, d, e) {
            var h = this.model.get("currentUser");
            null != h && (this.model.get("facebookAuthenticated") && null == h.Hd ? z.b(rj) : (0 == d && ($("#contentRight", this.el).empty().append($("#connectTmpl").tmpl({})),
            this.kd()),
            KA("/content/" + (e ? "connect_fb_friends_page" : "connect"), {
                webname: this.xa,
                startIndex: d,
                wns: c,
                facebookFriendIds: (h.Hd ? h.Hd : []).join(","),
                searchString: null == b ? "" : b,
                cachebuster: "" + (new Date).getTime()
            }, r(this, function(c, h) {
                me(b) || $("#connect_search").val(b);
                var q = e ? $("#facebook_friends_container", this.el) : 0 == d ? $("#connectSearchResults", this.el) : $("#connectSearchResults .results_list", this.el);
                this.zs(c, h, q);
                $("#search", this.el).hide();
                $(".location", this.el).truncate({
                    width: $("#contentRight").width() - 230,
                    addtitle: !0
                });
                $(".stations", this.el).truncate({
                    width: $("#contentRight").width() - 230,
                    addtitle: !0
                });
                hp() || $(".sample_allowed").hide();
                $(".iTunes-badge").hide()
            }))))
        },
        kd: function() {
            $(".btn_bg", this.el).css("visibility", "visible");
            $(".profile_sample", this.el).show();
            $(".follow_button", this.el).show();
            $("#search", this.el).show();
            var b = this.model.get("currentUser")
              , c = this.model.get("currentProfileInfo");
            if (null != b && null != c) {
                var d = this.model.get("facebookAuthenticated");
                d ? $("#connect_find_fb_container", this.el).hide() : $("#connect_find_fb_container", this.el).show();
                0 < parseInt(this.model.get("currentProfileInfo").followingCount, 10) ? ($(".connect_promo", this.el).hide(),
                $("#connect_search_help", this.el).hide()) : ($(".connect_promo", this.el).show(),
                $("#connect_search_help", this.el).show());
                c = Gd(c, this.SK(), b.s == c.listenerId && !d, this.Xs());
                $(".img_profile").attr("src", c);
                $(".img_profile").css("cursor", b.Ea ? "default" : "pointer");
                c = $('.section[listenerId="' + b.s + '"]', this.el);
                $(".feed_profile", c).attr("src", Gd(b, !0));
                ty(new qy(b), !1)
            }
        },
        SK: function() {
            return this.da == Du.toLowerCase() || this.da == Eu.toLowerCase()
        },
        Qm: function(b, c) {
            this.Wz || ($(window).scroll(r(this, this.uR)),
            this.Wz = !0);
            $("#feed_updates_container").slideUp();
            var d = this.model.get("currentProfileInfo");
            this.model.get("currentUser");
            var e = this.da == Cu.toLowerCase()
              , d = {
                si: c,
                webname: b,
                followingCount: d.followingCount,
                only_own: e,
                cachebuster: "" + (new Date).getTime()
            }
              , h = "fetchingActivity" + e
              , l = "fetchingActivityTimeout" + e;
            JA[h] || (JA[h] = !0,
            JA[l] = setTimeout(function() {
                JA[h] = !1
            }, 5E3),
            bA("/content/newsfeed", d, r(this, function(b, d) {
                0 <= b.indexOf("feature_unavailable_error") && (e ? (this.Ym = !1,
                this.Fs()) : (R(jx),
                sz()),
                (new X({
                    message: ec()
                })).render());
                clearTimeout(JA[l]);
                JA[h] = !1;
                "success" == d && (0 == c && $("#contentRight", this.el).empty(),
                $("#contentRight", this.el).append(b));
                this.kd();
                var t = this.model.get("currentProfileInfo")
                  , y = this.model.get("currentUser");
                t.listenerId != y.s && "cannotFollow" == t.followState ? $("#contentRight .comments", this.el).remove() : (this.Bb && this.Bb.close(),
                this.Bb = new dA({
                    el: $(".profile_rCol", this.el).get(0),
                    model: this.model,
                    type: "profile",
                    targetId: t.listenerId,
                    hasMenu: !0,
                    isActivityDelete: e
                }),
                $("#contentRight .comments .notes .comment_box", this.el).hide());
                $(".newsfeed_more", this.el).click(function(b) {
                    var c = $(b.target).parents(".friend_feed");
                    $(".truncated", c).fadeOut(200, function() {
                        $(".long", c).fadeIn()
                    });
                    return !1
                });
                _.each($(".like_button_container", this.el), r(this, function(b) {
                    this.Ot($(b))
                }));
                _.each($(".like_section .section .menu", this.el), r(this, function(b) {
                    var c = $(".newsfeed_buy", b);
                    c && 0 < c.length ? ((new yz({
                        buyButton: c,
                        buyMenu: $(".dropdownmenu", b).eq(0),
                        model: this.model
                    })).Fh(String(c.data("itunesurl")), String(c.data("amazonurl")), String(c.data("amazondigitalasin"))),
                    new dz($(".menu_dropdown", $(b)),null ,$(".dropdownmenu", $(b)).eq(1))) : new dz($(".menu_dropdown", $(b)),null ,$(".dropdownmenu", $(b)))
                }));
                _.each($(".feed_hide_button", this.el), r(this, function(b) {
                    var c = this.model.get("currentUser");
                    $(b).hasClass("follow_post") ? $(b).click(r(this, function() {
                        z.b(kj, {
                            feedId: $(b).attr("multiFeedIds"),
                            isActivityDelete: e,
                            deleteCompletely: "true" == $(b).attr("deleteCompletely")
                        });
                        $(b).parents(".section").slideUp()
                    })) : c && $(b).attr("listenerid") == c.s ? $(b).click(r(this, function() {
                        z.b(kj, {
                            feedId: $(b).attr("feedId"),
                            isActivityDelete: e,
                            deleteCompletely: "true" == $(b).attr("deleteCompletely")
                        });
                        return !1
                    })) : new LA($(b),e);
                    $(b).closest(".section").bind("mouseenter", function() {
                        $(".feed_hide_button", this.el).not($(b)).fadeOut();
                        $(b).fadeIn()
                    });
                    $(b).closest(".section").bind("mouseleave", function() {
                        0 == $(".feed_hide_dialog[visible=true]").length && $(b).fadeOut()
                    })
                }));
                _.each($(".owner_profile_image, .also_profile_image", this.el), r(this, function(b) {
                    new MA($(b),{
                        viewerListenerId: y.s,
                        viewerIsAnon: null == y || y.p()
                    })
                }))
            }), function() {
                z.b(Mh)
            }, !0))
        },
        JG: function(b, c) {
            bA("/content/bookmarked_tracks", {
                trackStartIndex: c,
                webname: b,
                cachebuster: "" + (new Date).getTime()
            }, r(this, function(b) {
                $("#track_bookmark_container", this.el).append(b);
                this.ns()
            }))
        },
        DG: function(b, c) {
            bA("/content/bookmarked_artists", {
                artistStartIndex: c,
                webname: b,
                cachebuster: "" + (new Date).getTime()
            }, r(this, function(b) {
                $("#artist_bookmark_container", this.el).append(b);
                this.ns()
            }))
        },
        sO: function(b) {
            bA("/content/bookmarks", {
                webname: b,
                cachebuster: "" + (new Date).getTime()
            }, r(this, function(b, d) {
                "success" == d && ($("#contentRight", this.el).empty().append(b),
                this.ns())
            }), function() {
                z.b(Mh)
            }, !0)
        },
        ns: function() {
            _.each($(".like_section .section .menu", this.el), r(this, function(b) {
                var c = $(".like_buy", b);
                $(".iTunes-badge").hide();
                hp() || $(".play_sample").hide();
                c && 0 < c.length ? ((new yz({
                    buyButton: c,
                    buyMenu: $(".dropdownmenu", b).eq(0),
                    model: this.model
                })).Fh(String(c.data("itunesurl")), String(c.data("amazonurl")), String(c.data("amazondigitalasin"))),
                new dz($(".menu_dropdown", $(b)),null ,$(".dropdownmenu", $(b)).eq(0))) : new dz($(".menu_dropdown", $(b)),null ,$(".dropdownmenu", $(b)))
            }));
            this.kd()
        },
        HG: function(b, c) {
            bA("/content/stationlikes", {
                stationStartIndex: c,
                webname: b,
                cachebuster: "" + (new Date).getTime()
            }, r(this, function(c) {
                $("#station_like_pages", this.el).append(c);
                this.Fj(b)
            }))
        },
        CG: function(b, c) {
            bA("/content/albumlikes", {
                albumStartIndex: c,
                webname: b,
                cachebuster: "" + (new Date).getTime()
            }, r(this, function(c) {
                $("#album_like_pages", this.el).append(c);
                this.Fj(b)
            }))
        },
        EG: function(b, c) {
            bA("/content/artistlikes", {
                artistStartIndex: c,
                webname: b,
                cachebuster: "" + (new Date).getTime()
            }, r(this, function(c) {
                $("#artist_like_pages", this.el).append(c);
                this.Fj(b)
            }))
        },
        KG: function(b, c, d) {
            bA("/content/tracklikes", {
                likeStartIndex: c,
                thumbStartIndex: d,
                webname: b,
                cachebuster: "" + (new Date).getTime()
            }, r(this, function(c) {
                $("#track_like_pages", this.el).append(c);
                this.Fj(b)
            }))
        },
        Oz: function(b, c) {
            bA("/content/likes", {
                webname: b,
                filter: c,
                cachebuster: "" + (new Date).getTime()
            }, r(this, this.HL), function() {
                z.b(Mh)
            }, !0)
        },
        HL: function(b) {
            0 <= b.indexOf("feature_unavailable_error") && (this.$m = !1,
            this.Fs(),
            (new X({
                message: ec()
            })).render());
            $("#contentRight", this.el).empty().append(b);
            $(".filter_likes input").keyup(r(this, this.LG));
            $(".filter_likes input").focus(r(this, function() {
                $(".filter_likes input").hasClass("default_text") && ($(".filter_likes input").removeClass("default_text"),
                $(".filter_likes input").val(""))
            }));
            $(".filter_likes input").blur(r(this, this.tx));
            this.tx();
            this.Fj(this.xa);
            $(".iTunes-badge").hide()
        },
        tx: function() {
            var b = $(".filter_likes input").attr("data-filter");
            me(b) && (b = "Search Likes");
            $(".filter_likes input").addClass("default_text");
            $(".filter_likes input").val(b)
        },
        LG: function(b) {
            return 13 == b.which ? (this.Oz(this.xa, $(".filter_likes input").val()),
            !1) : !0
        },
        Fj: function(b) {
            var c = this.model.get("currentUser");
            c && c.X != b && (b = this.model.get("currentProfileInfo"),
            b = b.fullName && 0 == !$.trim(b.fullName).length ? b.fullName : b.webName,
            $(".profile_user_name").text(b),
            _.each($(".profile_context_name", this.el), r(this, function(b) {
                $(b).text() == c.webName + "'s" && $(b).text("your")
            })),
            _.each($(".like_context_stationname", this.el), r(this, function(b) {
                $(b).data("viewer-is-owner", !1)
            })));
            _.each($(".like_section .section .menu", this.el), r(this, function(b) {
                var c = $(".like_buy", b);
                c && 0 < c.length ? ((new yz({
                    buyButton: c,
                    buyMenu: $(".dropdownmenu", b).eq(0),
                    model: this.model
                })).Fh(String(c.data("itunesurl")), String(c.data("amazonurl")), String(c.data("amazondigitalasin"))),
                new dz($(".menu_dropdown", $(b)),null ,$(".dropdownmenu", $(b)).eq(1))) : new dz($(".menu_dropdown", $(b)),null ,$(".dropdownmenu", $(b)))
            }));
            $(".iTunes-badge").hide();
            this.kd()
        },
        Pz: function(b, c) {
            bA("/content/stations", {
                startIndex: c,
                webname: b,
                cachebuster: "" + (new Date).getTime()
            }, r(this, function(b) {
                0 == c ? $("#contentRight", this.el).empty().append(b) : $("#stations_container", this.el).append(b);
                this.kd()
            }), function() {
                z.b(Mh)
            }, !0)
        },
        Nz: function(b, c) {
            bA("/content/following", {
                startIndex: c,
                webname: b,
                cachebuster: "" + (new Date).getTime()
            }, r(this, function(b, e) {
                this.zs(b, e, 0 == c ? $("#contentRight", this.el).empty() : $("#currently_following", this.el))
            }), function() {
                z.b(Mh)
            }, !0)
        },
        Mz: function(b, c) {
            bA("/content/followers", {
                startIndex: c,
                webname: b,
                cachebuster: "" + (new Date).getTime()
            }, r(this, function(b, e) {
                this.zs(b, e, 0 == c ? $("#contentRight", this.el).empty() : $("#current_followers"))
            }), function() {
                z.b(Mh)
            }, !0)
        },
        zs: function(b, c, d) {
            if ("success" == c) {
                d.append(b);
                this.blurSearch();
                _.each($("#followers .follow_section", this.el), function(b) {
                    new dz($(".menu_dropdown", $(b)),null ,$(".dropdownmenu", $(b)))
                });
                for (b = 0 < $("#currently_following .follow_section:visible", this.el).length ? 2 : 4; b < $("#suggestions .follow_section", this.el).length; b++)
                    $("#suggestions .follow_section", this.el).eq(b).closest("li").hide();
                this.kd()
            }
        },
        As: function() {
            if ($(this.el).is(":visible")) {
                $("#user_info_form", this.el).is(":visible") && $("#user_info_form", this.el).fadeOut(400, function() {
                    $("#user_info_container", this.el).fadeIn()
                });
                var b = this.model.get("currentProfileInfo")
                  , c = this.model.get("currentUser");
                if (null == b || null == c)
                    $("#user_info_container", this.el).empty(),
                    $(".user_name a", this.el).hide();
                else {
                    b.show_details = this.da != Cu.toLowerCase() || b.listenerId != c.s && b.privateProfile ? !1 : !0;
                    $.extend(b, {
                        showAsPrivateProfile: this.Xs()
                    });
                    $("#user_info_container", this.el).empty().append($("#profileUserinfoTmpl").tmpl(b));
                    var d = c.Vb ? b.bioHtml : b.bioRawHtml;
                    d && $("#bio_text", this.el).empty().html(d.split("\n").join("<br/>"));
                    $(".user_name a", this.el).show();
                    b = c.Vb ? b.fullName : b.fullNameRaw;
                    $(".user_name.self a").text(b)
                }
                this.kd()
            }
        },
        Xs: function() {
            var b = this.model.get("currentProfileInfo")
              , c = this.model.get("currentUser");
            return null == b || null == c || b.listenerId != c.s && b.privateProfile
        },
        events: {
            "focus #bookmarks_search": "searchBookmarksFocus",
            "keypress #bookmarks_search": "searchBookmarks",
            "click  .sample": "sampleClick",
            "click .play_station": "playStation",
            "click .img_profile": "profileImageClicked",
            "click #load_feed_updates": "loadFeedUpdates",
            "click .like_context_stationname": "playStation",
            "click .like_remove_like": "likesRemoveLikeClick",
            "click .like_create_station": "likesCreateStationClick",
            "click .like_share": "likesShareClick",
            "click #stations .show_more": "stationsShowMoreClick",
            "click #currently_following .show_more": "followingShowMoreClick",
            "click #current_followers .show_more": "followersShowMoreClick",
            "click #track_like_pages .show_more": "trackLikesShowMore",
            "click #artist_like_pages .show_more": "artistLikesShowMore",
            "click #album_like_pages .show_more": "albumLikesShowMore",
            "click #station_like_pages .show_more": "stationLikesShowMore",
            "click #facebook_friends_container .show_more": "facebookFriendsShowMore",
            "click .people_search .show_more": "peopleSearchShowMore",
            "click #track_bookmark_container .show_more": "trackBookmarksShowMore",
            "click #artist_bookmark_container .show_more": "artistBookmarksShowMore",
            "click .like_buy_itunes": "likesBuyITunes",
            "click .like_buy_amazon_mp3": "likesBuyAmazonMp3",
            "click .like_buy_amazon_cd": "likesBuyAmazonCD",
            "click .others_link": "othersLinkClick",
            "click .like_undo": "likeUndoClick",
            "mouseover .like_undo": "mouseOverLikeUndoButton",
            "mouseout .like_undo": "mouseOutLikeUndoButton",
            "click .like_likethis": "likeFomFeedClick",
            "click .newsitem_share": "newsitemShareClick",
            "click .playstation": "playStation",
            "click .playmessage": "playMessage",
            "click #connect_find": "connectFindClick",
            "click .clear_input": "clearInput",
            "keyup #connect_search": "connectSearchKeyup",
            "click #connect_facebook_login": "connectFacebookLogin",
            "click #edit_profile_link": "editProfileClick",
            "click #save_profile": "saveProfileClick",
            "click #privacy_menu_dd .profile_permissions": "privacyMenuItemClick",
            "focus #bio": "bioTextareaFocus",
            "blur #bio": "bioTextareaBlur",
            "click .follow_button": "followButtonClicked",
            "mouseover .follow_button": "followButtonMouseover",
            "mouseout .follow_button": "followButtonMouseout",
            "focus #search": "focusSearch",
            "blur #search": "blurSearch",
            "keyup #search": "keyupSearch",
            "click .block": "blockListenerClick",
            "click .bookmark_delete": "deleteBookmarkClick",
            "click #suggestions .remove_section": "removeSuggestionSection",
            "click #suggestions .remove": "removeSuggestion",
            "click .station_share .playstation": "shareClick",
            "click .song_share .newsfeed_song_name": "shareClick",
            "click .song_share .song_name": "shareClick",
            "click .song_share .album_name": "shareClick",
            "click .song_share .artist_name": "shareClick",
            "click .station_share .artist_name": "shareClick",
            "click .station_share .station_name": "shareClick"
        },
        shareClick: function() {
            this.model.set({
                shareFirstImp: !0
            });
            return !0
        },
        removeSuggestionSection: function() {
            $("#suggestions").fadeOut()
        },
        removeSuggestion: function(b) {
            var c = $(b.target).closest("li");
            c.fadeOut(400, r(this, function() {
                c.remove();
                var b = $("#suggestions li:hidden", this.el);
                b && 0 < b.length && b.eq(0).show();
                0 == $("#suggestions li", this.el).length && $("#suggestions").fadeOut()
            }))
        },
        deleteBookmarkClick: function(b) {
            var c = 0 < $(b.target).closest("#artistBookmarks").length
              , d = $(b.target).closest(".section");
            R(c ? tv : uv, {
                bookmarkId: $(b.target).attr("data-bookmarkid"),
                section: d
            });
            return !1
        },
        Wx: function(b) {
            $(b).fadeOut(400, r(this, function() {
                $(b).remove();
                0 == $("#songBookmarks .section").length && 0 == $("#artistBookmarks .section").length && ($(".profile_lCol .profile_menu li").eq(2).remove(),
                this.model.get("currentProfileInfo").bookmarkCount = 0,
                window.location.hash = $("a", $(".profile_lCol .profile_menu li").eq(0)).attr("href"))
            }));
            return !1
        },
        blockListenerClick: function(b) {
            b = $(b.target).attr("data-listenerid");
            z.b(Kj, b);
            s("link", {
                click: "block",
                source: "ProfileView"
            }, this.model.get("currentUser"));
            return !1
        },
        gI: function(b) {
            if (this.model.get("currentProfileInfo")) {
                var c = null ;
                $("#followers .follow_button", this.el).each(r(this, function(d, e) {
                    $(e).attr("data-listenerid") == b && (c = $(e))
                }));
                c && (c.removeClass("followable"),
                c.removeClass("following"),
                c.addClass("blocked"),
                c.find(".follow_button_label").text("Blocked"),
                c.removeClass("hover"),
                $(".dropdownmenu li", $(c.parent())).eq(0).hide())
            }
        },
        Mq: function(b) {
            var c = this.model.get("currentProfileInfo");
            if (c) {
                for (var d = null , e = ["#followers", "#suggestions"], h = 0; h < e.length; h++)
                    $(e[h] + " .follow_button", this.el).each(r(this, function(c, e) {
                        $(e).attr("data-listenerid") == b && (d = $(e))
                    }));
                e = null != d;
                null == d && b == c.listenerId && (d = $(".follow_button", this.el).eq(0));
                null != d && (d.removeClass("blocked"),
                d.find(".follow_button_label").text("Follow"),
                d.addClass("followable"),
                d.removeClass("hover"),
                e ? $(".dropdownmenu li", $(d.parent())).eq(0).show() : c.followState = "followable")
            }
        },
        gJ: function(b) {
            var c = $('.section[feedId="' + b.feedId + '"]');
            c.slideUp("normal", function() {
                c.remove()
            })
        },
        Cq: function(b) {
            var c = $('.section[listenerId="' + b + '"]');
            c.slideUp("normal", function() {
                c.remove()
            })
        },
        blurSearch: function() {
            var b = "" + $("#search", this.el).val();
            b && 0 != jQuery.trim(b).length || ($("#search", this.el).val("Search Friends"),
            $("#search", this.el).addClass("empty"))
        },
        focusSearch: function() {
            $("#search", this.el).hasClass("empty") && ($("#search", this.el).val(""),
            $("#search", this.el).removeClass("empty"))
        },
        keyupSearch: function() {
            var b = jQuery.trim("" + $("#search", this.el).val()).toLowerCase();
            $("#followers .follow_section", this.el).each(function(c, d) {
                0 > jQuery.trim("" + $(".listener_info .listener_name", $(d)).text()).toLowerCase().indexOf(b) ? $(d).fadeOut("fast") : $(d).show()
            })
        },
        Aq: function(b) {
            var c = this.model.get("currentProfileInfo");
            if (c) {
                var d = null ;
                b.webName == c.webName ? (d = $("#" + b.ui_id),
                this.model.get("currentProfileInfo").followState = "following") : ($(".follow_button", this.el).each(r(this, function(c, h) {
                    $(h).data("webname") == b.webName && (d = $(h))
                })),
                d && (c = d.closest("li")) && 0 < c.length && !c.is(":visible") && c.fadeIn());
                d && (d.removeClass("followable"),
                d.addClass("following"),
                d.removeClass("hover"),
                d.find(".follow_button_label").text("Following"))
            }
        },
        Nq: function(b) {
            var c = this.model.get("currentProfileInfo");
            if (c)
                if (this.da == Du.toLowerCase())
                    this.Cq(b.listenerId);
                else {
                    var d = null ;
                    b.webName == c.webName ? (d = $("#" + b.ui_id),
                    this.model.get("currentProfileInfo").followState = "followable") : $(".follow_button", this.el).each(r(this, function(c, h) {
                        $(h).data("webname") == b.webName && (d = $(h))
                    }));
                    d && (d.removeClass("following"),
                    d.addClass("followable"),
                    d.removeClass("hover"),
                    d.find(".follow_button_label").text("Follow"))
                }
        },
        followButtonClicked: function(b) {
            var c = this.model.get("currentUser");
            if (null == c || c.p())
                R(Av, {
                    onSuccessRedirect: ez()
                });
            else {
                if (!$(b.currentTarget).hasClass("cannotFollow"))
                    if ($(b.currentTarget).data("webname") ? c = $(b.currentTarget).data("webname") : (c = this.model.get("currentProfileInfo"),
                    c = c.webName),
                    $(b.currentTarget).hasClass("followable"))
                        z.b(Ij, {
                            webName: c,
                            ui_id: b.currentTarget.id
                        }),
                        0 < $(b.currentTarget).closest("#suggestions").length && this.removeSuggestion(b);
                    else if ($(b.currentTarget).hasClass("following")) {
                        if (z.b(Jj, {
                            webName: c,
                            ui_id: b.currentTarget.id
                        }),
                        $(b.currentTarget).data("webname") && "following" == jQuery.trim("" + $("#followers h2").text()).toLowerCase()) {
                            var d = $(b.currentTarget).closest(".follow_section");
                            d.fadeOut(400, function() {
                                d.remove()
                            })
                        }
                    } else
                        $(b.currentTarget).hasClass("blocked") ? (c = null ,
                        $(b.currentTarget).attr("data-listenerid") ? c = $(b.currentTarget).attr("data-listenerid") : (c = this.model.get("currentProfileInfo"),
                        c = c.listenerId),
                        z.b(Lj, c)) : k.error("Unhandled follow state: ", $(b.currentTarget));
                return !1
            }
        },
        followButtonMouseover: function(b) {
            $(b.currentTarget).hasClass("cannotFollow") || $(b.currentTarget).addClass("hover");
            $(b.currentTarget).hasClass("followable") ? $(b.currentTarget).find(".follow_button_label").text("Follow") : $(b.currentTarget).hasClass("following") ? $(b.currentTarget).find(".follow_button_label").text("Unfollow") : $(b.currentTarget).hasClass("blocked") && $(b.currentTarget).find(".follow_button_label").text("Unblock")
        },
        followButtonMouseout: function(b) {
            $(b.currentTarget).hasClass("cannotFollow") || $(b.currentTarget).removeClass("hover");
            $(b.currentTarget).hasClass("followable") ? $(b.currentTarget).find(".follow_button_label").text("Follow") : $(b.currentTarget).hasClass("following") ? $(b.currentTarget).find(".follow_button_label").text("Following") : $(b.currentTarget).hasClass("blocked") && $(b.currentTarget).find(".follow_button_label").text("Blocked")
        },
        profileImageClicked: function() {
            var b = this.model.get("currentProfileInfo");
            b && b.is_owner && (this.model.get("facebookAuthenticated") || z.b(pj));
            return !1
        },
        loadFeedUpdates: function() {
            this.Qm(this.xa, 0);
            return !1
        },
        kF: function() {
            if ($(this.el).is(":visible") && this.da == Du) {
                var b = $(".section[feedIndex='1']");
                0 < b.length && z.b(tj, {
                    webname: this.xa,
                    lastFeedId: b.attr("feedId")
                })
            }
        },
        WI: function(b) {
            0 < b && (b = b + " New Post" + (1 < b ? "s" : ""),
            $("#feed_updates_container", this.el).empty().append($("#feedUpdatesNoticeTmpl").tmpl({
                text: b
            })),
            $("#feed_updates_container").slideDown())
        },
        OI: function() {
            var b = this.model.get("currentUser");
            if (null != b && this.model.get("facebookAuthenticated")) {
                var c = this.model.get("currentProfileInfo");
                null != c && c.webName == b.X && (c.fbId = b.Ea,
                null != b.Hd || z.b(rj))
            }
            $(this.el).is(":visible") && (this.da == Eu ? this.Uf(null , !1, 0, !1) : this.kd())
        },
        bioTextareaBlur: function() {
            0 == jQuery.trim("" + $("#bio", this.el).val()).length && ($("#bio", this.el).val(tc),
            $("#bio", this.el).addClass("default_text"))
        },
        bioTextareaFocus: function() {
            $("#bio", this.el).hasClass("default_text") && ($("#bio", this.el).val(""),
            $("#bio", this.el).removeClass("default_text"))
        },
        privacyMenuItemClick: function(b) {
            $(b.target).hasClass("profile_private") ? ($("#privacy_menu", this.el).removeClass("profile_public"),
            $("#privacy_menu", this.el).addClass("profile_private"),
            $("#privacy_menu", this.el).text(rc),
            $("#privacy", this.el).val("private")) : ($("#privacy_menu", this.el).removeClass("profile_private"),
            $("#privacy_menu", this.el).addClass("profile_public"),
            $("#privacy_menu", this.el).text(sc),
            $("#privacy", this.el).val("public"));
            return !1
        },
        saveProfileClick: function() {
            R(ex);
            var b = this.model.get("currentProfileInfo")
              , c = $("#bio", this.el).val();
            1024 < c.length && (c = c.substring(0, 1023));
            b = {
                webName: b.webName,
                fullName: $("#fullname", this.el).val(),
                isProfilePrivate: "private" == jQuery.trim("" + $("#privacy", this.el).val()).toLowerCase(),
                homeTown: $("#hometown", this.el).val(),
                school: $("#school", this.el).val(),
                employer: $("#employer", this.el).val(),
                bio: $("#bio", this.el).hasClass("default_text") ? "" : c
            };
            z.b(Hj, b);
            return !1
        },
        editProfileClick: function() {
            R(ex);
            var b = this.model.get("currentProfileInfo");
            $("#user_info_container", this.el).fadeOut(400, r(this, function() {
                $("#user_info_form", this.el).empty().append($("#profileUserinfoFormTmpl").tmpl(b));
                new dz($("#privacy_menu", this.el),null ,$("#privacy_menu_dd", this.el));
                this.bioTextareaBlur();
                $("#user_info_form", this.el).fadeIn()
            }));
            return !1
        },
        searchBookmarksFocus: function() {
            "Search Bookmarks" == $("#bookmarks_search input", this.el).val() && $("#bookmarks_search input", this.el).val("")
        },
        searchBookmarks: function() {
            clearTimeout(this.YE);
            this.YE = setTimeout(function() {
                var b = $("#bookmarks_search input", this.el).val().toLowerCase();
                $(".like_section:visible", this.el).each(r(this, function(c, d) {
                    var e = $(d);
                    $(".section", e).each(r(this, function(c, d) {
                        var e = $(d)
                          , h = e.text().toLowerCase();
                        me(b) || (0 <= h.indexOf(b) ? e.show() : e.hide())
                    }));
                    if (me(b)) {
                        var h = $(".section", e);
                        if (5 < h.length)
                            for ($(".show_more", e).show(),
                            e = 0; e < h.length; e++)
                                5 > e ? $(h[e]).show() : $(h[e]).hide();
                        else
                            $(".show_more", e).hide(),
                            h.show()
                    } else
                        $(".show_more", e).hide()
                }))
            }, 500)
        },
        stationsShowMoreClick: function(b) {
            "stations" == this.da && (b = parseInt($(b.target).data("nextstartindex"), 10),
            $("#stations .show_more").fadeOut("fast"),
            this.Pz(this.xa, b))
        },
        followingShowMoreClick: function(b) {
            b = parseInt($(b.target).data("nextstartindex"), 10);
            $(".show_more", this.el).fadeOut("fast");
            this.Nz(this.xa, b)
        },
        followersShowMoreClick: function(b) {
            b = parseInt($(b.target).data("nextstartindex"), 10);
            $(".show_more", this.el).fadeOut("fast");
            this.Mz(this.xa, b)
        },
        trackLikesShowMore: function(b) {
            var c = parseInt($(b.target).data("nextlikestartindex"), 10);
            b = parseInt($(b.target).data("nextthumbstartindex"), 10);
            $("#track_like_pages .show_more", this.el).fadeOut("fast");
            this.KG(this.xa, c, b)
        },
        artistLikesShowMore: function(b) {
            b = parseInt($(b.target).data("nextstartindex"), 10);
            $("#artist_like_pages .show_more", this.el).fadeOut("fast");
            this.EG(this.xa, b)
        },
        albumLikesShowMore: function(b) {
            b = parseInt($(b.target).data("nextstartindex"), 10);
            $("#album_like_pages .show_more", this.el).fadeOut("fast");
            this.CG(this.xa, b)
        },
        stationLikesShowMore: function(b) {
            b = parseInt($(b.target).data("nextstartindex"), 10);
            $("#station_like_pages .show_more", this.el).fadeOut("fast");
            this.HG(this.xa, b)
        },
        facebookFriendsShowMore: function(b) {
            $(b.target).hide();
            this.Uf("", !1, parseInt($(b.target).attr("data-nextStartIndex"), 10), !0);
            return !1
        },
        peopleSearchShowMore: function(b) {
            $(b.target).hide();
            this.Uf($.trim($(".search_term", this.el).text()), !1, parseInt($(b.target).attr("data-nextStartIndex"), 10), !1);
            return !1
        },
        artistBookmarksShowMore: function(b) {
            b = parseInt($(b.target).data("nextstartindex"), 10);
            $("#artist_bookmark_container .show_more", this.el).fadeOut("fast");
            this.DG(this.xa, b)
        },
        trackBookmarksShowMore: function(b) {
            b = parseInt($(b.target).data("nextstartindex"), 10);
            $("#track_bookmark_container .show_more", this.el).fadeOut("fast");
            this.JG(this.xa, b)
        },
        likesShareClick: function(b) {
            var c = $(b.target).data("song")
              , d = $(b.target).data("album");
            b = $(b.target).data("station");
            c ? (c = new Fn(c,null ),
            s("share", {
                share_object: "song",
                source: "ProfileView",
                email: "false",
                pandora: "true",
                facebook: "false",
                twitter: "false",
                object_id: c.o()
            }, this.model.get("currentUser")),
            R(Yu, {
                mode: "song",
                track: c
            })) : d ? (R(Yu, {
                mode: "album",
                album: d
            }),
            s("share", {
                share_object: "album",
                source: "ProfileView",
                email: "false",
                pandora: "true",
                facebook: "false",
                twitter: "false",
                object_id: d.musicId
            }, this.model.get("currentUser"))) : b && (c = Cn(b),
            R(Yu, {
                mode: "station",
                station: c
            }),
            s("share", {
                share_object: "station",
                source: "ProfileView",
                email: "false",
                pandora: "true",
                facebook: "false",
                twitter: "false",
                object_id: c.e()
            }, this.model.get("currentUser")));
            return !1
        },
        likesCreateStationClick: function(b) {
            var c = $(b.target).attr("data-songid");
            $(b.target).attr("data-albumid");
            var d = $(b.target).attr("data-artistid");
            b = $(b.target).attr("data-data-stationid");
            this.model.get("currentUser");
            c ? z.b(Hi, {
                stationCode: "fb" + c,
                source: "profile_page"
            }) : d ? z.b(Hi, {
                stationCode: "fb" + d,
                source: "profile_page"
            }) : b && (isNaN(b) ? z.b(Hi, {
                stationCode: b,
                source: "profile_page"
            }) : R(Qu, b));
            return !1
        },
        likesRemoveLikeClick: function(b) {
            var c = "" + $(b.target).attr("data-likeid")
              , d = c.indexOf(".");
            -1 < d ? R(av, {
                isPositive: !0,
                stationID: c.substring(d + 1),
                musicID: [c.substring(0, d)]
            }) : z.b(vj, c);
            this.pj = b;
            return !1
        },
        $l: function() {
            if (null != this.pj) {
                var b = $(this.pj.target).closest(".section")
                  , c = $(this.pj.target).parents(".like_section");
                b.fadeOut(400, function() {
                    b.remove();
                    $(".section_count", c).text("(" + $(".section", c).length + ")");
                    var d = $(".count", $("#profile_tab_likes", this.el).parent())
                      , e = parseInt(d.text(), 10);
                    d.text(e - 1)
                });
                var d = $(this.pj.target).closest(".section_count")
                  , e = d.text();
                d.text(parseInt(e, 10) - 1);
                this.pj = null
            }
        },
        likesBuyITunes: function(b) {
            b = $(b.target).data("itunesurl");
            window.open(b + "&ct=Web", "_blank");
            return !1
        },
        likesBuyAmazonMp3: function(b) {
            b = $(b.target).data("amazonurl");
            window.open(b + "&tag=" + this.ii, "_blank");
            return !1
        },
        likesBuyAmazonCD: function(b) {
            b = $(b.target).data("amazondigitalasin");
            window.open("http://www.amazon.com/dp/" + b + "/?&tag=" + this.ii, "_blank");
            return !1
        },
        othersLinkClick: function(b) {
            b = $(b.target).attr("webnames");
            this.da = Eu;
            $(this.el).empty().append($("#feedTmpl").tmpl({}));
            $("#connect_tab", this.el).addClass("selected");
            this.Uf(b, !0, 0, !1);
            V("/alsofollowing", !0, !0);
            return !1
        },
        likeFomFeedClick: function(b) {
            k.debug("clicked likesFomFeedClick");
            var c = this.model.get("currentUser");
            if (null == c || c.p())
                return R(Av, {
                    onSuccessRedirect: ez()
                }),
                !1;
            var d = $(b.target).parents(".like_button_container")
              , c = d.attr("objectId")
              , d = d.attr("objectType");
            b = $(b.target).parents(".section").attr("webname");
            $(".like_button_container", this.el).filter('[objectId="' + c + '"]').each(r(this, function(b, c) {
                var d = $(c);
                d.attr("countLikes", parseInt(d.attr("countLikes"), 10) + 1);
                d.attr("viewerLikedObject", "true");
                this.Ot(d)
            }));
            z.b(uj, {
                type: this.Hf(d),
                objectId: c,
                context: "feed_page",
                contextId: b,
                contextName: b
            });
            return !1
        },
        Hf: function(b) {
            if ("like_artist" == b)
                b = "artist";
            else if ("like_album" == b)
                b = "album";
            else if ("like_song" == b)
                b = "song";
            else if ("like_station" == b)
                b = "station";
            else if ("station_create" == b)
                b = "station";
            else if ("station_listen" == b)
                b = "station";
            else if ("station_share" == b)
                b = "station";
            else if ("station_comment" == b)
                b = "station";
            else if ("song_share" == b)
                b = "song";
            else
                throw "invalid type: " + b;
            return b
        },
        likeUndoClick: function(b) {
            var c = $(b.target).parents(".like_button_container");
            b = c.attr("objectId");
            c = c.attr("objectType");
            $(".like_button_container", this.el).filter('[objectId="' + b + '"]').each(r(this, function(b, c) {
                var h = $(c);
                if ("true" == h.attr("viewerIsOwner") && 0 == h.attr("objectType").indexOf("like_")) {
                    var l = h.parents(".section");
                    l.slideUp("normal", function() {
                        l.remove()
                    })
                } else
                    h.attr("countLikes", parseInt(h.attr("countLikes"), 10) - 1),
                    h.attr("viewerLikedObject", "false"),
                    this.Ot(h)
            }));
            z.b(yj, new wo(this.Hf(c),b));
            return !1
        },
        mouseOverLikeUndoButton: function(b) {
            $(b.target).text("Undo");
            $(b.target).parent().removeClass("liked").addClass("undo")
        },
        mouseOutLikeUndoButton: function(b) {
            $(b.target).text("You like this");
            $(b.target).parent().removeClass("undo").addClass("liked")
        },
        newsitemShareClick: function() {
            k.info("newsitemShareClick");
            return !1
        },
        connectSearchKeyup: function(b) {
            13 == b.which && this.connectFindClick(b);
            return !0
        },
        connectFindClick: function(b) {
            R(ex);
            b = $("#connect_search", $(b.target).parent()).val();
            this.Uf(b, !1, 0, !1)
        },
        clearInput: function(b) {
            $("#connect_search", $(b.target).parent()).val("").focus()
        },
        connectFacebookLogin: function() {
            z.b(pj, r(this, this.kd))
        },
        playStation: function(b) {
            var c = $(b.target).attr("data-station-id")
              , d = $(b.target).data("music-id");
            b = !0 == $(b.target).data("viewer-is-owner") || "true" == $(b.target).data("viewer-is-owner");
            this.model.get("currentUser");
            me(c) ? z.b(Hi, {
                stationCode: "mi" + d,
                source: "profile_page"
            }) : (d = this.model.get("stationList").detect(function(b) {
                return b.e() == c
            }),
            b && d ? R(Qu, c) : z.b(Hi, {
                stationCode: "fs" + c,
                source: "profile_page"
            }));
            R(Iu);
            return !1
        },
        playMessage: function(b) {
            var c = $(b.target).data("artist-uid-hexed");
            b = $(b.target).data("artist-message-id-hexed");
            z.b(Hi, {
                stationCode: "mi" + c,
                artistMessageArtistUid: c,
                artistMessageId: b
            });
            R(Iu);
            return !1
        },
        UI: function(b) {
            if (this.da != Du)
                return !1;
            1 == parseInt(b.parents(".section").attr("feedIndex"), 10) && $("#profile_tip_spacer", this.el).slideDown()
        },
        TI: function(b) {
            if (this.da != Du)
                return !1;
            1 == parseInt(b.parents(".section").attr("feedIndex"), 10) && $("#profile_tip_spacer", this.el).slideUp()
        },
        uR: function() {
            if (!$(this.el).is(":visible") || this.da != Du && this.da != Cu || 0 == $(".user_feed .section").length)
                return !1;
            if ($(window).scrollTop() > $(".user_feed .section").eq(-1).offset().top - $(window).height()) {
                var b = parseInt($(".next_newsfeed_start_index:last").text(), 10);
                0 < b && (k.info("HEY LETS GRAB SOME MORE ACTIVITY"),
                this.Qm(this.xa, b))
            }
        },
        Nd: function(b) {
            var c = $(".sample.playing", this.el);
            c.removeClass("playing");
            c.parent(".btn_bg").removeClass("playing");
            $(".sample_text").show();
            $(".iTunes-badge").hide();
            b.isError && (0 < c.children("a").length ? c.addClass("sample-inactive").find("a").attr("title", "Sample Unavailable").find("span").html("Sample Unavailable") : c.addClass("sample-inactive").html("No Sample").parent(".btn_bg").addClass("disabled"));
            null != this.xb && 0 < this.xb.length && b.reachedEnd && b.url == $(this.xb[0]).attr("data-sample-url") && (this.xb.shift(),
            this.zz())
        },
        sampleClick: function(b) {
            $(b.target).blur();
            var c = $(b.target).parent(".sample");
            0 === c.size() && (c = $(b.target));
            c.hasClass("sample-inactive") || (c.hasClass("playing") ? 0 > $(b.target).attr("class").indexOf("iTunes-badge") ? (z.b(Qi),
            c.removeClass("playing"),
            c.parent(".btn_bg").removeClass("playing"),
            b = c.data("trackname"),
            $(".iTunes-badge." + b).hide(),
            $(".sample_text." + b).show()) : (b = $(b.target).attr("href"),
            window.open(b, "_blank")) : (z.b(Pi, {
                url: c.data("sampleurl"),
                gain: null != c.data("samplegain") ? Number(c.data("samplegain")) : 0
            }),
            c.addClass("playing"),
            c.parent(".btn_bg").addClass("playing"),
            b = c.data("trackname"),
            $(".iTunes-badge." + b).show(),
            $(".sample_text." + b).hide()))
        },
        RI: function() {
            this.da == Eu.toLowerCase() && setTimeout(r(this, function() {
                this.Uf(null , !1, 0, !1)
            }), 100)
        },
        wq: function(b) {
            this.$m = b.NEW_SITE_LIKES_LIST;
            this.Ym = b.NEW_SITE_ACTIVITY_LIST;
            this.Fs()
        },
        Fs: function() {
            0 <= ez().indexOf("/profile") && this.model.get("profilePanelType") && this.model.get("currentProfileInfo") && this.render({
                panelType: this.model.get("profilePanelType"),
                webname: this.model.get("currentProfileInfo").webName,
                edit: !1
            })
        }
    });
    var NA = "info"
      , OA = "privacy"
      , PA = "notices"
      , QA = "artistMessages"
      , RA = "upgrade"
      , SA = "billing"
      , TA = "receipts"
      , UA = "audioQuality"
      , VA = "installDesktopApp";
    function WA() {}
    WA = Backbone.View.extend({
        initialize: function() {
            this.fl = !1;
            this.Dj = null ;
            this.mw = !1;
            this.pf = null ;
            this.Mn = 5E3;
            this.yk = "__USE_EXISTING__";
            z.c(lf, r(this, this.DK));
            z.c(kf, r(this, this.QH));
            z.c(pf, r(this, this.LI));
            z.c(of, r(this, this.KI));
            z.c(qf, r(this, this.JI));
            z.c(If, r(this, this.Md));
            z.c(Jf, r(this, this.Ux));
            z.c(Kf, r(this, this.fy));
            z.c(Lf, r(this, this.Ux));
            z.c(Mf, r(this, this.fy));
            z.c(Qf, r(this, this.yq));
            z.c(Ah, r(this, this.CI));
            z.c(yg, r(this, this.py));
            z.c(ql, r(this, this.wI));
            z.c(rl, r(this, this.$I));
            S(Pv, r(this, this.hI));
            this.model.bind("change:facebookAuthenticated", r(this, this.py));
            this.model.bind("change:twitterAuthenticated", r(this, this.Nt));
            this.bind("show", r(this, this.PJ))
        },
        el: $("#mainContent .accountSettings"),
        currentTab: null ,
        PJ: function(b) {
            R(dx);
            b == NA ? this.lE() : b == OA ? this.bO() : b == PA ? this.WL() : b == QA ? this.HE() : b == RA ? this.fR() : b == SA ? this.VE() : b == TA ? this.lO() : b == UA ? this.ME() : b == VA && this.eG();
            this.w3 = b
        },
        jj: function() {
            $(".submit_btn", this.el).css("opacity", "1.0");
            $(".submit_btn", this.el).css("filter", "alpha(opacity=100)")
        },
        lE: function() {
            var b = this.model.get("currentUser")
              , c = this.model.get("monthlyListening")
              , d = {};
            "EXPIRED_SUBSCRIBER" == b.u && (window.location = "/");
            var e = b.zr;
            d.usedHours = 0;
            d.capPercent = 0;
            c && (c = Math.round(Number(c) / 60),
            d.usedHours = Math.round(c / 60),
            d.capPercent = c / (60 * e) * 100);
            d.capHours = e;
            d.isSubscriber = b.ab();
            d.isMultiDayPassSubscriber = b.tj;
            d.paymentMethod = b.ds;
            d.plan = "MONTHLY" === b.Ya() ? "Monthly" : "Annual" + (b.S() ? " (Business)" : "");
            d.duration = "MONTHLY" === b.Ya() ? "month" : "year";
            d.showAutoRenew = !this.fl;
            d.autoRenew = b.of;
            e = parseInt(b.od, 10);
            c = new Date((new Date).getTime() + 864E5 * e);
            d.subscriptionDaysLeft = e;
            d.expireDescription = 0 == e ? "today" : 1 == e ? "within one day" : "in " + e + " days";
            d.expirationDate = c.format("mmmm d, yyyy");
            d.username = b.Ka;
            d.birthyear = b.ri;
            d.zipcode = b.Eb();
            b.Cf == Na() ? d.male = "checked" : d.female = "checked";
            b.Vb ? d.explicitNo = "checked" : d.explicitYes = "checked";
            b.$v || (d.explicitDisable = "disabled",
            d.explicitGrey = "explicitContent");
            d.pwc2016 = A._data.pwc2016OptInAllowed || !1;
            b = $("#accountSettingsTmpl").tmpl(d);
            $('input[name="explicit_content"]', b).click({
                ne: this
            }, this.vG);
            $("#emailPIN", b).click({
                ne: this
            }, this.Pp);
            $("input,select", b).click(r(this, this.jj));
            $("#rescueEmail", this.el).val("");
            $("#pin", this.el).val("");
            $("#pinUnlock", this.el).val("");
            this.Jb("account");
            $(".content_main", this.el).append(b);
            this.MN = $("#auto-renew-explanation", this.el).html();
            $("#auto-renew-explanation", this.el).truncate({
                width: "490",
                after: " &hellip;",
                center: !1
            });
            $(this.el).show();
            this.mw && this.eR();
            return !1
        },
        eR: function() {
            $(".submit_btn", this.el).css("opacity", "1.0");
            $(".submit_btn", this.el).css("filter", "alpha(opacity=100)");
            if (Fx(this.pf.name))
                $(".usernameFieldError", this.el).text(this.pf.message).fadeIn(),
                $(".usernameFieldError", this.el).addClass("nag_message_color"),
                $("#username", this.el).addClass("nag_border");
            else if (Gx(this.pf.name) || Hx(this.pf.name) || Ix(this.pf.name))
                $(".zipCodeFieldError", this.el).text(this.pf.message).fadeIn(),
                $(".zipCodeFieldError", this.el).addClass("nag_message_color"),
                $("#zipcode", this.el).addClass("nag_border")
        },
        bO: function() {
            var b = this.model.get("currentUser");
            "EXPIRED_SUBSCRIBER" == b.u && (window.location = "/");
            var c = $("#privacyTmpl").tmpl({});
            b.dq || $(".autoShareOptions", c).hide();
            var d = b.El
              , e = b.Og
              , h = b.Ng
              , l = b.Mg;
            this.mi = d;
            this.pi = e;
            this.oi = h;
            this.ni = l;
            b.kh ? ($('input[name="profile_privacy"][value="private"]', c).prop("checked", !0),
            this.lv(c)) : ($('input[name="profile_privacy"][value="public"]', c).prop("checked", !0),
            $('input[name="autoShareListens"]', c).prop({
                checked: e,
                disabled: !d
            }),
            $('input[name="autoShareLikes"]', c).prop({
                checked: h,
                disabled: !d
            }),
            $('input[name="autoShareFollows"]', c).prop({
                checked: l,
                disabled: !d
            }),
            $('input[name="autoShare"]', c).prop("checked", d),
            $('input[name="allow_profile_notes"]', c).prop("checked", !b.Hp));
            this.Jb(OA);
            $(".content_main", this.el).append(c);
            $(".submit_btn", this.el).bind("click", {
                ne: this
            }, r(this, this.Fz));
            $("input", c).click(r(this, this.jj));
            this.Nt();
            this.wm = null ;
            $(this.el).show();
            return !1
        },
        lv: function(b) {
            b = b || this.el;
            $('input[name="autoShareListens"]', b).prop({
                checked: !1,
                disabled: !0
            });
            $('input[name="autoShareLikes"]', b).prop({
                checked: !1,
                disabled: !0
            });
            $('input[name="autoShareFollows"]', b).prop({
                checked: !1,
                disabled: !0
            });
            $('input[name="autoShare"]', b).prop({
                checked: !1,
                disabled: !0
            });
            $('input[name="allow_profile_notes"]', b).prop({
                checked: !1,
                disabled: !0
            })
        },
        py: function() {
            this.model.get("facebookAuthenticated") || ($('input[name="autoShare"]', this.el).prop("checked", !1),
            $('input[name="autoShareListens"]', this.el).prop({
                checked: !1,
                disabled: !0
            }),
            $('input[name="autoShareLikes"]', this.el).prop({
                checked: !1,
                disabled: !0
            }),
            $('input[name="autoShareFollows"]', this.el).prop({
                checked: !1,
                disabled: !0
            }));
            this.Nt()
        },
        wI: function() {
            (new X({
                message: "error"
            })).render()
        },
        Nt: function() {
            var b = this.model.get("currentUser");
            this.model.get("facebookAuthenticated") ? ($(".facebook.connectButton", this.el).addClass("connected"),
            $(".facebook.connectButton", this.el).text("Connected"),
            $(".serviceDescription.connected img", this.el).attr("src", "https://graph.facebook.com/" + b.Ea + "/picture?type=square"),
            $(".serviceDescription.connected span", this.el).text(b.lc),
            $(".serviceDescription.connected", this.el).show(),
            $(".serviceDescription.disconnected", this.el).hide()) : ($(".facebook.connectButton", this.el).removeClass("connected"),
            $(".facebook.connectButton", this.el).text("Connect"),
            $(".serviceDescription.disconnected", this.el).show(),
            $(".serviceDescription.connected", this.el).hide());
            this.model.get("twitterAuthenticated") ? ($(".twitter.connectButton", this.el).addClass("connected"),
            $(".twitter.connectButton", this.el).text("Connected")) : ($(".twitter.connectButton", this.el).removeClass("connected"),
            $(".twitter.connectButton", this.el).text("Connect"))
        },
        WL: function() {
            var b = this.model.get("currentUser");
            "EXPIRED_SUBSCRIBER" == b.u && (window.location = "/");
            var c = {};
            c.showArtistPromoEmails = void 0 != b.zf;
            c = $("#noticesTmpl").tmpl(c);
            b.zl && $('input[name="notices_pandora"]', c).prop("checked", "checked");
            b.Mr && $('input[name="notices_friends"]', c).prop("checked", "checked");
            b.Lr && $('input[name="notices_follow"]', c).prop("checked", "checked");
            void 0 != b.zf && b.zf && $('input[name="notices_artists"]', c).prop("checked", "checked");
            this.Jb(PA);
            $(".content_main", this.el).append(c);
            $(".submit_btn", this.el).bind("click", {
                ne: this
            }, this.XL);
            $("input", c).click(r(this, this.jj));
            $(this.el).show();
            return !1
        },
        HE: function() {
            for (var b = this.model.get("currentUser"), c = this.model.get("stationList").models, b = b.lm(), d = {}, e = [], h = 0; h < c.length; h++) {
                var l = c[h]
                  , p = l.lm();
                void 0 != p && e.push({
                    id: l.e(),
                    label: l.ca(),
                    isChecked: b ? p : b
                })
            }
            d.stations = e;
            d.isGlobalEnabled = b;
            c = $("#artistMessagesTmpl").tmpl(d);
            this.Jb(QA);
            $(".content_main", this.el).append(c);
            $(".submit_btn", this.el).bind("click", {
                ne: this
            }, this.IE);
            $('input[name="global_artist_message"]', c).change({
                ne: this
            }, this.GE);
            b && $('input[name="global_artist_message"]', c).prop("checked", "checked");
            $("input", c).click(r(this, this.jj));
            $(this.el).show();
            return !1
        },
        fR: function() {
            this.Jb(RA);
            (new XA({
                model: this.model,
                referrer: "accountUpgrade",
                el: $(".content_main", this.el),
                cancelHash: "/account/upgrade"
            })).render();
            $(this.el).show();
            return !1
        },
        eG: function() {
            this.Jb(VA);
            var b = this.model.get("currentUser");
            (b && b.J() ? new CA({
                model: this.model,
                el: $(".content_main", this.el),
                cancelHash: "/account/desktopApp"
            }) : new BA({
                model: this.model,
                el: $(".content_main", this.el),
                cancelHash: "/account/desktopApp"
            })).render();
            $(this.el).show();
            setTimeout(r(this, function() {
                $(".app_content_right").css("bogus", "")
            }), 100);
            return !1
        },
        ME: function() {
            this.Jb(UA);
            var b = this.model.get("currentUser");
            (b && b.J() ? new YA({
                model: this.model,
                el: $(".content_main", this.el),
                cancelHash: "/account/audioQuality"
            }) : new ZA({
                model: this.model,
                el: $(".content_main", this.el),
                cancelHash: "/account/audioQuality"
            })).render();
            $(this.el).show();
            return !1
        },
        VE: function() {
            var b = this.model.get("currentUser");
            if (b && Zn(b)) {
                var c = "App Store";
                me(b.ck) || (c = b.ck);
                c = $("#subscriberVendorTmpl").tmpl({
                    subscriberVendor: c,
                    monthlyPrice: my(no(b)),
                    hidePrice: b.tQ,
                    isUserAUNZ: b.Sa
                });
                this.Jb(SA);
                $(".content_main", this.el).append(c);
                $(this.el).show()
            } else
                b && b.ab() && b.tj ? (c = $("#multipassTmpl").tmpl({}),
                this.Jb(SA),
                $(".content_main", this.el).append(c),
                $(this.el).show()) : b && b.ab() && "PAYPAL" == b.ds ? (c = b.S(),
                this.A = b.Ya(),
                c = $("#subscriberPaypalTmpl").tmpl({
                    mode: c ? "business" : b.ab() ? "subscriber" : "payToPlay",
                    subscriptionTitle: c ? "Pandora for Business" : "Pandora Plus",
                    subscriptionTitleWithTagline: c ? "Pandora for Business" : "Pandora Plus - Ad Free, More Skips, and Fewer Timeouts",
                    renewal_period: oy(this.A),
                    renewal_amount: my(ny(b, this.A)),
                    expirationDate: (new Date((new Date).getTime() + 864E5 * parseInt(b.od, 10))).format("m/d/yy"),
                    isUserAUNZ: b.Sa,
                    annualPrice: my(b.le.toString()),
                    monthlyPrice: my(no(b)),
                    billingFrequency: this.A,
                    offerAnnualSub: b.Ce,
                    username: b.Ka,
                    showBusinessOffer: !c && b.Xb
                }),
                this.Jb(SA),
                $(".content_main", this.el).append(c),
                py(this.el, b.of),
                $(this.el).show()) : z.b(zj, b.S() ? "business" : "p1");
            s("p1_billing_page_hit", {
                vendor_id: u
            }, b);
            return !1
        },
        lO: function() {
            var b = this.model.get("currentUser");
            s("business_receipt_click", {
                vendor_id: u
            }, b);
            z.b(pl, b.s)
        },
        previousReceiptDetail: function() {
            0 != this.Tf && (this.Tf--,
            this.dt())
        },
        nextReceiptDetail: function() {
            this.Tf != this.xh.length - 1 && (this.Tf++,
            this.dt())
        },
        viewReceiptDetails: function(b) {
            b = b.target.id;
            for (var c in this.xh)
                if (this.xh[c].id == b) {
                    this.Tf = c;
                    break
                }
            this.dt()
        },
        dt: function() {
            this.Jb(TA);
            var b = this.xh[this.Tf];
            b.moreLink = this.Tf < this.xh.length - 1;
            b.lessLink = 0 < this.Tf;
            var c = (new $A({
                model: this.model
            })).render(b, "#receiptDetail").el;
            $(".content_main", this.el).append(c);
            c = $("." + TA + "Tab", this.el);
            c.hasClass("receiptClicked") || c.addClass("receiptClicked");
            $(this.el).show();
            s("business_view_receipt", {
                vendor_id: u,
                transaction_id: b.transactionId,
                transaction_date: b.date
            }, this.model.get("currentUser"));
            V("/account/receipts/view/" + b.id, !0, !0, !0)
        },
        exitReceiptDetails: function() {
            this.ft()
        },
        $I: function(b) {
            this.xh = b;
            this.ft()
        },
        ft: function() {
            this.Jb(TA);
            var b = $("#receiptsTmpl").tmpl({});
            $("tbody", b).append($("#receiptRow").tmpl(this.xh));
            $(".content_main", this.el).append(b);
            $(this.el).show();
            V("/account/receipts", !0, !1, !0)
        },
        Md: function(b, c, d) {
            if ((c = ez()) && 0 <= c.indexOf("/account") || d)
                this.Jb(SA),
                d = this.model.get("currentUser"),
                this.ic = new aB({
                    model: this.model
                }),
                b = this.ic.render(b, "#BillingTmpl", "subscriber", !1, !1, d.Ya(), null ).el,
                $(".content_main .settings_lCol").next().empty(),
                $(".content_main", this.el).append(b),
                this.ic.dP(),
                $("input", this.el).click(r(this, this.jj)),
                $(".payment_form", this.el).show(),
                $(this.el).show()
        },
        yq: function() {
            var b = ez();
            if (b && 0 <= b.indexOf("/account"))
                return this.fl = !0,
                this.Md({}, null , !0),
                (new X({
                    message: ab()
                })).render(),
                !1
        },
        fy: function() {
            var b = this.model.get("currentUser");
            this.fl = !1;
            this.A = b.Ya();
            (new X({
                message: db()
            })).render();
            py(this.el, b.of);
            $("#amount.renewal_summary", this.el).text(my(ny(b, this.A)));
            $("#period.renewal_summary", this.el).text(oy(this.A))
        },
        CI: function(b) {
            this.K && this.K();
            b = b && b.code == m.d.Se() ? ia() : Rb(["Please try again later or contact customer support."]);
            (new X({
                message: b
            })).render()
        },
        Ux: function(b) {
            this.fl = !1;
            this.ic && this.ic.$i(b)
        },
        settingsFormSubmit: function() {
            R(dx);
            return !1
        },
        Fz: function() {
            function b() {
                z.b(Ai, {
                    autoShareEnabled: d,
                    autoShareTrackPlay: e,
                    autoShareLikes: h,
                    autoShareFollows: l,
                    userInitiated: !0
                })
            }
            R(dx);
            var c = "public" == $('input[name="profile_privacy"]:checked', this.el).val()
              , d = 1 == $('input[name="autoShare"]:checked', this.el).length
              , e = 1 == $('input[name="autoShareListens"]:checked', this.el).length
              , h = 1 == $('input[name="autoShareLikes"]:checked', this.el).length
              , l = 1 == $('input[name="autoShareFollows"]:checked', this.el).length
              , p = 1 == $("input[name=allow_profile_notes]:checked", this.el).length
              , q = this.model.get("currentUser");
            c && (this.model.get("facebookAuthenticated") ? b() : d && z.b(pj, r(this, function(c) {
                c && b()
            })));
            z.b(zi, {
                isProfilePrivate: !c,
                disallowComments: !p,
                optOut: !q.zl,
                noNotifyOnNote: !q.Mr,
                noNotifyOnFollow: !q.Lr,
                artistPromoEmailsEnabled: void 0 != q.zf ? q.zf : null
            });
            this.wm = null ;
            return !1
        },
        XL: function(b) {
            R(dx);
            var c = 1 == $("input[name=notices_pandora]:checked", this.el).length
              , d = 1 == $("input[name=notices_friends]:checked", this.el).length
              , e = 1 == $("input[name=notices_follow]:checked", this.el).length
              , h = 1 == $("input[name=notices_artists]", this.el).length ? 1 == $("input[name=notices_artists]:checked", this.el).length : null ;
            b = b.data.ne.model.get("currentUser");
            z.b(zi, {
                isProfilePrivate: b.kh,
                disallowComments: b.Hp,
                optOut: !c,
                noNotifyOnNote: !d,
                noNotifyOnFollow: !e,
                artistPromoEmailsEnabled: h
            });
            return !1
        },
        IE: function(b) {
            R(dx);
            b.data.ne.model.get("currentUser");
            b = $("input[name=global_artist_message]").is(":checked");
            var c = [];
            $("input[name=artist_message]", this.el).each(function(b, e) {
                var h = $(e).attr("data-station-id");
                c.push({
                    stationId: h,
                    enabled: e.checked
                })
            });
            z.b(yk, [b, c]);
            return !1
        },
        Jb: function(b) {
            var c = this.model.get("currentUser");
            $(this.el).empty().append($("#settingsTmpl").tmpl({
                isSubscriber: c && (c.ab() || Zn(c)),
                inPaymentBackedTrial: c && c.gh,
                isGiftee: c && c.ih,
                hasCreditCard: c && (c.u == m.v.td() || c.u == m.v.Th() || c.u == m.v.Ln() || c.u == m.v.Au() || Zn(c)),
                supportsArtistMessages: void 0 != c.lm(),
                hasReceipts: c.ry()
            }));
            $("." + b + "Tab", this.el).addClass("on")
        },
        events: {
            "click #auto-renew-explanation-showmore": "autoRenewShowMore",
            "click .submit_btn": "accountSubmit",
            "click .set_pp_autorenew": "ppAutoRenewChangeClick",
            "click .bill_freq_input": "billingFrequencyClick",
            "click #submit_paypal_bill_freq": "ppUpdateBillingFrequency",
            "click .see_details": "seeDetailsClick",
            "click input[name=profile_privacy]": "openProfileClick",
            "change input[name=autoShare]": "autoShareClick",
            "change input[name=autoShareListens]": "autoShareListensClick",
            "change input[name=autoShareLikes]": "autoShareLikesClick",
            "change input[name=autoShareFollows]": "autoShareFollowsClick",
            "click input[name=allow_profile_notes]": "profileNotesClick",
            "click .connectButton": "connectButtonClick",
            "mouseover .connectButton": "connectButtonMouseOver",
            "mouseout .connectButton": "connectButtonMouseOut",
            "submit .account_settings": "settingsFormSubmit",
            "keyup #password": "passwordKeyup",
            "change .subscription_selection input": "enableSubmit",
            "click #p4b_learn_more": "p4bLearnMoreClick",
            "click #p4b_upgrade": "p4bUpgradeClick",
            "click .viewReceiptDetails": "viewReceiptDetails",
            "click .exitReceiptDetails": "exitReceiptDetails",
            "click .previousReceiptDetail": "previousReceiptDetail",
            "click .nextReceiptDetail": "nextReceiptDetail",
            "click .receiptClicked": "receiptClicked",
            "click .delete_account_link": "deleteAccountLinkClick",
            "click .go_to_new_site": "goToNewSiteLinkClick",
            "click .cancelDeleteAccount": "cancelDeleteAccountClick",
            "click .confirmDeleteAccount": "deleteAccountConfirmClick",
            "click .deleteAccountCheck": "deleteAccountClick"
        },
        receiptClicked: function() {
            this.ft();
            $("." + TA + "Tab", this.el).removeClass("receiptClicked");
            return !1
        },
        enableSubmit: function() {
            $("#submit_paypal_bill_freq", this.el).removeAttr("disabled");
            return !1
        },
        seeDetailsClick: function() {
            $(".details", this.el).fadeIn();
            $(".see_details", this.el).hide();
            return !1
        },
        ppAutoRenewChangeClick: function(b) {
            var c = "cancel_pp_subscription" != b.target.id
              , d = new tA;
            d.bind("submit", r(this, function(b) {
                this.ja && this.ja();
                this.model.get("currentUser");
                z.b(Cj, [Boolean(c), "", b])
            }));
            d.bind("cancel", r(this, function() {
                (new X({
                    message: cb()
                })).render()
            }));
            c ? d.render() : (b = new vA({
                model: this.model
            }),
            b.bind("submit", r(this, function() {
                d.render()
            })),
            b.render())
        },
        ppUpdateBillingFrequency: function() {
            var b = new tA;
            b.bind("submit", r(this, function(b) {
                this.ja && this.ja();
                this.model.get("currentUser");
                z.b(Cj, [Boolean(!0), this.A, b])
            }));
            b.bind("cancel", r(this, function() {
                (new X({
                    message: cb()
                })).render()
            }));
            b.render()
        },
        billingFrequencyClick: function(b) {
            this.A = b.target.value
        },
        passwordKeyup: function(b) {
            b = $(b.target);
            var c = b.val();
            -1 != c.indexOf(this.yk) && c != this.yk && b.val(c.replace(this.yk, ""))
        },
        openProfileClick: function() {
            "private" == $('input[name="profile_privacy"]:checked', this.el).val() ? this.lv() : (this.model.get("currentUser"),
            $('input[name="autoShare"]', this.el).prop({
                checked: this.mi,
                disabled: !1
            }),
            $('input[name="autoShareListens"]', this.el).prop("checked", this.pi),
            $('input[name="autoShareLikes"]', this.el).prop("checked", this.oi),
            $('input[name="autoShareFollows"]', this.el).prop("checked", this.ni),
            $('input[name="allow_profile_notes"]', this.el).prop({
                checked: null != this.wm ? null != this.wm : !0,
                disabled: !1
            }),
            $(".suboptions input", this.el).prop("disabled", !this.mi))
        },
        autoShareClick: function(b) {
            if (this.vm(b))
                return !1;
            b = $(b.target).is(":checked");
            $(".suboptions input", this.el).prop("disabled", !b);
            b && (this.pi || this.oi || this.ni || (this.ni = this.oi = this.pi = !0),
            $('input[name="autoShareListens"]', this.el).prop("checked", this.pi),
            $('input[name="autoShareLikes"]', this.el).prop("checked", this.oi),
            $('input[name="autoShareFollows"]', this.el).prop("checked", this.ni));
            this.mi = b
        },
        autoShareListensClick: function(b) {
            if (this.vm(b))
                return !0;
            this.pi = this.vq(b)
        },
        autoShareLikesClick: function(b) {
            if (this.vm(b))
                return !0;
            this.oi = this.vq(b)
        },
        autoShareFollowsClick: function(b) {
            if (this.vm(b))
                return !0;
            this.ni = this.vq(b)
        },
        vq: function(b) {
            this.mi = 0 < $(".suboptions input:checked").length;
            $('input[name="autoShare"]', this.el).prop("checked", this.mi);
            return $(b.target).is(":checked")
        },
        vm: function(b) {
            return $(b.target).is(":checked") && !this.model.get("facebookAuthenticated") ? ($(b.target).prop("checked", !1),
            z.b(pj, r(this, function(c) {
                c && ($(b.target).trigger("click"),
                this.Fz())
            })),
            !0) : !1
        },
        connectButtonClick: function(b) {
            $(b.target).hasClass("facebook") ? $(b.target).hasClass("connected") ? z.b(qj) : z.b(pj) : $(b.target).hasClass("connected") ? z.b(jj) : R(sv)
        },
        connectButtonMouseOver: function(b) {
            b = $(b.target);
            b.addClass("hover");
            b.hasClass("connected") && b.text("Disconnect")
        },
        connectButtonMouseOut: function(b) {
            b = $(b.target);
            b.removeClass("hover");
            b.hasClass("connected") && b.text("Connected")
        },
        profileNotesClick: function(b) {
            this.wm = $(b.target).is(":checked")
        },
        autoRenewShowMore: function() {
            $("#auto-renew-explanation-showmore", this.el).hide();
            $("#auto-renew-explanation", this.el).html(this.MN);
            return !1
        },
        accountSubmit: function() {
            var b = this.model.get("currentUser")
              , c = b.Vb
              , d = "no" == $("input[name=explicit_content]:checked", this.el).val()
              , b = b.Sq;
            $(".formFieldError", this.el).hide();
            c && !d && b ? (c = $("#pinUnlock", this.el).val(),
            rd(c) && 1 <= c.length ? this.mR(c) : $(".pinUnlockFieldError", this.el).text(Za()).fadeIn()) : this.Hs()
        },
        RN: function(b) {
            this.Dj = b;
            this.Hs()
        },
        QN: function() {
            (new X({
                message: cb()
            })).render()
        },
        mR: function(b) {
            z.b(Xi, {
                pin: b
            })
        },
        Hs: function() {
            var b = this.model.get("currentUser")
              , c = $("#username", this.el).val()
              , d = $("#password", this.el).val()
              , e = $("#birthyear", this.el).val()
              , h = $("#zipcode", this.el).val()
              , l = $("input[name=gender]:checked", this.el).val()
              , p = "no" == $("input[name=explicit_content]:checked", this.el).val()
              , q = $("#pin", this.el).val()
              , t = $("#pinConfirm", this.el).val()
              , y = $("#rescueEmail", this.el).val()
              , E = !0;
            d == this.yk && (d = this.Dj,
            E = !1);
            $(".formFieldError", this.el).hide();
            this.HO();
            var I = !1;
            sx(c) || ($(".usernameFieldError", this.el).text(da()).fadeIn(),
            $("#username", this.el).addClass("error_border"),
            I = !0);
            E && !tx(d) && ($(".passwordFieldError", this.el).text(fa()).fadeIn(),
            $("#password", this.el).addClass("error_border"),
            I = !0);
            ux(e) || ($(".birthYearFieldError", this.el).text(ja()).fadeIn(),
            $("#birthyear", this.el).addClass("error_border"),
            I = !0);
            /^\s*$/.test(h) && ($(".zipCodeFieldError", this.el).text(na()).fadeIn(),
            $("#zipcode", this.el).addClass("error_border"),
            I = !0);
            xx(l) || ($(".genderFieldError", this.el).text(ra()).fadeIn(),
            I = !0);
            "" != q && "Enter PIN" != q && (rd(q) && 1 <= q.length || ($(".pinFieldError", this.el).text(Za()).fadeIn(),
            I = !0),
            q != t && ($(".pinFieldError", this.el).text("Pins do not match").fadeIn(),
            I = !0),
            "" == q || sx(y) || ($(".pinFieldError", this.el).text(da()).fadeIn(),
            I = !0));
            if (!I) {
                if (null == this.Dj) {
                    this.bs = new tA;
                    this.bs.bind("submit", r(this, this.RN));
                    this.bs.bind("cancel", r(this, this.QN));
                    this.bs.render();
                    return
                }
                setTimeout(r(this, function() {
                    z.b(yi, {
                        oldusername: b.Ka,
                        oldpassword: this.Dj,
                        newusername: c,
                        newpassword: d,
                        emailOptIn: b.zl,
                        gender: l,
                        birthYear: Number(e),
                        zipCode: h,
                        contentFilterEnabled: p
                    });
                    this.Dj = null
                }), 0)
            }
            return !1
        },
        HO: function() {
            $(".zipCodeFieldError", this.el).removeClass("nag_message_color");
            $("#zipcode", this.el).removeClass("nag_border error_border");
            $(".usernameFieldError", this.el).removeClass("nag_message_color");
            $("#username", this.el).removeClass("nag_border error_border");
            $(".birthYearFieldError", this.el).removeClass("nag_message_color");
            $("#birthyear", this.el).removeClass("nag_border error_border");
            $("#password", this.el).removeClass("nag_border error_border")
        },
        vG: function(b) {
            $(".define_pin", this.el).css("display", "none");
            $(".ask_pin", this.el).css("display", "none");
            var c = b.data.ne.model.get("currentUser");
            b = b.target.id;
            var d = c.Sq;
            c.Vb ? "explicit_no" != b && d && $(".ask_pin", this.el).css("display", "inline-block") : "explicit_yes" != b && $(".define_pin", this.el).css("display", "inline-block")
        },
        Pp: function() {
            z.b(Yi, {});
            return !1
        },
        QH: function(b) {
            um(Gl, b.ldata.username);
            $(".submit_btn", this.el).css("opacity", "0.5");
            $(".submit_btn", this.el).css("filter", "alpha(opacity=50)");
            $(".ask_pin", this.el).fadeOut("slow");
            $(".define_pin", this.el).fadeOut("slow");
            b = $("#pin", this.el).val();
            var c = $("#rescueEmail", this.el).val();
            "" != b && "Enter PIN" != b ? z.b(Wi, {
                pin: b,
                rescueEmail: c
            }) : ($(".submit_btn", this.el).blur(),
            $(".saved_text", this.el).css("display", "inline").delay(this.Mn).fadeOut(1500))
        },
        DK: function() {
            $(".submit_btn", this.el).blur();
            $(".submit_btn", this.el).css("opacity", "0.5");
            $(".submit_btn", this.el).css("filter", "alpha(opacity=50)");
            $(".saved_text", this.el).css("display", "inline").delay(this.Mn).fadeOut(1500)
        },
        LI: function(b) {
            b.explicitPINVerified ? this.Hs() : (new X({
                message: Gb()
            })).render()
        },
        KI: function() {
            Wn(this.model.get("currentUser"));
            $(".submit_btn", this.el).blur();
            $(".saved_text", this.el).css("display", "inline").delay(this.Mn).fadeOut(1500, r(this, function() {
                $("#pin", this.el).val("");
                $("#pinConfirm", this.el).val("");
                $("#rescueEmail", this.el).val("");
                $("#pinUnlock", this.el).val("")
            }))
        },
        JI: function() {
            (new X({
                message: $a()
            })).render()
        },
        GE: function() {
            this.checked ? $('input[name="artist_message"]', this.el).removeAttr("disabled").prop("checked", !0) : $('input[name="artist_message"]', this.el).attr("disabled", !0).prop("checked", !1)
        },
        hI: function(b) {
            this.mw = !0;
            this.pf = b
        },
        goToNewSiteLinkClick: function() {
            Ln(v.i)
        },
        deleteAccountLinkClick: function() {
            var b = by("deleteAccountPopup", $("#deleteAccountConfirmHeaderTmpl").tmpl(), $("#deleteAccountConfirmContentTmpl").tmpl(), $("#deleteAccountConfirmFooterTmpl").tmpl());
            $(this.el).append(b);
            b.bind("closed", r(this, function() {
                $(".select", b).unbind("click");
                b.remove()
            }));
            this.logDeleteEvent("delete_account_tapped");
            return !1
        },
        cancelDeleteAccountClick: function() {
            cy();
            this.logDeleteEvent("are_you_sure_keep_account _tapped")
        },
        removeEventListeners: function() {
            z.pa(this, Zg);
            z.pa(this, di)
        },
        deleteAccountConfirmClick: function() {
            cy();
            var b = this.model.get("currentUser")
              , c = {}
              , c = b.ab() || Zn(b) ? by("deleteAccountPopup", $("#deleteAccountEmailHeaderTmpl").tmpl(), $("#deleteAccountEmailContentTmpl").tmpl(), $("#deleteAccountEmailFooterTmpl").tmpl()) : by("deleteAccountPopup", $("#deleteAccountPasswordHeaderTmpl").tmpl(), $("#deleteAccountPasswordContentTmpl").tmpl(), $("#deleteAccountPasswordFooterTmpl").tmpl());
            $(this.el).append(c);
            c.bind("closed", r(this, function() {
                this.removeEventListeners;
                $(".select", c).unbind("click");
                c.remove()
            }));
            this.logDeleteEvent("are_you_sure_delete_account_tapped");
            return !1
        },
        deleteAccountClick: function() {
            var b = $(this.el).find(".deleteError")
              , c = $(this.el).find(".emailField").val();
            b.text("");
            b.hide();
            this.logDeleteEvent("are_you_sure_delete_account_tapped");
            var d = this.model.get("currentUser");
            z.c(Zg, r(this, function() {
                this.removeEventListeners;
                if (d.ab() || Zn(d)) {
                    var b = by("deleteAccountPopup", $("#deleteAccountEmailConfirmHeaderTmpl").tmpl(), $("#deleteAccountEmailConfirmContentTmpl").tmpl({
                        email: c
                    }), $("#deleteAccountEmailConfirmFooterTmpl").tmpl());
                    $(this.el).append(b);
                    b.bind("closed", r(this, function() {
                        $(".select", b).unbind("click");
                        b.remove()
                    }))
                } else {
                    cy();
                    z.b(ti);
                    for (var h = document.cookie.split(";"), l = 0; l < h.length; l++) {
                        var p = h[l]
                          , q = p.indexOf("=");
                        document.cookie = (-1 < q ? p.substr(0, q) : p) + "=;expires=" + (new Date(0)).toUTCString() + "; path=/;"
                    }
                    $.cookie("_sl_toast", Ma());
                    window.location.reload(!0)
                }
            }));
            z.c(di, r(this, function(c) {
                b.text(c);
                b.show();
                this.removeEventListeners
            }));
            z.b(Mj, {
                password: $(this.el).find(".passwordField").val(),
                email: $(this.el).find(".emailField").val(),
                accountType: d.ck
            });
            return !1
        },
        logDeleteEvent: function(b) {
            var c = this.model.get("currentUser");
            b = {
                action: b,
                M3: c.s || null ,
                g4: u,
                x3: we,
                p3: z.ba,
                z3: "web",
                y3: "web",
                t3: (new Date).format("yyyy-mm-dd HH:MM:ss", !0)
            };
            s("delete_account_action", b, c);
            return !1
        },
        p4bLearnMoreClick: function() {
            s("pandoraone_submit_click", {
                vendor_id: u,
                action: "business_learn"
            }, this.model.get("currentUser"));
            setTimeout(function() {
                R(mv, {
                    source: "one"
                })
            }, 0);
            return !1
        },
        p4bUpgradeClick: function() {
            s("pandoraone_submit_click", {
                vendor_id: u,
                action: "business_upgrade"
            }, this.model.get("currentUser"));
            setTimeout(function() {
                R(jv, {
                    cancelCallback: function() {
                        V("/account/billing", !0, !1)
                    }
                })
            }, 0);
            return !1
        }
    });
    function ZA() {}
    ZA = Backbone.View.extend({
        initialize: function() {},
        el: $("#mainContent .audioQuality"),
        render: function() {
            $(this.el).append($("#audioQualitySettingsTmpl").tmpl({
                normalQualityAudio: !0 == om(bm)
            }));
            $(this.el).show()
        },
        events: {
            "click .submit_btn": "saveClick",
            "click #quality_high": "enableSave",
            "click #quality_normal": "enableSave"
        },
        enableSave: function() {
            $(".submit_btn").css("opacity", "1.0");
            $(".submit_btn").css("filter", "alpha(opacity=100)")
        },
        saveClick: function() {
            R(Uu, {
                low: 0 < $("#quality_normal:checked", this.el).length
            });
            this.SP();
            return !1
        },
        SP: function() {
            $(".submit_btn", this.el).blur();
            $(".submit_btn", this.el).css("opacity", "0.5");
            $(".submit_btn", this.el).css("filter", "alpha(opacity=50)");
            $(".saved_text", this.el).css("display", "inline").delay(4E3).fadeOut(1E3)
        }
    });
    function YA() {}
    YA = Backbone.View.extend({
        initialize: function() {
            this.Bd = this.options.cancelHash
        },
        render: function() {
            var b = this.model.get("currentUser");
            s("account_audio_page_hit", {
                vendor_id: u
            }, b);
            $(this.el).append($("#audioQualityUpsaleTmpl").tmpl({
                isUserAUNZ: b.Sa,
                offerAnnualSub: b.Ce,
                monthlyPrice: my(no(b)),
                annualPrice: my(b.le.toString()),
                showTrial: b.rh,
                showBusinessOffer: b.Xb
            })).show();
            return this
        },
        events: {
            "click #upgrade_now": "upgradeNowClick",
            "click #start_trial": "startTrialClick"
        },
        upgradeNowClick: function() {
            var b = $("input[name='frequency']:checked", this.el).val();
            R(ev, {
                billingFrequency: b,
                cancelCallback: r(this, function() {
                    V(this.Bd, !0, !0)
                })
            });
            return !1
        },
        startTrialClick: function() {
            V("/one/trial/start", !0, !0)
        }
    });
    function bB() {}
    bB = Backbone.View.extend({
        initialize: function() {
            S(rv, r(this, this.render))
        },
        el: $("#mainContent .genres"),
        render: function(b) {
            var c = b.category;
            if (null == c || "" == c)
                c = "top";
            var d = "/content/genre/" + c
              , e = b.station;
            if (e)
                d += "/" + e;
            else if ($("#genre_stations", this.el).attr("data-category") == c) {
                this.Cz();
                return
            }
            bA(d, {}, r(this, function(b, c) {
                if ("success" == c)
                    if (e) {
                        var d = $(b).filter("a").data("musicid");
                        $(window).scrollTop(0);
                        $("#mainContent").children().hide();
                        $("#mainContent .station").show();
                        R(Ru, d)
                    } else
                        $(this.el).empty().append(b),
                        this.Cz()
            }), function() {
                z.b(Mh)
            }, !0)
        },
        Cz: function() {
            $(".playGenreStation", this.el).show();
            var b = $(".genre_station_menu li.selected", this.el).find(".genreCategory");
            0 < b.length && (b = b.attr("data-code"),
            R(fx, {
                gcat: b
            }));
            b = "/music/" + $("#genre_stations", this.el).attr("data-category");
            ez() != b && V(b, !1, !1)
        },
        events: {
            "click ul > a": "genreClick",
            "click .playGenreStation": "playGenreStationClick"
        },
        playGenreStationClick: function(b) {
            var c = this.model.get("currentUser");
            if ((null == c || c.p()) && jz(this.model))
                return R(Av, {
                    onSuccessRedirect: ez()
                }),
                !1;
            b = $(b.target).attr("data-musicid");
            z.b(Hi, {
                stationCode: "mi" + b,
                source: "genre"
            });
            return !1
        },
        genreClick: function(b) {
            var c = $(b.target).attr("data-code");
            c && $(b.target).hasClass("selected") && R(fx, {
                gcat: c
            });
            return !0
        }
    });
    function MA(b, c) {
        this.Qh = $("img:first", b);
        this.Qa = $(".listenerstip_container", b).show().css("visibility", "hidden");
        this.Zb = this.Mb = null ;
        this.qR = c.viewerIsAnon;
        c.viewerListenerId && 0 < $(".follow_button[data-listenerid='" + c.viewerListenerId + "']", b).length || ($(this.Qh).hover(r(this, this.Pf), r(this, this.Qf)),
        z.c(Rf, r(this, this.Aq)),
        z.c(Vf, r(this, this.Mq)),
        z.c(Sf, r(this, this.Nq)),
        S(Gu, r(this, this.hide)))
    }
    function cA(b, c) {
        null != c && le(c.X) && $(".listener[data-webname='" + c.X + "']", b).remove();
        var d = $("#listeners_grid .listener", b)
          , e = d.length;
        if (9 >= e)
            $("#listeners_grid .listener", b).show();
        else
            for (; 9 > $("#listeners_grid .listener:visible", b).length; )
                $(d[parseInt(Math.random() * e, 10)]).show();
        $("#listeners_grid .listener:visible", b).each(function(b, d) {
            new MA($(d),{
                viewerIsAnon: null == c || c.p()
            })
        })
    }
    f = MA.prototype;
    f.Pf = function() {
        this.Zb ? this.ui() : (this.gc(),
        this.Mb = setTimeout(r(this, function() {
            this.gc();
            this.show()
        }), 500));
        return !1
    }
    ;
    f.Qf = function() {
        this.gc();
        this.Zb || (this.Zb = setTimeout(r(this, function() {
            this.ui();
            this.hide()
        }), 500));
        return !1
    }
    ;
    f.gc = function() {
        null != this.Mb && (clearTimeout(this.Mb),
        this.Mb = null )
    }
    ;
    f.ui = function() {
        this.Zb && (clearTimeout(this.Zb),
        this.Zb = null )
    }
    ;
    f.show = function() {
        if (!this.visible) {
            this.visible = !0;
            $(document.body).append(this.Qa.remove());
            $(this.Qa).hover(r(this, this.Pf), r(this, this.Qf));
            $(".follow_button", this.Qa).click(r(this, this.uM));
            $(".profile_name", this.Qa).click(r(this, this.hide));
            $(".album", this.Qa).click(r(this, this.hide));
            $(this.Qa).hide();
            $(this.Qa).css("visibility", "visible");
            $(this.Qa).fadeIn(200);
            var b = this.Qh.offset()
              , c = b.left - 17 + this.Qh.outerWidth() / 2
              , b = b.top - (this.Qa.height() + 8) + this.Qh.scrollTop();
            0 <= c && 0 <= b && $(this.Qa).offset({
                top: b,
                left: c
            });
            $(".album_cvr a", this.Qa).each(function(b, c) {
                if (0 == $("img", c).length) {
                    var h = $(c).attr("data-img");
                    $(c).html('<img src="' + h + '" width="50" height="50">')
                }
            });
            R(wv, this.Qa)
        }
    }
    ;
    f.hide = function() {
        this.visible && (this.visible = !1,
        $(this.Qa).fadeOut(200, r(this, function() {
            if (0 < $(this.Qh).length)
                try {
                    $(this.Qh).append(this.Qa.remove())
                } catch (b) {
                    k.debug("failed to return hovercard to its original position")
                }
        })),
        R(xv, this.Qa))
    }
    ;
    f.uM = function(b) {
        if (this.qR)
            R(Av);
        else {
            if (!$(b.target).hasClass("cannotFollow")) {
                var c = $(b.target).data("webname");
                $(b.target).hasClass("followable") ? z.b(Ij, {
                    webName: c,
                    ui_id: "fans"
                }) : $(b.target).hasClass("following") ? z.b(Jj, {
                    webName: c,
                    ui_id: "fans"
                }) : $(b.target).hasClass("blocked") ? (b = $(b.target).attr("data-listenerid"),
                z.b(Lj, b)) : k.error("Unhandled follow state: ", $(b.target))
            }
            return !1
        }
    }
    ;
    f.Aq = function(b) {
        var c = $(".follow_button", this.Qa);
        b.webName == c.data("webname") && (c.removeClass("followable"),
        c.addClass("following"),
        c.removeClass("hover"))
    }
    ;
    f.Nq = function(b) {
        var c = $(".follow_button", this.Qa);
        b.webName == c.data("webname") && (c.removeClass("following"),
        c.addClass("followable"),
        c.removeClass("hover"))
    }
    ;
    f.Mq = function(b) {
        var c = $(".follow_button", this.Qa);
        b == c.attr("data-listenerid") && (c.removeClass("blocked"),
        c.addClass("followable"),
        c.removeClass("hover"))
    }
    ;
    function LA(b, c) {
        this.yr = b;
        this.BG = b.attr("feedId");
        this.s = b.attr("listenerId");
        this.ON = b.attr("ownerName");
        this.X = b.attr("webName");
        this.Pw = "true" == b.attr("deleteCompletely");
        this.fr = c;
        this.el = $("#feedHideMenuTmpl").tmpl({
            listenerId: this.s,
            ownerName: this.ON,
            isComment: this.Pw
        });
        $(".feed_unfollow", this.el).truncate({
            width: 120
        });
        b.click(r(this, this.Pf));
        b.mouseout(r(this, this.Qf));
        this.el.hover(r(this, this.Pf), r(this, this.Qf));
        $(".feed_hide_post", this.el).click(r(this, this.MK));
        $(".feed_unfollow", this.el).click(r(this, this.Lt));
        $(".feed_report_spam", this.el).click(r(this, this.CO));
        $(".block_user", this.el).click(r(this, this.XE));
        $("body").append($(this.el));
        this.el.css("visibility", "hidden")
    }
    f = LA.prototype;
    f.Pf = function() {
        this.Zb ? this.ui() : (this.gc(),
        this.Mb = setTimeout(r(this, function() {
            this.gc();
            this.show()
        }), 200));
        return !1
    }
    ;
    f.Qf = function() {
        this.gc();
        this.Zb || (this.Zb = setTimeout(r(this, function() {
            this.ui();
            this.hide()
        }), 500));
        return !1
    }
    ;
    f.gc = function() {
        null != this.Mb && (clearTimeout(this.Mb),
        this.Mb = null )
    }
    ;
    f.ui = function() {
        this.Zb && (clearTimeout(this.Zb),
        this.Zb = null )
    }
    ;
    f.show = function() {
        $(this.el).attr("visible", !0);
        this.position();
        $(this.el).hide();
        $(this.el).css("visibility", "visible");
        $(this.el).fadeIn(200)
    }
    ;
    f.hide = function() {
        $(this.el).attr("visible", !1);
        $(this.el).fadeOut(200, r(this, function() {
            $(this.el).css("visibility", "hidden");
            $(this.el).show()
        }))
    }
    ;
    f.position = function() {
        var b = this.yr.offset();
        $(this.el).offset({
            top: b.top + this.yr.height() - 1,
            left: b.left - this.el.width() + this.yr.width()
        })
    }
    ;
    f.MK = function() {
        z.b(kj, {
            feedId: this.BG,
            isActivityDelete: this.fr,
            deleteCompletely: this.Pw
        });
        this.hide();
        return !1
    }
    ;
    f.Uq = function() {
        z.b(lj, this.s);
        this.hide();
        return !1
    }
    ;
    f.Lt = function() {
        z.b(Jj, {
            webName: this.X,
            ui_id: null ,
            listenerId: this.s
        });
        this.hide();
        return !1
    }
    ;
    f.CO = function() {
        window.open("/legal/community-guidelines", "_blank");
        this.hide();
        return !1
    }
    ;
    f.XE = function() {
        z.b(Kj, this.s);
        this.hide();
        return !1
    }
    ;
    function cB() {}
    cB = Backbone.View.extend({
        initialize: function() {
            var b = this.options.path;
            0 == b.indexOf("/music/") ? (b = ie(b),
            this.vb = {
                type: "profile",
                subtype: "fansOfGenreStation",
                content: "true",
                q: b[1] + "/" + b[2]
            }) : 0 == b.indexOf("/station/") ? this.vb = {
                type: "profile",
                subtype: "fansOfStation",
                content: "true",
                q: b.split("/")[2]
            } : this.vb = {
                type: "profile",
                subtype: "fansOfArtist",
                content: "true",
                q: ie(b)[0]
            }
        },
        render: function() {
            R(bx);
            bA("/content/fansof.vm", this.vb, r(this, this.sM));
            return this
        },
        close: function() {
            Xz(this)
        },
        events: {
            "click .listeners_menuItem": "menuItemClick",
            "click .createStation": "createStationClick",
            "click .more": "moreClick"
        },
        sM: function(b) {
            $(this.el).append(b);
            b = $(".backstage", this.el).attr("data-canonical");
            le(b) && -1 == ez().indexOf(b) && V(b, !1, !1)
        },
        menuItemClick: function(b) {
            b = b.target.id;
            $(".listeners_content_title").text(b);
            $(".listeners_menuItem").toggleClass("selected", !1);
            $(".listeners_menuItem[id='" + b + "']").toggleClass("selected", !0);
            return !1
        },
        createStationClick: function(b) {
            var c = $(b.target).attr("data-station-id");
            b = $(b.target).attr("data-music-id");
            le(c) ? z.b(Hi, {
                stationCode: "fs" + c
            }) : le(b) && z.b(Hi, {
                stationCode: "mi" + b
            });
            return !1
        },
        moreClick: function(b) {
            $(b.currentTarget).fadeOut();
            var c = $(b.currentTarget).attr("data-currentoffset")
              , d = $(b.currentTarget).attr("data-nextoffset");
            c && d ? (this.vb.countRowsOnBrowser = c,
            this.vb.countRowsNeeded = d,
            bA("/content/fansof.vm", this.vb, r(this, function(b) {
                $(".sections", this.el).append(b)
            }))) : $(b.currentTarget).closest(".section_page").next().fadeIn();
            return !1
        }
    });
    function dB() {}
    dB = Backbone.View.extend({
        initialize: function() {
            S(cv, r(this, this.QJ));
            S(dv, r(this, this.Eq))
        },
        el: $("#mainContent .capping"),
        QJ: function() {
            var b = $("#CapInfoTmpl").tmpl();
            $(this.el).empty().append(b);
            $("#mainContent").children().hide();
            $(this.el).show()
        },
        Eq: function() {
            var b = {}
              , c = this.model.get("currentUser")
              , d = ez();
            d && (0 <= d.indexOf("/payment") || 0 <= d.indexOf("paypal/confirm")) || (b.capHours = c.zr,
            b.username = c.Ka,
            b.nextMonth = xy.uH(),
            b = $("#CapReachedTmpl").tmpl(b),
            $(this.el).empty().append(b),
            $("#mainContent").children().hide(),
            $(this.el).show())
        },
        events: {
            "click .upgrade_now": "upgradeFromInfoClick",
            "click .upgrade_btn": "upgradeFromCapClick",
            "click .keep_listening": "keepListeningClick"
        },
        upgradeFromInfoClick: function() {
            R(ev, {
                billingFrequency: "ANNUAL",
                cancelCallback: r(this, function() {
                    R(cv)
                })
            });
            return !1
        },
        upgradeFromCapClick: function() {
            R(ev, {
                billingFrequency: "ANNUAL",
                cancelCallback: r(this, function() {
                    R(dv)
                })
            });
            return !1
        },
        keepListeningClick: function() {
            R(Iu);
            return !1
        }
    });
    function eB() {}
    eB = Backbone.View.extend({
        initialize: function() {
            this.message = this.options.message;
            this.bind("close", r(this, this.close))
        },
        className: "modal_please_wait",
        render: function() {
            $(this.el).append($("#modalPleaseWaitTmpl").tmpl(this.message));
            return this
        },
        close: function() {
            $(this.el).remove();
            this.el = null ;
            z.pa(this)
        }
    });
    function fB() {}
    fB = Backbone.View.extend({
        initialize: function() {
            this.A = "MONTHLY";
            S(ev, r(this, this.XJ));
            S(jv, r(this, this.VJ));
            S(lv, r(this, this.WJ));
            S(kv, r(this, this.xJ));
            z.c(If, r(this, this.Md));
            z.c(Jf, r(this, this.$i));
            z.c(Pf, r(this, this.$i));
            z.c(Qf, r(this, this.yq));
            mz("/payment");
            mz("/payment/business")
        },
        el: $("#mainContent .payment"),
        XJ: function(b) {
            this.vb = !1;
            b && (this.vb = !0,
            this.Ad = b.cancelCallback);
            V("/payment", !0, !0)
        },
        VJ: function(b) {
            this.vb = !1;
            b && (this.vb = !0,
            this.Ad = b.cancelCallback);
            V("/payment/business", !0, !0)
        },
        WJ: function() {
            this.vb || (this.Ad = function() {
                R(Iu)
            }
            );
            var b = this.model.get("currentUser");
            b && b.Ya() && "END_OF_MONTH" != b.Ya() && (this.A = b.Ya());
            b && b.Xb && b.u == m.v.td() ? setTimeout(function() {
                R(fv)
            }, 0) : b && b.Xb ? b.Pq ? (s("business_payment_page_hit", {
                vendor_id: u
            }, this.model.get("currentUser")),
            z.b(zj, "business")) : ((new X({
                message: pd()
            })).render(),
            setTimeout(function() {
                R(mv, {
                    showBusinessInfoForm: !0
                })
            }, 0)) : setTimeout(function() {
                R(Iu)
            }, 0)
        },
        xJ: function() {
            if (!this.vb) {
                this.Ad = function() {
                    R(Iu)
                }
                ;
                var b = this.model.get("currentUser");
                b && b.Ya() && "END_OF_MONTH" != b.Ya() && (this.A = b.Ya())
            }
            s("payment_page_hit", {
                vendor_id: u
            }, this.model.get("currentUser"));
            z.b(zj, "p1")
        },
        Md: function(b) {
            if (-1 != $.inArray(ez(), ["/payment", "/payment/business"])) {
                var c = {
                    99: "payToPlay",
                    p1: "subscriber",
                    p1gift: "p1gift",
                    business: "business"
                }[b.ctx];
                c ? ($("#mainContent").children().hide(),
                this.ic = new aB({
                    model: this.model,
                    showPleaseWait: r(this, this.ja),
                    hidePleaseWait: r(this, this.K)
                }),
                b = this.ic.render(b, "#PaymentTmpl", c, !0, !0, this.A, r(this, function() {
                    this.ic = null ;
                    this.Ad && this.Ad()
                })).el,
                $(this.el).empty().append(b).show(),
                (b = this.model.get("currentUser")) && b.es ? ($("#paypal_form", this.el).hide(),
                $("#paypal_select_container", this.el).hide(),
                $("#credit_select", this.el).prop("checked", !0),
                $("#creditcard_form", this.el).show()) : "payToPlay" == c && ($("#credit_select").prop("checked", !0),
                $("#paypal_form", this.el).hide(),
                $("#creditcard_form", this.el).show())) : k.error("Unknown payment context: ", b.ctx)
            }
        },
        yq: function() {
            if (-1 != $.inArray(ez(), ["/payment", "/payment/business"]))
                return this.Md({
                    ctx: "p1"
                }),
                (new X({
                    message: ab()
                })).render(),
                !1
        },
        ja: function() {
            this.T || ($(window).scrollTop(0),
            this.T = new eB({
                model: this.model,
                message: id()
            }),
            $("#main").append(this.T.render().el))
        },
        K: function() {
            this.T && (this.T.trigger("close"),
            this.T = null )
        },
        $i: function(b) {
            if ("/account/billing" != ez() && this.ic) {
                this.model.set({
                    capped: !1,
                    blueBarMessage: null
                });
                z.b(ei);
                var c = null ;
                if (b.lastGiftCode)
                    V("/showgift/" + b.lastGiftCode + "." + b.lastGiftHash, !1, !1);
                else {
                    R(Iu);
                    var d = b.listenerState;
                    if ("PAY_TO_PLAY" == d)
                        c = ld();
                    else if ("SUBSCRIBER" == d) {
                        if (d = this.model.get("currentUser"))
                            c = $.trim($("#period_amount", this.el).text()),
                            d = vl.encrypt(d.s),
                            Fp("https://4177752.fls.doubleclick.net/activityi;src=4177752;type=purch024;cat=purch865;qty=1;;ord=;cost=" + c + ";u1=" + d, function() {}, function() {});
                        c = jd();
                        z.b(ng)
                    } else
                        "BUSINESS" == d && (c = kd(),
                        z.b(og),
                        setTimeout(function() {
                            R(hv)
                        }, 0))
                }
                this.ic.$i(b, c);
                $(this.ic.el).remove();
                this.ic = null
            }
        },
        events: {
            "click #paypal_select": "paypalSelect",
            "click #credit_select": "creditCardSelect"
        },
        paypalSelect: function() {
            s("payment_paypal_select", {
                vendor_id: u
            }, this.model.get("currentUser"));
            $("#creditcard_form", this.el).hide();
            $("#paypal_form", this.el).show()
        },
        creditCardSelect: function() {
            s("payment_creditcard_select", {
                vendor_id: u
            }, this.model.get("currentUser"));
            $("#paypal_form", this.el).hide();
            $("#creditcard_form", this.el).show()
        }
    });
    function gB() {}
    gB = Backbone.View.extend({
        initialize: function() {
            this.cj = this.options.hashTag;
            z.c(xh, r(this, this.GI));
            mz("/norenew");
            this.bind("close", r(this, this.close))
        },
        className: "expired_account_container clearfix",
        render: function() {
            var b = this.model.get("currentUser")
              , b = {
                payment_method: b.ds,
                monthlyPrice: my(no(b)),
                isUserAUNZ: b.Sa
            };
            $(this.el).append($("#expiration-" + this.cj + "Tmpl").tmpl(b));
            $(window).scrollTop(0);
            $("#footer .browseGenres").hide();
            "subscribe" == this.cj && (b = this.model.get("currentUser"),
            s("subexp_viewed", {
                isTrial: "true"
            }, b));
            return this
        },
        close: function() {
            $(this.el).remove();
            this.el = null ;
            $("#footer .browseGenres").show();
            z.pa(this)
        },
        GI: function() {},
        events: {
            "click .confirm": "confirmClick",
            "click .nothanks": "noThanksClick",
            "click .continue": "continueClick",
            "click .noaction": "noactionClick"
        },
        confirmClick: function() {
            var b = this.model.get("currentUser")
              , c = r(this, function() {
                V("/" + this.cj, !0, !0)
            });
            po(b) ? R(jv, {
                cancelCallback: c
            }) : R(ev, {
                billingFrequency: b.Ya(),
                cancelCallback: c
            });
            "subscribe" == this.cj && s("subexp_sub_clicked", {
                isTrial: "true"
            }, b);
            return !1
        },
        noThanksClick: function() {
            this.model.set({
                blueBarMessage: null
            });
            $(this.el).fadeOut(200, r(this, function() {
                $(this.el).empty().append($("#renewalNoThanksTmpl").tmpl()).fadeIn()
            }));
            if ("subscribe" == this.cj) {
                var b = this.model.get("currentUser");
                s("subexp_cancel_clicked", {
                    isTrial: "true"
                }, b)
            }
            V("/norenew", !1, !0);
            return !1
        },
        continueClick: function() {
            var b = this.model.get("currentUser");
            b && b.sb == m.sa.eo() ? (z.b(el),
            b.sb = null ,
            z.b(Tf, b),
            s("coderot_check", {
                coderot_id: "a6877ffc-a4a3-11e3-be40-425861b86ab6"
            }, b)) : b && !b.zt && z.b(Gj);
            return !0
        },
        noactionClick: function() {
            R(Iu);
            return !0
        }
    });
    function hB() {}
    hB = Backbone.View.extend({
        initialize: function() {
            this.Wb = !1;
            this.A = "MONTHLY";
            this.bb = {};
            S(Iv, r(this, this.iz));
            S(ox, r(this, this.dh));
            z.c(Ie, r(this, this.Jf));
            z.c(He, r(this, this.$a));
            z.c(Sg, r(this, this.Gb));
            z.c(jh, r(this, this.BI));
            z.c(If, r(this, this.Md));
            z.c($f, r(this, this.aJ));
            z.c(wh, r(this, this.AI));
            z.c(Zh, r(this, this.zI));
            z.c(Bk, r(this, this.eK));
            z.c($h, r(this, this.Zx))
        },
        el: $("#mainContent .redemption"),
        render: function(b) {
            b && (this.Fb = b);
            this.Fd()
        },
        Fd: function() {
            $("#mainContent").children().hide();
            this.model.set({
                modalPanel: su
            });
            var b = this.model.get("currentUser");
            if (b.p())
                if (this.model.get("hasStations")) {
                    var c = this.model.get("stationList").pluck("stationName");
                    c.shift();
                    b = $("#hasStationsTmpl").tmpl({
                        stations: c
                    });
                    $("#mainContent .redemption").empty().append(b).show();
                    $("#noBtn").click(r(this, function() {
                        this.Q = "newUser";
                        z.b(xi)
                    }));
                    $("#yesBtn").bind("click", this, this.hz)
                } else
                    b = $("#redeemChoicesTmpl").tmpl({
                        stations: c
                    }),
                    $("#mainContent .redemption").empty().append(b).show(),
                    $("#existingUserBtn").click(r(this, this.Vp)),
                    $("#newUserBtn").click(r(this, this.hz));
            else
                b = $("#redeemSignedInTmpl").tmpl({
                    username: b.Ka
                }),
                $("#mainContent .redemption").empty().append(b).show(),
                $("#redeemSignedInBtn").click(r(this, this.UP)),
                $("#notMeLink").click(r(this, this.Kr))
        },
        dj: function() {
            $("#mainContent .redemption").empty()
        },
        sf: function() {
            this.render();
            return !1
        },
        ja: function() {
            this.T || ($(window).scrollTop(0),
            this.T = new eB({
                model: this.model,
                message: id()
            }),
            $("#main").append(this.T.render().el))
        },
        K: function() {
            this.T && (this.T.trigger("close"),
            this.T = null )
        },
        Jf: function() {
            "redeem" == this.Q ? (setTimeout(r(this, function() {
                z.b(Vj, this.Fb)
            }), 500),
            this.Q = null ,
            this.Er = !0) : this.dj()
        },
        $a: function() {
            if (!this.Q)
                this.dj();
            else if ("logout" == this.Q)
                this.Q = null ,
                setTimeout(r(this, function() {
                    z.b(ui, this.fi);
                    this.fi = null ;
                    this.Q = "redeem"
                }), 300);
            else if ("newUser" == this.Q || "existingUser" == this.Q)
                this.Q = null ,
                setTimeout(r(this, function() {
                    this.Fd()
                }), 300)
        },
        BI: function(b) {
            this.Q && (k.info("reg failed: " + b),
            this.Q = null ,
            (new X({
                message: Mb() + b
            })).render(),
            this.Fd())
        },
        UP: function() {
            if (this.Fb)
                z.b(Vj, this.Fb);
            else {
                var b = {}
                  , c = this.model.get("currentUser");
                if (c && Zn(c)) {
                    b.vendorBilledTmpl = "#vendorBilledTmpl";
                    var d = "Third Party Vendor";
                    c.ck && (d = c.ck);
                    b.vendor = d
                }
                $("#mainContent").find(".redemption").empty().append($("#redeemNowTmpl").tmpl(b));
                $(".redeem_field").click(this.yg);
                $("#redeemNowBtn").click(r(this, function() {
                    this.Fb = $("#giftcode").val().trim();
                    Ex(this.Fb) ? z.b(Vj, this.Fb) : $(".error").text(jb()).fadeIn()
                }));
                $("#goBackBtn").click(r(this, function() {
                    this.sf()
                }))
            }
            return !1
        },
        Kr: function() {
            iB("/giftredeem");
            z.b(ti);
            return !1
        },
        Ii: function() {
            var b = $("#giftcode").val().trim()
              , c = $("#email").val()
              , d = $("#password").val()
              , e = $("#birthyear").val()
              , h = $("#zipcode").val()
              , l = $("input[name=gender]:checked").val()
              , p = $("input[name=optin]").is(":checked")
              , q = $("input[name=terms]").is(":checked")
              , t = $("input[name=remember]").is(":checked")
              , y = !1;
            Ex(b) || ($("#codeError").text(jb()).fadeIn(),
            y = !0);
            sx(c) || ($("#emailError").text(kb()).fadeIn(),
            y = !0);
            tx(d) || ($("#passwordError").text(lb()).fadeIn(),
            y = !0);
            ux(e) ? vx(e) || ($("#birthyearError").text(ma()).fadeIn(),
            y = !0) : ($("#birthyearError").text(ma()).fadeIn(),
            y = !0);
            wx(ip(), h) || ($("#zipcodeError").text(jp()).fadeIn(),
            y = !0);
            xx(l) || ($("#genderError").text(ra()).fadeIn(),
            y = !0);
            q || ($("#termsError").text(qa()).fadeIn(),
            y = !0);
            y || (this.Fb = b,
            b = {
                username: c,
                password: d,
                birthYear: Number(e),
                zipCode: h,
                emailOptIn: p,
                gender: l,
                keepLoggedIn: t
            },
            "logout" == this.Q ? (this.fi = b,
            z.b(ti)) : (this.model.set({
                modalPanel: "REDEMPTION_PANEL"
            }),
            z.b(ui, b)));
            return !1
        },
        hz: function() {
            $("#mainContent .redemption").empty().append($("#redeemRegisterTmpl").tmpl({
                giftcode: this.Fb
            }));
            $("#redeemNowBtn").click(r(this, function() {
                this.Q = "redeem";
                this.Ii()
            }));
            $("#goBackBtn").click(r(this, function() {
                this.Q = null ;
                this.sf()
            }));
            $(".redeem_field").click(r(this, this.yg));
            return !1
        },
        iz: function() {
            $("#mainContent .redemption").empty().append($("#redeemRegisterTmpl").tmpl({
                giftcode: this.Fb
            }));
            $(".redeem_field").click(this.yg);
            $("#redeemNowBtn").click(r(this, function() {
                this.Q = "logout";
                this.Ii()
            }));
            $("#goBackBtn").click(r(this, function() {
                this.Q = null ;
                this.sf()
            }));
            return !1
        },
        Vp: function() {
            this.Q = "existingUser";
            R(Av, {
                giftRedemptionMode: !0,
                allowWhenLoggedIn: !0,
                onSuccessRedirect: ez()
            });
            return !1
        },
        Md: function(b) {
            if ("/gift" == ez()) {
                var c = this.model.get("currentUser");
                b = b.cdata;
                for (var d = {
                    years: [],
                    months: []
                }, e = (new Date).getFullYear(), h = 0; 12 > h; h++)
                    d.years.push(e + h),
                    9 > h ? d.months.push("0" + (h + 1)) : d.months.push(h + 1);
                null == b ? (d.zipcode = "",
                wx(ip(), c.Eb()) ? d.zipcode = c.Eb() : d.zipcode = "") : (d.customerName = b.customerName,
                d.zipcode = b.zipcode,
                d.displayableCardNumber = b.displayableCardNumber,
                d[b.cardCompany.toLowerCase()] = "checked",
                d.expirationMonth = b.expirationMonth,
                d.expirationYear = b.expirationYear);
                d.billingFrequency = this.A ? this.A : "MONTHLY";
                d.offerAnnualSub = c.Ce;
                d.trialDuration = c.wz.toString();
                d.monthlyPrice = my(no(c));
                d.annualPrice = my(c.le.toString());
                d.isUserAUNZ = c.Sa;
                d.isV2 = "V2" === c.dk;
                b = $("#GiftPaymentTmpl").tmpl(d);
                $(this.el).empty().append(b);
                c.es && ($("#paypal_form", this.el).hide(),
                $("#paypal_select_container", this.el).hide());
                $(this.el).show()
            }
        },
        AI: function(b) {
            var c = b.code;
            b = new X({
                message: Lb() + b.message
            });
            c == m.d.GB() ? z.b(zj, "PaymentBackedGift") : (this.Er ? (this.Er = !1,
            b.render(),
            c != m.d.Pn() && c != m.d.Qn() || this.Fd()) : b.render(),
            this.Fb = null );
            return !1
        },
        aJ: function() {
            var b = ib(), c;
            c = this.model.get("currentUser").od;
            365 < c && (b = new Date,
            b.setDate(b.getDate() + c),
            b = hb([b.toDateString()]));
            this.K && this.K();
            (new X({
                message: b
            })).render();
            this.Er ? this.model.set({
                modalPanel: "REGISTERED_PANEL"
            }) : (this.model.set({
                modalPanel: su
            }),
            R(Iu));
            this.Fb = null ;
            return !1
        },
        eK: function(b) {
            (b = b.redirectUrl) ? window.location.href = b : this.Zx()
        },
        zI: function(b) {
            (new X({
                message: b
            })).render();
            this.K && this.K()
        },
        Zx: function() {
            var b = oc();
            (new X({
                message: b
            })).render();
            this.K && this.K()
        },
        events: {
            "click .bill_freq_input": "billingFrequencySelect",
            "click #paypal_select": "paypalSelect",
            "click #credit_select": "creditCardSelect",
            "click #redeem_gift_pp": "redeemGiftPP",
            "click #redeem_gift_cc": "redeemGiftCC",
            "focusout #zip": "zipcodeFocus",
            "keyup #zip": "zipcodeFocus",
            "blur #zip": "zipcodeFocus",
            "change #zip": "zipcodeFocus",
            "focus .payment_field_validated": "clearErrors",
            "keyup .payment_field input": "inputModified",
            "change .payment_field select": "inputModified",
            "change .subscription_selection input": "inputModified"
        },
        billingFrequencySelect: function(b) {
            this.A = b.target.value
        },
        paypalSelect: function() {
            $("#creditcard_form", this.el).hide();
            $("#paypal_form", this.el).show()
        },
        creditCardSelect: function() {
            $("#paypal_form", this.el).hide();
            $("#creditcard_form", this.el).show()
        },
        inputModified: function(b) {
            if (!this.Wb)
                return this.Wb = !0,
                this.enableSubmit(b)
        },
        zipcodeFocus: function() {
            this.fc("ANNUAL", "ANNUAL");
            this.fc("MONTHLY", "MONTHLY");
            return !0
        },
        enableSubmit: function(b) {
            !this.Wb || this.xe() || $(b && b.target).hasClass("zipcode") || $(".pay_now", this.el).removeAttr("disabled");
            return !1
        },
        clearErrors: function(b) {
            $(b.target).siblings(".paymentFieldError").hide();
            $(b.target).siblings(".formFieldError").hide()
        },
        redeemGiftPP: function() {
            1 == $("input[name='agreePP']:checked", this.el).length != !0 ? $(".agreePPFieldError", this.el).text(bd()).fadeIn() : (this.ja && this.ja(),
            $(window).scrollTop(0),
            z.b(Ak, [this.Fb, this.A, gp()]));
            return !1
        },
        redeemGiftCC: function() {
            this.model.get("currentUser");
            var b = $.trim($("input[name='name']", this.el).val())
              , c = $("input[name='cardnumber']", this.el).val()
              , d = Cx(c)
              , e = $("select[name='expirationdate_month'] option:selected", this.el).val()
              , h = $("select[name='expirationdate_year'] option:selected", this.el).val()
              , l = $("input[name='securitycode']", this.el).val()
              , p = $("input[name='zipcode']", this.el).val()
              , q = 1 == $("input[name='agreeCC']:checked", this.el).length
              , t = gp()
              , y = this.se(b, d, p, l, c, e, h);
            !0 != q && ($(".agreeCCFieldError", this.el).text(bd()).fadeIn(),
            y.push(bd()));
            0 == y.length ? (this.ja && this.ja(),
            z.b(zk, [this.Fb, this.A, d, b, c, Number(e), Number(h), l, p, t])) : (new X({
                message: y.join("<br>")
            })).render();
            return !1
        },
        Dg: function() {
            $("#redeem_gift_cc", this.el).attr("disabled", "disabled")
        },
        se: function(b, c, d, e, h, l, p) {
            $(".paymentFieldError", this.el).hide();
            $(".formFieldError", this.el).hide();
            var q = [];
            if (null == b || 0 == b.length)
                $(".nameFieldError", this.el).text(gd()).fadeIn(),
                q.push(gd());
            wx(ip(), d) || ($(".zipcodeFieldError", this.el).text(jp()).fadeIn(),
            q.push(jp()));
            yx(e) || ($(".securitycodeFieldError", this.el).text(cd()).fadeIn(),
            q.push(cd()));
            zx(h) && Bx(c) || ($(".cardNumberFieldError", this.el).text(ed()).fadeIn(),
            q.push(ed()));
            Dx(l, p) || ($(".expriationFieldError", this.el).text(fd()).fadeIn(),
            q.push(fd()));
            return q
        },
        xe: function() {
            return this.bb && 0 < Object.keys(this.bb).length
        },
        fc: function(b, c) {
            if (b && b.length) {
                $("#salestax_amount." + c, this.el).html("");
                var d = $("input[name='zipcode']", this.el).val()
                  , e = this.model.get("currentUser");
                if (d && d.length == (e.Sa ? 4 : 5)) {
                    if (c in this.bb)
                        return;
                    this.bb[c] = !0;
                    R(nx, new Yy(d,b,c,!1))
                }
                this.Dg()
            }
        },
        dh: function(b) {
            if ("/gift" == ez()) {
                var c = b.tax
                  , d = b.token;
                b = b.amount;
                try {
                    c && b && ($("#salestax_amount." + d, this.el).html(my(c)),
                    this.Nj[d] = c)
                } catch (e) {} finally {
                    delete this.bb[d],
                    this.xe() || this.enableSubmit(null )
                }
            }
        },
        Gb: function() {
            this.K && this.K()
        }
    });
    function XA() {}
    XA = Backbone.View.extend({
        initialize: function() {
            this.referrer = this.options.referrer;
            this.Bd = this.options.cancelHash
        },
        render: function() {
            s("account_upgrade_page_hit", {
                vendor_id: u
            }, this.model.get("currentUser"));
            R(gx);
            var b = this.model.get("currentUser");
            $(this.el).append($("#upgradeTmpl").tmpl({
                isUserAUNZ: b.Sa,
                monthlyPrice: my(no(b)),
                showTrial: b.rh,
                showBusinessOffer: b.Xb
            }))
        },
        events: {
            "click #start_trial": "startTrialClick",
            "click #upgrade_now": "upgradeNowClick",
            "click #learn": "learnMoreClick"
        },
        startTrialClick: function() {
            V("/one/trial/start", !0, !0)
        },
        upgradeNowClick: function() {
            var b = this.model.get("currentUser");
            if (null == b || b.p())
                return R(Av, {
                    onSuccessRedirect: "/payment"
                }),
                !1;
            R(ev, {
                cancelCallback: r(this, function() {
                    V(this.Bd, !0, !0)
                })
            });
            return !1
        },
        learnMoreClick: function() {
            R(Uw);
            return !0
        }
    });
    function aB() {}
    aB = Backbone.View.extend({
        initialize: function() {
            this.ax = !0;
            this.hr = !1;
            this.ja = this.options.showPleaseWait;
            this.K = this.options.hidePleaseWait;
            this.bb = {};
            this.Nj = {};
            this.S = this.np = this.Wb = this.U3 = !1;
            z.c(jk, r(this, this.gK));
            z.c(Th, r(this, this.Wi));
            z.c(yh, r(this, this.zq));
            z.c(Dh, r(this, this.zq));
            z.c(zh, r(this, this.zq));
            z.c(Sg, r(this, this.Gb));
            S(ox, r(this, this.dh))
        },
        render: function(b, c, d, e, h, l, p) {
            b = b.cdata;
            this.S = "business" == d;
            this.ax = e;
            this.hr = h;
            this.Ad = p;
            var q = this.model.get("currentUser");
            this.A = "#PaymentTmpl" === c || "#RenewalTmpl" === c ? l : q.Ya();
            "" == this.A && q.ih && (this.A = "ANNUAL");
            e = {
                years: [],
                months: []
            };
            h = (new Date).getFullYear();
            for (l = 0; 12 > l; l++)
                e.years.push(h + l),
                9 > l ? e.months.push("0" + (l + 1)) : e.months.push(l + 1);
            e.mode = d;
            e.payText = "#RenewalTmpl" === c ? "Renew Now" : "Pay Now";
            e.showTerms = "#PaymentTmpl" === c;
            e.showCancelButton = null != this.Ad;
            e.showPayButton = "#BillingTmpl" != c;
            e.monthlyPrice = my(no(q));
            e.annualPrice = my(q.le.toString());
            e.businessMonthlyPrice = my(q.kl.toString());
            e.businessAnnualPrice = my(q.jl.toString());
            e.renewal_amount = my(ny(q, this.A));
            e.renewal_period = oy(this.A);
            e.isUserAUNZ = q.Sa;
            e.offerAnnualSub = q.Ce || q.S();
            e.expirationDate = (new Date((new Date).getTime() + 864E5 * parseInt(q.od, 10))).format("m/d/yy");
            e.expiredSubscriber = "EXPIRED_SUBSCRIBER" == q.u;
            e.showPaypalOrderConfirmScreen = Xo();
            e.username = q.Ka;
            e.billingFrequency = this.A;
            e.isV2 = "V2" === q.dk;
            e.subscriptionTitle = this.S ? "Pandora for Business" : "Pandora Plus";
            e.subscriptionTitleWithTagline = this.S ? "Pandora for Business" : "Pandora Plus - Ad Free, More Skips, and Fewer Timeouts";
            e.showBusinessOffer = !this.S && q.Xb;
            e.showBusinessLink = !this.S && q.Xb;
            d = !1;
            (this.Rq = null != b) ? (d = b.autoRenew,
            e.customerName = b.customerName,
            e.zipcode = b.zipcode,
            e.displayableCardNumber = b.displayableCardNumber,
            e[b.cardCompany.toLowerCase()] = "checked",
            e.expirationMonth = b.expirationMonth,
            e.expirationYear = b.expirationYear,
            b = $(c).tmpl(e),
            $("#delete_card", b).show(),
            $("#delete_card", b).click(r(this, function() {
                confirm("Are you sure?") && z.b(Zj, null );
                return !1
            }))) : (e.zipcode = "",
            wx(ip(), q.Eb()) ? e.zipcode = q.Eb() : e.zipcode = "",
            b = $(c).tmpl(e));
            py(b, d);
            "#BillingTmpl" != c && "END_OF_MONTH" == this.A && $("#end_of_month_select", b).hide();
            this.el && $(this.el).empty();
            $(this.el).append(b);
            $(".payment_summary", this.el).hide();
            $(".payment_summary." + this.A, this.el).show();
            this.fc(this.A, "renewal_summary");
            this.zipcodeFocus(null );
            var t = this.el
              , y = this.S;
            $(window).on("unload", function() {
                var b = $("input[name='cardnumber']", t).val();
                s(y ? "business_abandon_cart" : "p1_abandon_cart", {
                    vendor_id: u,
                    card_name_empty: !$.trim($("input[name='name']", t).val()),
                    card_empty: !b,
                    cvv_empty: !$("input[name='securitycode']", t).val(),
                    zip_empty: !$("input[name='zipcode']", t).val(),
                    payment_type: $("#paypal_select:checked").val() ? "paypal" : Cx(b)
                }, q);
                wp(null )
            });
            return this
        },
        dP: function() {
            $(".payment_form")
        },
        gK: function(b) {
            (b = b.redirectUrl) ? window.location.href = b : (b = jc(),
            (new X({
                message: b
            })).render(),
            this.K && this.K())
        },
        Wi: function(b) {
            var c = jc();
            b && b.code == m.d.zk() && (c = Qb());
            (new X({
                message: c
            })).render();
            this.K && this.K()
        },
        Gb: function() {
            this.K && this.K()
        },
        zq: function(b) {
            this.K && this.K();
            var c = Nb();
            b && (b.code == m.d.yB() ? c = Ob() : b.code == m.d.xB() ? c = hd() : b.code == m.d.mC() ? c = Pb() : b.code == m.d.Se() ? c = ia() : b.code == m.d.zk() && (c = Qb()));
            (new X({
                message: c
            })).render();
            z.b(zj, this.S ? "business" : "p1")
        },
        $i: function(b, c) {
            this.Rq = !0;
            this.np = this.Wb = !1;
            this.Dg();
            var d = jQuery.trim($(".settings_rCol .payment_form input[name='cardnumber']").val());
            if (4 < d.length) {
                for (var e = "", h = 0; h < d.length - 8; h++)
                    e += "*";
                $(".settings_rCol .payment_form input[name='cardnumber']").val(d.substring(0, 4) + e + d.substring(d.length - 4))
            }
            $(".settings_rCol .payment_form input[name='securitycode']").val("");
            (new X({
                message: c ? c : db()
            })).render();
            $("#delete_card", this.el).fadeIn();
            $("#delete_card", this.el).click(r(this, function() {
                confirm("Are you sure?") && z.b(Zj, null )
            }));
            $("input[name='securitycode']", this.el).prop("disabled", !1);
            $("input[name='agree']", this.el).prop("disabled", !1);
            d = this.model.get("currentUser");
            py(this.el, d && d.of);
            this.A = d.Ya();
            $("#amount.renewal_summary", this.el).text(my(ny(d, this.A)));
            $("#period.renewal_summary", this.el).text(oy(this.A));
            this.fc(this.A, "renewal_summary");
            this.zipcodeFocus("");
            this.K && this.K()
        },
        pp: function() {
            $(".paymentFieldError", this.el).hide();
            $(".formFieldError", this.el).hide()
        },
        fc: function(b, c) {
            if (b && b.length) {
                $("#salestax_amount." + c, this.el).html("");
                var d = $("input[name='zipcode']", this.el).val()
                  , e = this.model.get("currentUser");
                if (d && d.length == (e.Sa ? 4 : 5)) {
                    if (c in this.bb)
                        return;
                    this.bb[c] = !0;
                    R(nx, new Yy(d,b,c,this.S))
                }
                this.Dg()
            }
        },
        dh: function(b) {
            var c = b.tax
              , d = b.token;
            b = b.amount;
            try {
                c && b && ($("#salestax_amount." + d, this.el).html(my(c)),
                this.Nj[d] = c)
            } catch (e) {} finally {
                k.info("executing finally"),
                delete this.bb[d],
                this.xe() || this.enableSubmit(null )
            }
        },
        xe: function() {
            return this.bb && 0 < Object.keys(this.bb).length
        },
        Dg: function() {
            $(".pay_now", this.el).attr("disabled", "disabled")
        },
        events: {
            "click #paypal_continue": "paypalContinueClick",
            "click .p1_submit": "payP1Click",
            "click #p99_pay_now": "pay99Click",
            "click .cancel": "cancelClick",
            "click #cancel_sub_btn": "cancelSubscriptionClick",
            "click .see_details": "seeDetailsClick",
            "click #paypal_agree": "clearErrors",
            "click #cc_agree": "clearErrors",
            "click .bill_freq_input": "billingFrequencyClick",
            "focus .payment_field_validated input": "clearErrors",
            "focus .payment_field_validated select": "clearErrors",
            "focusout #pzip": "zipcodeFocus",
            "keyup #pzip": "zipcodeFocus",
            "blur #pzip": "zipcodeFocus",
            "change #pzip": "zipcodeFocus",
            "change #paypal_agree": "inputModified",
            "keyup .payment_field input": "inputModified",
            "change .payment_field select": "inputModified",
            "change .subscription_selection input": "inputModified",
            "click #are_you_a_business_link": "businessLinkClick"
        },
        inputModified: function(b) {
            $(b.currentTarget).is(".subscription_selection input") || (this.np = !0);
            if (!this.Wb)
                return this.Wb = !0,
                this.enableSubmit(b)
        },
        enableSubmit: function(b) {
            !this.Wb || this.xe() || $(b && b.target).hasClass("zipcode") || $(".pay_now", this.el).removeAttr("disabled");
            return !1
        },
        seeDetailsClick: function() {
            $(".details", this.el).fadeIn();
            $(".see_details", this.el).hide();
            return !1
        },
        cancelSubscriptionClick: function(b) {
            var c = new vA({
                model: this.model
            });
            c.bind("submit", r(this, function() {
                this.payP1Click(b)
            }));
            c.render()
        },
        billingFrequencyClick: function(b) {
            this.A = b.target.value;
            $(".payment_summary", this.el).hide();
            $(".payment_summary." + this.A, this.el).show()
        },
        zipcodeFocus: function() {
            this.fc("ANNUAL", "ANNUAL");
            this.fc("MONTHLY", "MONTHLY");
            this.fc("END_OF_MONTH", "END_OF_MONTH");
            return !0
        },
        paypalContinueClick: function() {
            $(window).scrollTop(0);
            var b = this.model.get("currentUser");
            this.S && s("business_payment_page_click", {
                vendor_id: u,
                action: "business_" + this.A.toLowerCase(),
                payment_type: "paypal"
            }, b);
            Xo() || 1 == $("input[name='agree']:checked", this.el).length ? (this.ja && this.ja(),
            z.b(ik, [this.A, gp(), this.S])) : ($(".agreeFieldError", this.el).text(bd()).fadeIn(),
            (new X({
                message: bd()
            })).render());
            return !1
        },
        payP1Click: function(b) {
            if ($(b && b.target).hasClass("disabled"))
                return !1;
            var c = this.model.get("currentUser");
            if (!c)
                return !1;
            var d = !(b && "cancel_sub_btn" == b.target.id)
              , e = this.Nj[this.A]
              , h = $.trim($("input[name='name']", this.el).val())
              , l = $("input[name='cardnumber']", this.el).val()
              , p = Cx(l)
              , q = $("select[name='expirationdate_month'] option:selected", this.el).val()
              , t = $("select[name='expirationdate_year'] option:selected", this.el).val()
              , y = $("input[name='securitycode']", this.el).val()
              , E = $("input[name='zipcode']", this.el).val();
            b = !$("input#cc_agree", this.el).is(":visible") || $("input#cc_agree", this.el).is(":checked");
            var I = this.ax
              , N = gp()
              , U = this.se(this.A, h, p, E, y, l, q, t, this.np);
            !0 != b && ($(".agreeFieldError", this.el).text(bd()).fadeIn(),
            U.push(bd()));
            this.S && s("business_payment_page_click", {
                vendor_id: u,
                action: "business_" + this.A.toLowerCase(),
                payment_type: "creditcard"
            }, this.model.get("currentUser"));
            0 == U.length ? this.Rq ? (c = new tA,
            c.bind("submit", r(this, function(b) {
                this.ja && this.ja();
                this.hr ? this.Lj(this.A, p, h, l, q, t, y, E, d, I, e, N, this.S, b) : this.jk(this.A, p, h, l, q, t, y, E, d, I, e, N, b)
            })),
            c.bind("cancel", r(this, function() {
                (new X({
                    message: cb()
                })).render()
            })),
            c.render()) : !c.ab() && this.hr ? this.Lj(this.A, p, h, l, q, t, y, E, d, I, e, N, this.S, "") : this.jk(this.A, p, h, l, q, t, y, E, d, I, e, N, "") : (new X({
                message: U.join("<br>")
            })).render();
            return !1
        },
        clearErrors: function(b) {
            $(b.target).siblings(".paymentFieldError").hide();
            $(b.target).siblings(".formFieldError").hide()
        },
        pay99Click: function(b) {
            if ($(b.target).hasClass("disabled"))
                return !1;
            b = $("input[name='name']", this.el).val();
            var c = $("input[name='cardnumber']", this.el).val()
              , d = Cx(c)
              , e = $("select[name='expirationdate_month']", this.el).val()
              , h = $("select[name='expirationdate_year']", this.el).val()
              , l = $("input[name='securitycode']", this.el).val()
              , p = $("input[name='zipcode']", this.el).val()
              , q = this.Nj.END_OF_MONTH
              , t = gp()
              , y = this.se("END_OF_MONTH", b, d, p, l, c, e, h, !0);
            0 == y.length ? (this.ja && this.ja(),
            this.Lj(this.A, d, b, c, e, h, l, p, !1, !1, q, t, "", !1, "")) : (new X({
                message: y.join("<br>")
            })).render();
            return !1
        },
        businessLinkClick: function() {
            var b = this.model.get("currentUser");
            s("business_payment_form_upsell", {
                vendor_id: u,
                source: 0 == ez().indexOf("/payment") ? "payment" : "billing"
            }, b);
            b.u == m.v.td() ? R(fv) : R(mv, {
                source: "payment"
            });
            return !1
        },
        se: function(b, c, d, e, h, l, p, q, t) {
            this.pp();
            var y = [];
            if (null == c || 0 == c.length)
                $(".nameFieldError", this.el).text(gd()).fadeIn(),
                y.push(gd());
            wx(ip(), e) || ($(".zipcodeFieldError", this.el).text(jp()).fadeIn(),
            y.push(jp()));
            Ax(b) || ($(".billingFieldError", this.el).text(dd()).fadeIn(),
            y.push(dd()));
            t && !yx(h) && ($(".securitycodeFieldError", this.el).text(cd()).fadeIn(),
            y.push(cd()));
            zx(l) && Bx(d) || ($(".cardNumberFieldError", this.el).text(ed()).fadeIn(),
            y.push(ed()));
            Dx(p, q) || ($(".expriationFieldError", this.el).text(fd()).fadeIn(),
            y.push(fd()));
            return y
        },
        cancelClick: function() {
            this.Ad && this.Ad();
            return !1
        },
        Lj: function(b, c, d, e, h, l, p, q, t, y, E, I, N, U) {
            z.b(Fj, [b, c, d, e, Number(h), Number(l), p, q, Number(E), I, N, U])
        },
        jk: function(b, c, d, e, h, l, p, q, t, y, E, I, N) {
            z.b(Bj, [b, c, d, e, Number(h), Number(l), p, q, Boolean(t), I, N])
        }
    });
    function $A() {}
    $A = Backbone.View.extend({
        initialize: function() {
            this.us = null
        },
        render: function(b, c) {
            this.us = b;
            -1 != b.typeOfService.indexOf("Business") ? b.logo = "business" : -1 != b.typeOfService.indexOf("One") ? b.logo = "one" : b.logo = "";
            var d = $(c).tmpl(b);
            this.el && $(this.el).empty();
            $(this.el).append(d);
            return this
        },
        events: {
            "click .print": "handlePrintClicked"
        },
        handlePrintClicked: function() {
            var b = window.open();
            s("business_view_receipt", {
                vendor_id: u,
                action: "print_save",
                transaction_id: this.us.transactionId,
                transaction_date: this.us.date
            }, this.model.get("currentUser"));
            var c = $("#print-area").clone(!0);
            c.find(".paging").remove();
            b.document.write(c.html());
            b.print();
            b.close();
            return !1
        }
    });
    function jB() {}
    jB = Backbone.View.extend({
        initialize: function() {
            z.c(Xf, r(this, this.Jq));
            z.c(Zf, r(this, this.ey));
            S(ww, r(this, this.ey))
        },
        className: "still_listening_container clearfix",
        render: function() {
            var b = this.model.get("currentUser");
            b.J() && z.b(Oj);
            var c = b.fk
              , d = b.Mh;
            if (!b.lh && !b.S() && b.KA && b.Xb && 0 == (om(lm) || 0) % b.KA)
                return $(this.el).append($("#pandoraForBusinessTimeoutUpsellTmpl").tmpl({
                    Z3: b.u == m.v.td()
                })),
                jn(),
                this;
            $(this.el).append($("#stillListeningTmpl").tmpl({
                isSponsoredListening: d == m.de.ao(),
                creditHours: c + " hour" + (1 < c ? "s" : ""),
                showUpgrade: !b.ab() && !Zn(b),
                shouldSeeAds: b.J(),
                isStreamLimited: b.lh,
                isUserAUNZ: b.Sa,
                offerAnnualSub: b.Ce,
                isBusiness: b.S(),
                monthlyPrice: my(no(b))
            }));
            c = b.u;
            b.lh && s("listening_session_display", {
                action: "display",
                listener_state: c,
                vendor_id: u,
                device_id: we
            }, b);
            jn();
            return this
        },
        Jq: function(b) {
            var c = C.za(this.model.get("currentStation"));
            null != b && !1 == c ? ($("#still_listening_ignore").text("Return to my station"),
            $(".svnOffer", this.el).show(),
            $("#upgradeOffer").hide(),
            b = this.model.get("currentUser"),
            s("truex_tracking", {
                for_action: "offer",
                benefit: b.Mh,
                benefit_amount: b.fk,
                detail: this.model.get("halt_id"),
                vendor_id: u,
                device_id: we
            }, b)) : ($(".svnOffer", this.el).hide(),
            $("#still_listening_ignore").text("I'm still listening"),
            $("#upgradeOffer").show())
        },
        ey: function() {
            this.stillListeningClick()
        },
        events: {
            "click #still_listening_upgrade": "upgradeClick",
            "click #p4b_upgrade": "businessUpgradeClick",
            "click .still_listening": "stillListeningClick",
            "click .continue_abuse": "continueAbuseClick",
            "click .learn_more_abuse": "learnAbuseClick",
            "click .eliminate_timeout": "eliminateTimeoutClick",
            "click #learn": "learnMoreClick"
        },
        upgradeClick: function() {
            this.Sm("upgrade");
            R(ev, {
                cancelCallback: r(this, function() {
                    V("/account/upgrade", !0, !0)
                })
            });
            return !1
        },
        businessUpgradeClick: function() {
            this.Sm("business_upsell");
            R(jv, {
                source: "timeout"
            });
            return !1
        },
        learnMoreClick: function() {
            this.Sm("upgrade");
            R(Uw);
            return !0
        },
        eliminateTimeoutClick: function() {
            var b = this.model.get("halt_id")
              , c = this.model.get("currentUser")
              , d = c.u;
            s("listener_idle", {
                action: "value_exchange",
                active: "true",
                halt_id: b,
                inactive_time: Math.floor((ud() - b) / 1E3),
                listener_state: d,
                vendor_id: u,
                device_id: we
            }, c);
            s("truex_tracking", {
                for_action: "offer_accepted",
                benefit: c.Mh,
                benefit_amount: c.fk,
                detail: b,
                vendor_id: u,
                device_id: we
            }, c);
            this.model.set({
                modalPanel: "SVN_AD_PANEL"
            });
            return !1
        },
        stillListeningClick: function() {
            z.b(Dk, r(this, function() {
                this.Sm("none");
                this.remove();
                this.el = null ;
                R(Iu)
            }));
            return !1
        },
        continueAbuseClick: function() {
            var b = this.model.get("currentUser");
            s("listening_session_display", {
                action: "dismiss",
                listener_state: b.u,
                vendor_id: u,
                device_id: we
            }, b);
            this.model.set({
                inactive: !1
            });
            this.remove();
            this.el = null ;
            R(Iu)
        },
        learnAbuseClick: function() {
            var b = this.model.get("currentUser");
            s("listening_session_display", {
                action: "learn",
                listener_state: b.u,
                vendor_id: u,
                device_id: we
            }, b);
            window.open("http://help.pandora.com/customer/portal/articles/1392219?un=" + b.Ka, "_blank");
            return !1
        },
        Sm: function(b) {
            var c = this.model.get("halt_id")
              , d = this.model.get("currentUser")
              , e = d.u;
            s("listener_idle", {
                action: b,
                active: "true",
                business_upsell: d && d.S() && "upgrade" == b,
                halt_id: c,
                inactive_time: Math.floor((ud() - c) / 1E3),
                listener_state: e,
                vendor_id: u,
                device_id: we
            }, d);
            R(Jw);
            this.model.set({
                inactive: !1
            })
        }
    });
    function kB() {}
    kB = Backbone.View.extend({
        initialize: function() {
            this.lb = this.options.detail_url
        },
        render: function() {
            bA(this.lb, {}, r(this, this.QM), function() {
                z.b(Mh)
            }, !0);
            return this
        },
        close: function() {
            Xz(this)
        },
        events: {
            "click .listeners_menuItem": "menuItemClick",
            "click .more": "moreClick"
        },
        QM: function(b) {
            $(this.el).append(b);
            ty(new qy(this.model.get("currentUser")), !1)
        },
        menuItemClick: function(b) {
            b = b.target.id;
            $(".listeners_content_title").text(b);
            $(".listeners_menuItem").toggleClass("selected", !1);
            $(".listeners_menuItem[id='" + b + "']").toggleClass("selected", !0);
            return !1
        },
        moreClick: function(b) {
            $(b.currentTarget).fadeOut();
            var c = $(b.currentTarget).attr("data-currentoffset")
              , d = $(b.currentTarget).attr("data-nextoffset");
            c && d ? bA(this.lb, {
                countRowsOnBrowser: c,
                countRowsNeeded: d
            }, r(this, function(b) {
                $(".sections", this.el).append(b)
            })) : $(b.currentTarget).closest(".section_page").next().fadeIn();
            return !1
        }
    });
    function lB() {}
    lB = Backbone.View.extend({
        initialize: function() {
            this.referrer = this.options.referrer;
            this.Bd = this.options.cancelHash
        },
        el: $("#mainContent .pandoraOneInfo"),
        render: function() {
            function b(c, d, l) {
                setTimeout(function() {
                    $("#icons_wrapper img.active").removeClass("active");
                    setTimeout(function() {
                        l = (l + 1) % 3;
                        $("#icons_wrapper .icon_img").eq(l).addClass("active");
                        b(c, d, l)
                    }, d)
                }, c)
            }
            R(qx);
            var c = this.model.get("currentUser")
              , d = {
                isUserAUNZ: c.Sa,
                offerAnnualSub: c.Ce,
                monthlyPrice: my(no(c)),
                annualPrice: my(c.le.toString()),
                isGrandfathered: c.Ny()
            };
            $(this.el).empty().append($("#pandoraOneTmpl").tmpl(d)).show();
            d = !1;
            null == c || c.p() ? ($(".trial", this.el).hide(),
            $(".upgrade", this.el).hide(),
            $(".start", this.el).show()) : (c.rh ? (d = !0,
            $(".trial", this.el).show(),
            $(".upgrade", this.el).hide()) : ($(".trial", this.el).hide(),
            $(".upgrade", this.el).show()),
            $(".start", this.el).hide());
            $(".btn_placeholder", this.el).hide();
            c && c.Xb ? ($(".p4b_stuff").show(),
            $(".dmx_stuff").hide()) : ($(".p4b_stuff").hide(),
            $(".dmx_stuff").show());
            s("pandoraone_page_hit", {
                vendor_id: u,
                istrial: d
            }, this.model.get("currentUser"));
            c ? ($("#p1_subhead_line1_content", this.el).show(),
            $("#p1_subhead_line1_placeholder", this.el).hide(),
            $("#p1_subhead_line2_content", this.el).show(),
            $("#p1_subhead_line2_placeholder", this.el).hide()) : ($("#p1_subhead_line1_content", this.el).hide(),
            $("#p1_subhead_line1_placeholder", this.el).show(),
            $("#p1_subhead_line2_content", this.el).hide(),
            $("#p1_subhead_line2_placeholder", this.el).show());
            $("#p1_page", this.el).show();
            setInterval(function() {
                $("#bg1").toggleClass("active")
            }, 3E3);
            setInterval(function() {
                $("#bg2").toggleClass("active")
            }, 2800);
            setInterval(function() {
                $("#bg3").toggleClass("active")
            }, 4E3);
            b(1500, 750, 0);
            return this
        },
        events: {
            "click .trial": "startTrialClick",
            "click .upgrade": "upgradeNowClick",
            "click .start": "startNowClick",
            "click #dmx_learn_more": "dmxLearnMoreClick",
            "click #p4b_learn_more": "p4bLearnMoreClick",
            "click #p4b_upgrade": "p4bUpgradeClick"
        },
        startTrialClick: function() {
            V("/one/trial/start", !0, !0);
            s("pandoraone_submit_click", {
                vendor_id: u,
                action: "trial"
            }, this.model.get("currentUser"))
        },
        upgradeNowClick: function() {
            R(ev, {
                cancelCallback: r(this, function() {
                    V(this.Bd, !0, !0)
                })
            });
            s("pandoraone_submit_click", {
                vendor_id: u,
                action: "upgrade"
            }, this.model.get("currentUser"));
            return !1
        },
        startNowClick: function() {
            R(Av, {
                onSuccessRedirect: "/_upgrade"
            });
            s("pandoraone_submit_click", {
                vendor_id: u,
                action: "startnow"
            }, this.model.get("currentUser"));
            return !1
        },
        dmxLearnMoreClick: function() {
            V("/everywhere/business", !0, !0);
            s("pandoraone_submit_click", {
                vendor_id: u,
                action: "business"
            }, this.model.get("currentUser"))
        },
        p4bLearnMoreClick: function() {
            s("pandoraone_submit_click", {
                vendor_id: u,
                action: "business_learn"
            }, this.model.get("currentUser"));
            R(mv, {
                source: "upgrade"
            });
            return !1
        },
        p4bUpgradeClick: function() {
            var b = this.model.get("currentUser");
            s("pandoraone_submit_click", {
                vendor_id: u,
                action: "business_upgrade"
            }, this.model.get("currentUser"));
            !b || b.p() ? R(Av, {
                onSuccessCallback: function() {
                    R(jv, {
                        cancelCallback: function() {
                            V("/upgrade", !0, !1)
                        }
                    })
                }
            }) : R(jv, {
                cancelCallback: function() {
                    V("/upgrade", !0, !1)
                }
            });
            return !1
        }
    });
    function mB() {}
    mB = Backbone.View.extend({
        initialize: function() {
            this.fd = "intro";
            this.Gd = [];
            for (var b = 0; b < window.giftChoiceList.length; b++)
                window.giftChoiceList[b].enabled && (this.Gd.push(window.giftChoiceList[b]),
                this.Gd[this.Gd.length - 1].index = this.Gd.length - 1);
            this.Js = this.Gd[0]
        },
        close: function() {
            Xz(this)
        },
        el: $("#mainContent .giftInfo"),
        render: function() {
            var b = this.model.get("currentUser");
            switch (this.fd) {
            case "intro":
                $(this.el).empty().append($("#giftIntroTmpl").tmpl({
                    isUserLoggedIn: !b.p()
                })).show();
                break;
            case "form":
                $(this.el).empty().append($("#giftEnterInfoTmpl").tmpl({
                    username: b.Ka,
                    fullname: b.Il
                })).show();
                $("#theme_bg .scrollable_content", this.el).css("width", 180 * this.Gd.length);
                for (b = 0; b < this.Gd.length; b++)
                    $("#theme_bg .scrollable_content", this.el).append($("#giftThemeTmpl").tmpl(this.Gd[b]));
                this.rA();
                Yx($("#theme_bg", this.el));
                break;
            case "payment":
                R(Gv, r(this, function() {
                    $(".payment").empty().hide();
                    this.cancelClick()
                }));
                break;
            default:
                throw Error("Unknown gift state: " + this.state);
            }
            return this
        },
        rA: function() {
            $("#currentSelection", this.el).empty().append($("#selectedThemeTmpl").tmpl(this.Js));
            $("#card_choice", this.el).val(this.Js.name)
        },
        events: {
            "click .signOutLink": "signOutClick",
            "click .cancel": "cancelClick",
            "click .next": "nextClick",
            "click .login": "loginClick",
            "click .register": "registerClick",
            "click .sample_buttons .example": "exampleClick",
            "click .sample_buttons .select": "selectClick",
            "keyup #message": "messageKeyup"
        },
        loginClick: function() {
            iB("/buygift");
            V("/account/sign-in", !0, !1);
            return !1
        },
        registerClick: function() {
            iB("/buygift");
            V("/account/register", !0, !1);
            return !1
        },
        messageKeyup: function() {
            if (300 <= $("#message", this.el).val().length)
                return $("#message", this.el).val($("#message", this.el).val().substr(0, 300)),
                $("#messageError", this.el).fadeIn(),
                !1;
            $("#messageError", this.el).fadeOut();
            return !0
        },
        exampleClick: function(b) {
            b = $(b.target).closest(".sample_container").tmplItem().data;
            var c = by("giftExamplePopup", $("#giftExampleHeaderTmpl").tmpl(b), $("#giftExampleContentTmpl").tmpl(b), $("#giftExampleFooterTmpl").tmpl(b));
            c.bind("closed", r(this, function() {
                $(".select", c).unbind("click");
                c.remove()
            }));
            $(".select", c).bind("click", r(this, function(b) {
                this.eA($(b.target).tmplItem().data);
                c.fadeTo(400, 0, function() {
                    c.remove()
                })
            }));
            $(this.el).append(c);
            return !1
        },
        selectClick: function(b) {
            this.eA($(b.target).closest(".sample_container").tmplItem().data);
            return !1
        },
        eA: function(b) {
            this.Js = this.Gd[b.index];
            this.rA();
            return !1
        },
        cancelClick: function() {
            switch (this.fd) {
            case "form":
                this.fd = "intro";
                break;
            case "payment":
                this.fd = "form";
                break;
            default:
                throw Error("don't know how to cancel state: " + this.fd);
            }
            this.render();
            return !1
        },
        nextClick: function() {
            if ("form" == this.fd && !this.iR())
                return !1;
            switch (this.fd) {
            case "intro":
                this.fd = "form";
                break;
            case "form":
                this.fd = "payment";
                break;
            default:
                throw Error("don't know how to go to next state: " + this.fd);
            }
            this.render();
            return !1
        },
        iR: function() {
            me($("#sender_name", this.el).val()) ? $("#sender_name_error", this.el).fadeIn() : $("#sender_name_error", this.el).fadeOut();
            me($("#recipient_name", this.el).val()) ? $("#recipient_name_error", this.el).fadeIn() : $("#recipient_name_error", this.el).fadeOut();
            var b = "email" == $("input[name='gift_delivery']:checked", this.el).val()
              , c = $("#recipient_email", this.el).val();
            !b && me(c) || sx(c) ? $("#recipient_email_error", this.el).fadeOut() : $("#recipient_email_error", this.el).fadeIn();
            $("#recipient_email", this.el).val() != $("#recipient_email2", this.el).val() ? $("#recipient_email2_error", this.el).fadeIn() : $("#recipient_email2_error", this.el).fadeOut();
            return 0 == $(".giftError:visible", this.el).length
        },
        signOutClick: function() {
            z.b(ti);
            return !1
        }
    });
    function nB() {}
    nB = Backbone.View.extend({
        initialize: function() {
            this.Vi = this.options.gift;
            z.c(sg, r(this, this.giftEmailed));
            this.GA = window.giftChoiceList[0];
            for (var b = 0; b < window.giftChoiceList.length; b++)
                if (window.giftChoiceList[b].name == this.Vi.skin) {
                    this.GA = window.giftChoiceList[b];
                    break
                }
        },
        el: $("#mainContent .giftInfo"),
        render: function() {
            var b = this.model.get("currentUser");
            $(this.el).empty().append($("#giftShowTmpl").tmpl({
                username: b.Ka,
                noads: !b.J(),
                gift: this.Vi,
                theme: this.GA
            })).show();
            return this
        },
        events: {
            "click .print": "printClicked",
            "click .email": "emailClicked"
        },
        printClicked: function() {
            window.print();
            return !1
        },
        emailClicked: function() {
            $(".email", this.el).hasClass("disabled") || ($(".email", this.el).addClass("disabled"),
            z.b(gk, [this.Vi.giftCode, this.Vi.giftHash]));
            return !1
        },
        giftEmailed: function() {
            this.Vi.type = "EMAIL";
            this.render()
        },
        close: function() {
            z.pa(this)
        }
    });
    function oB() {}
    oB = Backbone.View.extend({
        initialize: function() {
            z.c(He, r(this, this.$a));
            z.c(Ie, r(this, this.Jf));
            z.c(eh, r(this, this.nJ));
            z.c(jh, r(this, this.HJ))
        },
        render: function(b) {
            this.Jh = b;
            this.Fd()
        },
        Fd: function() {
            R(lx, {
                sponsor: this.Jh
            });
            $("#mainContent").children().hide();
            this.model.set({
                modalPanel: su
            });
            var b = $("#sponsoredTrial img")[0]
              , c = this.model.get("currentUser");
            c.p() ? this.model.get("hasStations") ? (c = this.model.get("stationList").pluck("_stationName"),
            c.shift(),
            b = $("#sponsoredTrialHasStationsTmpl").tmpl({
                stations: c,
                logo: b
            }),
            $("#mainContent").children().hide(),
            $("#mainContent .sponsoredTrial").empty().append(b).show(),
            $("#noBtn").bind("click", this, r(this, function() {
                this.Q = "newUser";
                z.b(xi)
            })),
            $("#yesBtn").bind("click", this, this.gz)) : (b = $("#sponsoredTrialChoicesTmpl").tmpl({
                sponsor: this.Jh
            }),
            $("#mainContent .sponsoredTrial").empty().append(b).show(),
            $("#existingUserBtn").bind("click", this, this.Vp),
            $("#newUserBtn").bind("click", this, this.gz)) : (b = $("#sponsoredTrialSignedInTmpl").tmpl({
                username: c.Ka,
                logo: b
            }),
            $("#mainContent .sponsoredTrial").empty().append(b).show(),
            $("#startNowBtn").bind("click", r(this, function() {
                R(mx, {
                    path: "/ignored/ignored/" + this.Jh
                })
            })),
            $("#notMeLink").bind("click", this, this.Kr))
        },
        dj: function() {
            $("#mainContent .sponsoredTrial").fadeOut(r(this, function() {
                $("#mainContent .sponsoredTrial").empty()
            }))
        },
        sf: function() {
            this.Fd();
            return !1
        },
        HJ: function(b) {
            this.Q && (this.debug("registration failed"),
            (new X({
                message: b
            })).render(),
            this.Fd());
            return !1
        },
        nJ: function() {
            this.debug("login failed");
            this.Q && (this.Q = null ,
            (new X({
                message: "Sorry, I don't recognize your email and password."
            })).render())
        },
        $a: function() {
            this.Q ? "newUser" == this.Q ? (this.Q = null ,
            setTimeout(r(this, function() {
                this.Fd()
            }), 300)) : "startTrial" == this.Q ? (this.Q = null ,
            R(mx, {
                path: "/ignored/ignored/" + this.Jh
            })) : "logout" == this.Q && (this.Q = null ,
            setTimeout(r(this, function() {
                z.b(ui, this.fi);
                this.fi = null ;
                this.Q = "startTrial"
            }), 300)) : this.dj()
        },
        Jf: function() {
            "startTrial" == this.Q && (this.Q = null ,
            R(mx, {
                path: "/ignored/ignored/" + this.Jh
            }))
        },
        Kr: function() {
            iB(ez());
            z.b(ti);
            return !1
        },
        kQ: function(b) {
            var c = $("#email", this.el).val()
              , d = $("#password", this.el).val()
              , e = $("input[name=remember]", this.el).is(":checked")
              , h = !1;
            tx(d) || (h = !0,
            $("#passError", this.el).text(lb()).fadeIn());
            sx(c) || (h = !0,
            $("#emailError", this.el).text(kb()).fadeIn());
            h || (h = b.data.model.get("currentUser"),
            c == h.Ka ? R(mx, {
                path: "/ignored/ignored/" + b.data.Jh
            }) : (b.data.Q = "startTrial",
            z.b(si, {
                username: c,
                password: d,
                keepLoggedIn: e
            })));
            return !1
        },
        Ii: function(b) {
            var c = $("#email").val()
              , d = $("#password").val()
              , e = $("#birthyear").val()
              , h = $("#zipcode").val()
              , l = $("input[name=gender]:checked").val()
              , p = $("input[name=optin]").is(":checked")
              , q = $("input[name=terms]").is(":checked")
              , t = $("input[name=remember]").is(":checked")
              , y = !1;
            sx(c) || ($("#emailError").text(kb()).fadeIn(),
            y = !0);
            tx(d) || ($("#passwordError").text(lb()).fadeIn(),
            y = !0);
            ux(e) ? vx(e) || ($("#birthyearError").text(ma()).fadeIn(),
            y = !0) : ($("#birthyearError").text(ma()).fadeIn(),
            y = !0);
            wx(ip(), h) || ($("#zipcodeError").text(jp()).fadeIn(),
            y = !0);
            xx(l) || ($("#genderError").text(ra()).fadeIn(),
            y = !0);
            q || ($("#termsError").text(qa()).fadeIn(),
            y = !0);
            y || (c = {
                username: c,
                password: d,
                birthYear: Number(e),
                zipCode: h,
                emailOptIn: p,
                gender: l,
                keepLoggedIn: t
            },
            "logout" == b.data.Q ? (b.data.fi = c,
            z.b(ti)) : z.b(ui, c));
            return !1
        },
        gz: function(b) {
            var c = $("#sponsoredTrial img")[0];
            $("#mainContent .sponsoredTrial").empty().append($("#sponsoredTrialRegisterTmpl").tmpl({
                logo: c
            }));
            $("#startNowBtn").click(function() {
                b.data.Q = "startTrial";
                b.data.Ii(b)
            });
            $("#goBackBtn").click(function() {
                b.data.Q = !1;
                b.data.sf()
            });
            $(".redeem_field").click(b.data.yg);
            return !1
        },
        iz: function(b) {
            var c = $("#sponsoredTrial img")[0];
            $("#mainContent .sponsoredTrial").empty().append($("#sponsoredTrialRegisterTmpl").tmpl({
                logo: c
            }));
            $(".redeem_field").click(b.data.yg);
            $("#startNowBtn").click(function() {
                b.data.Q = "logout";
                b.data.Ii(b)
            });
            $("#goBackBtn").click(function() {
                b.data.Q = !1;
                b.data.sf()
            });
            return !1
        },
        Vp: function(b) {
            var c = $("#sponsoredTrial img")[0];
            $("#mainContent .sponsoredTrial").empty().append($("#sponsoredTrialLoginTmpl").tmpl({
                logo: c
            }));
            $("#startNowBtn").bind("click", b.data, b.data.kQ);
            $("#goBackBtn").click(function() {
                b.data.sf()
            });
            $(".redeem_field").click(b.data.yg);
            return !1
        },
        yg: function(b) {
            (new $(b.target)).parent().siblings(".error").empty()
        },
        debug: function(b) {
            k.debug("SponsoredTrialView : ", arguments)
        }
    });
    function pB() {}
    pB = Backbone.View.extend({
        initialize: function() {
            this.referrer = this.options.referrer;
            this.Bd = this.options.cancelHash;
            this.S = this.options.isBusiness;
            z.c(lk, r(this, this.lI));
            z.c(nk, r(this, this.ZI));
            z.c(Vh, r(this, this.Wi));
            z.c(Uh, r(this, this.Wi));
            z.c(Sg, r(this, this.Gb))
        },
        el: $("#mainContent .paymentConfirm"),
        render: function() {
            this.dg = mp("token");
            this.cs = mp("PayerID");
            me(this.dg) || me(this.cs) ? setTimeout(function() {
                V(this.Bd, !1, !1)
            }, 100) : z.b(mk, [this.dg])
        },
        ZI: function(b) {
            var c = b.tax
              , d = b.amount
              , e = b.paypalEmail
              , h = b.description
              , l = b.currencyCode;
            me(d) || me(c) || me(l) || me(e) || me(h) ? this.Wi() : Xo() ? (h = this.iH(b),
            b = {},
            b.email = e,
            b.p2p = "99" == d,
            b.isBusiness = this.S,
            b.tax = my(c),
            b.amount = my(d),
            b.duration = h.duration,
            b.summary_duration = h.At,
            b.summary_period = h.gs,
            b.payment_total = my((parseInt(c, 10) + parseInt(d, 10)).toString()),
            c = this.model.get("currentUser"),
            b.username = c.Ka,
            $(this.el).empty().append($("#paypalConfirmTmpl").tmpl(b)).show(),
            null == c || c.p() ? ($(".upgrade_now", this.el).hide(),
            $(".duration_container", this.el).hide()) : $(".start_now", this.el).hide(),
            $("#buttons", this.el).show()) : (this.vA(),
            z.b(kk, [this.dg, this.cs, gp(), this.S]))
        },
        iH: function(b) {
            var c = {};
            b = b.description;
            return c = -1 !== b.indexOf("Monthly payment") ? {
                gs: "Monthly",
                duration: "month",
                At: "Monthly Subscription"
            } : -1 !== b.indexOf("Annual payment") ? {
                gs: "Annual",
                duration: "year",
                At: "Annual Subscription"
            } : {
                gs: "",
                duration: "",
                At: "Price"
            }
        },
        lI: function(b) {
            this.ar();
            var c = b.listenerState;
            b = null ;
            if ("PAY_TO_PLAY" == c)
                b = new X({
                    message: ld()
                });
            else if ("SUBSCRIBER" == c) {
                if (b = new X({
                    message: jd()
                }),
                z.b(ng),
                c = this.model.get("currentUser"))
                    c = vl.encrypt(c.s),
                    c = "https://4177752.fls.doubleclick.net/activityi;src=4177752;type=purch024;cat=purch865;qty=1;;ord=;cost=" + $.trim($("#period_amount", this.el).text()) + ";u1=" + c,
                    Fp(c, function() {}, function() {})
            } else if ("BUSINESS" == c) {
                b = new X({
                    message: kd()
                });
                z.b(og);
                setTimeout(function() {
                    R(hv)
                }, 0);
                return
            }
            b && b.render();
            R(Iu)
        },
        Wi: function(b) {
            this.ar();
            var c;
            switch (b.code) {
            case "PAYPAL_PAYMENT_DECLINED":
                c = kc();
                break;
            default:
                c = jc()
            }
            "PAYPAL_PAYMENT_ALREADY_PAID" != b.code && (new X({
                message: c
            })).render();
            R(ev)
        },
        Gb: function() {
            this.ar()
        },
        vA: function() {
            this.T || ($(window).scrollTop(0),
            this.T = new eB({
                model: this.model,
                message: id()
            }),
            $("#main").append(this.T.render().el))
        },
        ar: function() {
            this.T && (this.T.trigger("close"),
            this.T = null )
        },
        events: {
            "click #paypal_buy": "paypalCompletePurchase",
            "click #paypal_cancel": "paypalCancelPurchase",
            "click #paypal_agree": "clearErrors"
        },
        paypalCompletePurchase: function() {
            if (1 == $("input[name='paypal_agree']", this.el).length && 1 == $("input[name='paypal_agree']:checked", this.el).length != !0) {
                $(".agreeFieldError", this.el).text(bd()).fadeIn();
                var b = bd()
            }
            null == b ? (this.vA(),
            z.b(kk, [this.dg, this.cs, gp(), this.S])) : (new X({
                message: b
            })).render();
            return !1
        },
        paypalCancelPurchase: function() {
            V("/payment", !0, !0);
            return !1
        },
        clearErrors: function(b) {
            $(b.target).siblings(".paymentFieldError").empty()
        }
    });
    function qB() {}
    qB = Backbone.View.extend({
        gg: null ,
        ZB: "payment_landing",
        XB: "pandora_one",
        YB: "pandora_one_thankyou",
        su: "sign_up",
        $B: "sign_in",
        WB: "home",
        initialize: function() {
            z.c(pg, r(this, this.uO));
            z.c(mg, r(this, this.xO));
            z.c(ng, r(this, this.yO));
            z.c(Dg, r(this, this.wO));
            z.c(He, r(this, this.Rf));
            z.c(Ie, r(this, this.Rf));
            S(ow, r(this, this.IN));
            S(pw, r(this, this.JM));
            S(qw, r(this, this.bN));
            S(Nv, r(this, this.fM));
            S(qx, r(this, this.Am));
            S(kv, r(this, this.DM));
            S(rw, r(this, this.cN));
            S(tw, r(this, this.qN));
            z.c(pg, r(this, this.zh));
            z.c(mg, r(this, this.zh));
            z.c(ng, r(this, this.zh));
            S(ow, r(this, this.zh));
            S(kv, r(this, this.zh));
            S(qx, r(this, this.zh))
        },
        zh: function() {
            var b = this.model.get("currentUser");
            null != b && (b = b.yL) && ((new Image).src = "//beacon.krxd.net/usermatch.gif?partner=pandora&partner_uid=" + b,
            (new Image).src = "//cm.g.doubleclick.net/pixel?google_nid=pandora6316&google_hm=" + b)
        },
        uO: function() {
            $(this.el).append(rB("existing", sB(this)));
            $(this.el).append(tB("existing", sB(this)));
            $(this.el).append(uB("existing", sB(this)));
            $(this.el).append("<iframe id='sem-conversion' src='/static/counters/existingListenerConversion.html' style='border:none;height:0;width:0;'></iframe>");
            vB(this, this.$B)
        },
        xO: function(b) {
            $(this.el).append(rB("new", sB(this)));
            $(this.el).append(tB("new", sB(this)));
            $(this.el).append(uB("new", sB(this)));
            $(this.el).append("<iframe id='sem-conversion' src='/static/counters/registrationConversion.html' style='border:none;height:0;width:0;'></iframe>");
            vB(this, this.su);
            b.Sa && (this.rO(),
            this.vO())
        },
        rO: function() {
            $(this.el).append('<script src="https://secure.adnxs.com/px?id=711103&t=1" type="text/javascript">\x3c/script>')
        },
        vO: function() {
            $(this.el).append("<iframe id='marin-tracking' src='/static/counters/marinSEM.html' style='border:none;height:0;width:0;'></iframe>")
        },
        ys: function() {
            $(this.el).append("<iframe id='sem-conversion' src='/static/counters/googleSEM.html' style='border:none;height:0;width:0;'></iframe>")
        },
        zO: function() {
            $(this.el).append("<iframe id='survey-tracking' src='/static/counters/surveySEM.html' style='border:none;height:0;width:0;'></iframe>")
        },
        yO: function() {
            $(this.el).append(uB("subscribe", sB(this)));
            this.ys();
            vB(this, this.YB)
        },
        wO: function() {
            $(this.el).append(uB("trial_start", sB(this)))
        },
        Rf: function(b) {
            this.gg = b
        },
        Tm: function(b) {
            $(this.el).append(b == qB.fu || b == qB.hu || b == qB.gu || b == qB.tk ? b == qB.tk ? wB(this) : xB(yB(b)) : "")
        },
        DM: function() {
            this.ys();
            vB(this, this.ZB)
        },
        qN: function() {
            this.zO()
        },
        Am: function() {
            this.ys();
            vB(this, this.XB)
        },
        cN: function() {
            vB(this, this.su)
        },
        IN: function() {
            this.gg && this.gg.p() && this.Tm(qB.fu);
            vB(this, this.WB)
        },
        JM: function() {
            this.gg && !Xn(this.gg) && this.Tm(qB.hu)
        },
        bN: function() {
            this.Tm(qB.gu)
        },
        fM: function() {
            this.gg && Xn(this.gg) && this.Tm(qB.tk)
        }
    });
    qB.fu = "anon";
    qB.hu = "unreg";
    qB.gu = "signed_out";
    qB.tk = "active";
    function rB(b, c) {
        return xB("https://4177752.fls.doubleclick.net/activityi;src=4177752;type=" + ("existing" == b ? "exist425" : "sign-244") + ";cat=" + ("existing" == b ? "exist769" : "sign-094") + ";u1=" + c + ";ord=" + c)
    }
    function tB(b, c) {
        return "existing" == b ? xB("https://sact.atdmt.com/action/PandoraReEngage/v3/ato." + c) : xB("https://sact.atdmt.com/action/PandoraSignUp/v3/ato." + c)
    }
    function uB(b, c) {
        var d = "http://1204.xg4ken.com/media/redir.php?track=1&token=1d097f49-7c07-4166-9aa3-ce55c88dedc9&val=0.0&orderId=&valueCurrency=USD&GCID=&kw=&product=&promoCode=" + c + "&type=";
        "new" == b ? d += "newusersignup" : "existing" == b ? d += "reengagement" : "subscribe" == b ? d += "Sale" : "trial_start" == b && (d += "trial");
        return "<img height='1' width='1' style='display:none' src='" + d + "'></img>"
    }
    function sB(b) {
        b = b.model.get("currentUser");
        return null == b ? "" : vl.encrypt(b.s)
    }
    function xB(b) {
        return "<iframe height='1' width='1' frameborder='0' style='display:none' src='" + b + "'></iframe>"
    }
    function yB(b) {
        return "/static/counters/retarget-" + b + ".html"
    }
    function zB(b, c) {
        b += "?";
        for (var d in c)
            b += d + "=" + c[d] + "&";
        return b.slice(0, -1)
    }
    function wB(b) {
        var c = b.model.get("currentUser").u;
        b = sB(b);
        c = zB(yB(qB.tk), {
            listener_state: c,
            encrypted_listener_id: b
        });
        return xB(c)
    }
    function vB(b, c) {
        var d = b.model.get("currentUser")
          , d = {
            encrypted_listener_id: sB(b),
            page_name: c,
            listener_state: d.u
        };
        $(b.el).append(xB(zB("/static/counters/atlasTracking.html", d)))
    }
    ;function AB() {}
    AB = Backbone.View.extend({
        Ju: 1E3,
        Ob: 500,
        mB: -1 * Math.PI / 180,
        Vw: null ,
        Hi: null ,
        gp: null ,
        cx: null ,
        xz: 0,
        ow: null ,
        ll: null ,
        vy: !1,
        Af: null ,
        pk: !1,
        initialize: function() {
            $("#sponsoredListeningStatus").slideUp();
            (this.pk = Ae()) || $("#slTimer").html('<svg style="height: 100%; width: 100%"><circle cx="10" cy="10" r="8" fill-opacity="0.0"" stroke="#ffffff" stroke-width="2"/><path id="slTimerDrain" fill="#ffffff" transform="translate(10, 10)"/></svg>')
        },
        el: $("#sponsoredListeningStatus").get(0),
        events: {
            "click #slButton": "sponsorButtonClick"
        },
        tt: function(b, c, d, e, h, l, p, q) {
            this.gp = b;
            this.Vw = c;
            this.Hi = d;
            this.cx = l;
            this.ow = e ? e : "More";
            this.ll = h;
            this.vy = q;
            this.xz = p;
            null != this.Af && (clearTimeout(this.Af),
            this.Af = null );
            $("#sponsoredListeningStatus").is(":visible") ? this.wy(r(this, this.Tw)) : (this.Tw(),
            $("#sponsoredListeningStatus").slideDown(this.Ju, r(this, function() {
                this.rx(0)
            })))
        },
        BF: function() {
            this.Af && clearTimeout(this.Af);
            var b = this.Ob + this.Ob + 1E4;
            this.Af = setTimeout(r(this, function() {
                $("#sponsoredListeningStatus").slideUp(this.Ju);
                this.Af = null
            }), b);
            $("#slText").is(":visible") && this.wy(r(this, function() {
                $("#slText").html(this.cx);
                $("#slText").fadeIn(this.Ob)
            }))
        },
        rx: function(b) {
            this.pk || (b += 0.015,
            b >= this.xz || (this.Rt(b),
            setTimeout(r(this, function() {
                this.rx(b)
            }), 30)))
        },
        tz: function(b) {
            return 10 > b ? "0" + b : b
        },
        cR: function(b, c) {
            if (this.pk) {
                var d = Math.floor((b + 60) / 3600)
                  , e = Math.floor((b + 60) % 3600 / 60);
                $("#slTimerNumerical").text(this.tz(d) + ":" + this.tz(e))
            } else
                this.Rt(b / c)
        },
        Rt: function(b) {
            b *= 360;
            var c = b * this.mB;
            b = "M 0 0 v -8 A 8 8 1 " + (180 < b ? 1 : 0) + " 0 " + 8 * Math.sin(c) + " " + -8 * Math.cos(c) + " z";
            $("#slTimerDrain").attr("d", b);
            $("#slTimerDrain").hide().show(0)
        },
        qA: function() {
            this.gp ? this.jy(this.Vw + " <strong>" + this.gp + "</strong>") : this.Vq()
        },
        Vq: function() {
            this.jy(this.Hi)
        },
        jy: function(b) {
            var c = $("#slText")
              , d = r(this, function() {
                c.html(b);
                c.fadeIn(this.Ob)
            });
            c.is(":visible") ? c.fadeOut(this.Ob, d) : d()
        },
        Tw: function() {
            this.vy ? this.Vq() : this.qA();
            this.ll ? ($("#slButton").text(this.ow),
            $("#slButton").fadeIn(this.Ob)) : $("#slButton").fadeOut(this.Ob);
            this.pk ? ($("#slTimerSvg").hide(),
            $("#slTimerNumerical").show()) : ($("#slTimerNumerical").hide(),
            this.Rt(0),
            $("#slTimer").fadeIn(this.Ob))
        },
        wy: function(b) {
            $("#slButton").fadeOut(this.Ob);
            $("#slTimer").fadeOut(this.Ob);
            $("#slTimerNumerical").fadeOut(this.Ob);
            $("#slText").fadeOut(this.Ob, b)
        },
        sponsorButtonClick: function() {
            this.ll && window.open(this.ll);
            var b = this.model.get("currentVxReward");
            b && s("value_exchange", {
                action: "vx_status_bar_cta_clicked",
                line_id: b.Yh,
                creative_id: b.Hc,
                offer_name: b.Mk,
                truex_instance_id: b.So,
                vendor_id: u,
                device_id: we
            }, this.model.get("currentUser"))
        }
    });
    function BB() {}
    BB = Backbone.View.extend({
        initialize: function() {
            this.Wb = !1;
            this.A = "MONTHLY";
            this.bb = {};
            S(Ov, r(this, this.ZJ));
            S(ox, r(this, this.dh));
            z.c(If, r(this, this.Md));
            z.c(rk, r(this, this.fK));
            z.c(pk, r(this, this.K));
            S(ox, r(this, this.dh));
            z.c(Xh, r(this, this.$x));
            z.c(Wh, r(this, this.EI));
            z.c(Sg, r(this, this.Gb))
        },
        el: $("#mainContent .payment"),
        ZJ: function() {
            var b = this.model.get("currentUser");
            null != b && b.rh ? z.b(zj, "PaymentBackedTrial") : setTimeout(function() {
                V("/one", !1, !1)
            }, 100)
        },
        Md: function(b) {
            if ("/one/trial/start" == ez()) {
                s("pbwt_payment_page_hit", {
                    vendor_id: u
                }, this.model.get("currentUser"));
                b = b.cdata;
                for (var c = this.model.get("currentUser"), d = {
                    years: [],
                    months: []
                }, e = (new Date).getFullYear(), h = 0; 12 > h; h++)
                    d.years.push(e + h),
                    9 > h ? d.months.push("0" + (h + 1)) : d.months.push(h + 1);
                null == b ? (d.zipcode = "",
                wx(ip(), c.Eb()) ? d.zipcode = c.Eb() : d.zipcode = "") : (d.customerName = b.customerName,
                d.zipcode = b.zipcode,
                d.displayableCardNumber = b.displayableCardNumber,
                d[b.cardCompany.toLowerCase()] = "checked",
                d.expirationMonth = b.expirationMonth,
                d.expirationYear = b.expirationYear);
                d.billingFrequency = this.A;
                d.offerAnnualSub = c.Ce;
                d.trialDuration = c.wz.toString();
                d.monthlyPrice = my(no(c));
                d.annualPrice = my(c.le.toString());
                d.isUserAUNZ = c.Sa;
                d.isV2 = "V2" === c.dk;
                d.showPaypalOrderConfirmScreen = Xo();
                $("#mainContent").children().hide();
                e = $("#PaymentBackedTrialTmpl").tmpl(d);
                b && ($("#delete_card", e).show(),
                $("#delete_card", e).click(r(this, function() {
                    confirm("Are you sure?") && z.b(Zj, null );
                    return !1
                })));
                $(this.el).empty().append(e);
                $(this.el).show();
                c.es && ($("#paypal_form", this.el).hide(),
                $("#paypal_select_container", this.el).hide());
                null != d.zipcode && 0 < d.zipcode.length && this.zipcodeFocus(null )
            }
        },
        fK: function(b) {
            (b = b.redirectUrl) ? window.location.href = b : this.$x()
        },
        $x: function(b) {
            var c = ic();
            b && b.code == m.d.zk() && (c = Qb());
            (new X({
                message: c
            })).render();
            this.K && this.K()
        },
        EI: function(b) {
            var c = Nb();
            b && b.code == m.d.zk() && (c = Qb());
            (new X({
                message: c
            })).render();
            this.K && this.K()
        },
        Gb: function() {
            this.K && this.K()
        },
        ja: function() {
            this.T || ($(window).scrollTop(0),
            this.T = new eB({
                model: this.model,
                message: id()
            }),
            $("#main").append(this.T.render().el))
        },
        K: function() {
            this.T && (this.T.trigger("close"),
            this.T = null )
        },
        pp: function() {
            $(".paymentFieldError", this.el).hide();
            $(".formFieldError", this.el).hide()
        },
        Dg: function() {
            $(".save_btn", this.el).attr("disabled", "disabled")
        },
        events: {
            "click .bill_freq_input": "billingFrequencyClick",
            "click #start_trial_pp": "startTrialPP",
            "click #start_trial_cc": "startTrailCC",
            "click #paypal_select": "paypalSelect",
            "click #credit_select": "creditCardSelect",
            "focus .payment_field_validated": "clearErrors",
            "focusout #zip": "zipcodeFocus",
            "keyup #zip": "zipcodeFocus",
            "blur #zip": "zipcodeFocus",
            "change #zip": "zipcodeFocus",
            "keyup .payment_field input": "inputModified",
            "change .subscription_selection input": "inputModified",
            "change .payment_field select": "inputModified"
        },
        billingFrequencyClick: function(b) {
            this.A = b.target.value
        },
        inputModified: function(b) {
            if (!this.Wb)
                return this.Wb = !0,
                this.enableSubmit(b)
        },
        enableSubmit: function(b) {
            !this.Wb || this.xe() || $(b && b.target).hasClass("zipcode") || $(".pay_now", this.el).removeAttr("disabled");
            return !1
        },
        zipcodeFocus: function() {
            this.fc("ANNUAL", "ANNUAL");
            this.fc("MONTHLY", "MONTHLY");
            return !0
        },
        startTrialPP: function() {
            1 == $("input[name='agreePP']:checked", this.el).length != !0 ? $(".agreePPFieldError", this.el).text(bd()).fadeIn() : ($(window).scrollTop(0),
            this.ja(),
            z.b(qk, [this.A, gp()]));
            return !1
        },
        startTrailCC: function() {
            this.model.get("currentUser");
            var b = $.trim($("input[name='name']", this.el).val())
              , c = $("input[name='cardnumber']", this.el).val()
              , d = Cx(c)
              , e = $("select[name='expirationdate_month'] option:selected", this.el).val()
              , h = $("select[name='expirationdate_year'] option:selected", this.el).val()
              , l = $("input[name='securitycode']", this.el).val()
              , p = $("input[name='zipcode']", this.el).val()
              , q = 1 == $("input[name='agreeCC']:checked", this.el).length
              , t = gp()
              , y = this.se(b, d, p, l, c, e, h);
            !0 != q && ($(".agreeCCFieldError", this.el).text(bd()).fadeIn(),
            y.push(bd()));
            0 == y.length ? (this.ja && this.ja(),
            z.b(ok, [this.A, d, b, c, Number(e), Number(h), l, p, t])) : (new X({
                message: y.join("<br>")
            })).render();
            return !1
        },
        se: function(b, c, d, e, h, l, p) {
            this.pp();
            var q = [];
            if (null == b || 0 == b.length)
                $(".nameFieldError", this.el).text(gd()).fadeIn(),
                q.push(gd());
            wx(ip(), d) || ($(".zipcodeFieldError", this.el).text(jp()).fadeIn(),
            q.push(jp()));
            yx(e) || ($(".securitycodeFieldError", this.el).text(cd()).fadeIn(),
            q.push(cd()));
            zx(h) && Bx(c) || ($(".cardNumberFieldError", this.el).text(ed()).fadeIn(),
            q.push(ed()));
            Dx(l, p) || ($(".expriationFieldError", this.el).text(fd()).fadeIn(),
            q.push(fd()));
            return q
        },
        fc: function(b, c) {
            if (b && b.length) {
                $("#salestax_amount." + c, this.el).html("");
                var d = $("input[name='zipcode']", this.el).val()
                  , e = this.model.get("currentUser");
                if (d && d.length == (e.Sa ? 4 : 5)) {
                    if (c in this.bb)
                        return;
                    this.bb[c] = !0;
                    R(nx, new Yy(d,b,c,!1))
                }
                this.Dg()
            }
        },
        dh: function(b) {
            var c = b.tax
              , d = b.token;
            b = b.amount;
            try {
                c && b && ($("#salestax_amount." + d, this.el).html(my(c)),
                this.Nj[d] = c)
            } catch (e) {} finally {
                delete this.bb[d],
                this.xe() || this.enableSubmit(null )
            }
        },
        xe: function() {
            return this.bb && 0 < Object.keys(this.bb).length
        },
        clearErrors: function(b) {
            $(b.target).siblings(".paymentFieldError").hide();
            $(b.target).siblings(".formFieldError").hide()
        },
        paypalSelect: function() {
            s("payment_paypal_select", {
                vendor_id: u
            }, this.model.get("currentUser"));
            $("#creditcard_form", this.el).hide();
            $("#paypal_form", this.el).show()
        },
        creditCardSelect: function() {
            s("payment_creditcard_select", {
                vendor_id: u
            }, this.model.get("currentUser"));
            $("#paypal_form", this.el).hide();
            $("#creditcard_form", this.el).show()
        }
    });
    function CB() {}
    CB = Backbone.View.extend({
        initialize: function() {
            S(fv, r(this, this.eJ));
            S(gv, r(this, this.UJ));
            z.c(Of, r(this, this.qJ));
            z.c(Ch, r(this, this.xI));
            z.c(Sg, r(this, this.Gb))
        },
        el: $("#mainContent .businessMigration"),
        events: {
            "click #p1_business_convert": "businessConvertClick",
            "click #business_convert_agree": "businessConvertAgreeChanged",
            "focus .payment_field_validated input": "clearErrors"
        },
        render: function() {
            var b = this.model.get("currentUser")
              , b = {
                mode: "business",
                businessMonthlyPrice: my(b.kl.toString()),
                businessAnnualPrice: my(b.jl.toString()),
                billingFrequency: b.Ya()
            };
            $(this.el).empty();
            $(this.el).append($("#BusinessMigrationTmpl").tmpl(b)).show();
            s("business_migration_page_hit", {
                vendor_id: u
            }, this.model.get("currentUser"));
            return this
        },
        eJ: function() {
            V("/business/join", !0, !0)
        },
        UJ: function() {
            var b = this.model.get("currentUser");
            !b || "/business/join" != ez() || b.u != m.v.td() || b.Sa ? setTimeout(function() {
                R(Iu)
            }, 50) : b.Pq ? this.render() : this.Qx()
        },
        Qx: function() {
            (new X({
                message: pd()
            })).render();
            setTimeout(function() {
                R(mv, {
                    showBusinessInfoForm: !0,
                    ignoreBusinessInfoCheck: !0
                })
            }, 0)
        },
        Gb: function() {
            this.K()
        },
        xI: function(b) {
            this.K();
            var c = md();
            b && (b.code == m.d.wu() ? c = nd() : b.code == m.d.aC() ? c = od() : b.code == m.d.Se() ? c = ia() : b.code == m.d.uB() && (c = pd(),
            this.Qx()));
            (new X({
                message: c
            })).render()
        },
        qJ: function() {
            this.K();
            setTimeout(function() {
                R(hv, {
                    isMigration: !0
                })
            }, 10)
        },
        businessConvertAgreeChanged: function() {
            this.clearErrors();
            $("input#business_convert_agree", this.el).is(":checked") ? $(".p1_submit", this.el).removeAttr("disabled") : $(".p1_submit", this.el).attr("disabled", "disabled")
        },
        businessConvertClick: function(b) {
            if ($(b && b.target).hasClass("disabled") || !this.model.get("currentUser"))
                return !1;
            var c = $.trim($("input[name=bill_freq_input]:checked", this.el).val());
            b = $("input#business_convert_agree", this.el).is(":checked");
            b = this.se(c, b);
            if (0 != b.length)
                return (new X({
                    message: b.join("<br>")
                })).render(),
                !1;
            s("business_migration_page_click", {
                vendor_id: u
            }, this.model.get("currentUser"));
            b = new tA;
            b.bind("submit", r(this, function(b) {
                this.ja();
                z.b(Ej, [c, b])
            }));
            b.bind("cancel", r(this, function() {
                (new X({
                    message: eb.u3()
                })).render()
            }));
            b.render();
            return !1
        },
        clearErrors: function(b) {
            b = b ? b.target : this.el;
            $(b).siblings(".paymentFieldError").hide();
            $(b).siblings(".formFieldError").hide()
        },
        se: function(b, c) {
            this.clearErrors();
            var d = [];
            Ax(b) || ($(".billingFieldError", this.el).text(dd()).fadeIn(),
            d.push(dd()));
            !0 != c && ($(".agreeFieldError", this.el).text(bd()).fadeIn(),
            d.push(bd()));
            return d
        },
        ja: function() {
            this.T || ($(window).scrollTop(0),
            this.T = new eB({
                model: this.model,
                message: id()
            }),
            $("#main").append(this.T.render().el))
        },
        K: function() {
            this.T && (this.T.trigger("close"),
            this.T = null )
        }
    });
    function DB() {}
    DB = Backbone.View.extend({
        initialize: function() {
            S(hv, r(this, this.cJ));
            S(iv, r(this, this.SJ))
        },
        el: $("#mainContent .businessConfirmation"),
        events: {
            "click #submit_business_info": "handleStartListeningClick"
        },
        render: function() {
            var b = this.model.get("currentUser")
              , c = {
                showReceiptLink: !this.qL
            };
            $(this.el).empty();
            $(this.el).append($("#BusinessConfirmationTmpl").tmpl(c)).show();
            s("business_confirmation_page_hit", {
                vendor_id: u
            }, b);
            return this
        },
        cJ: function(b) {
            this.qL = b && b.isMigration;
            V("/business/welcome", !0, !1, !1)
        },
        SJ: function() {
            this.model.get("currentUser").S() ? this.render() : setTimeout(function() {
                R(Iu)
            }, 50)
        },
        handleStartListeningClick: function() {
            z.b(ei);
            setTimeout(function() {
                R(Iu)
            }, 10)
        }
    });
    function EB() {}
    EB = Backbone.View.extend({
        initialize: function() {
            z.c(Nf, r(this, this.AK));
            z.c(Bh, r(this, this.HI));
            z.c(Sg, r(this, this.K));
            S(mv, r(this, this.dJ));
            S(nv, r(this, this.TJ));
            mz("/business");
            this.source = null
        },
        el: $("#mainContent .p4bInfo"),
        dJ: function(b) {
            this.source = b && b.source ? b.source : "unknown";
            this.yP = b && !!b.showBusinessInfoForm;
            this.RK = b && !!b.ignoreBusinessInfoCheck;
            V("/business", !0, !0, !0)
        },
        TJ: function() {
            var b = this.source || "url"
              , c = this.model.get("currentUser");
            c && c.Xb ? (s("business_learnmore_page_hit", {
                vendor_id: u,
                source: b
            }, this.model.get("currentUser")),
            this.render(),
            this.source = null ) : (ve.set({
                postLoginPath: "/business"
            }),
            setTimeout(function() {
                R(Iu)
            }, 0))
        },
        render: function() {
            R(rx);
            var b = this.model.get("currentUser")
              , b = {
                isUserAUNZ: b.Sa,
                monthlyPrice: my(b.kl.toString()),
                annualPrice: my(b.jl.toString())
            };
            $("#mainContent").children().hide();
            $(".contentnav").css("border-bottom", "none");
            $(this.el).empty().append($("#pandoraForBusinessTmpl").tmpl(b)).show();
            this.yP && this.p4bUpgradeClick();
            return this
        },
        events: {
            "click #p4b_upgrade": "p4bUpgradeClick",
            "click #p4b_next": "p4bNextClick",
            "click #p4b_cancel_link": "p4bCancelLinkClick"
        },
        p4bUpgradeClick: function() {
            var b = this.model.get("currentUser");
            !b || b.p() ? R(Av, {
                onSuccessCallback: r(this, this.p4bUpgradeClick)
            }) : !this.RK && b.Pq ? this.Rx() : ($("#p4b_landing_page #p4b_upgrade").hide(),
            $("#p4b_information").slideDown(500),
            $("#p4b_information").get(0).scrollIntoView(),
            s("business_learnmore_page_click", {
                vendor_id: u,
                action: "switch_now"
            }, this.model.get("currentUser")))
        },
        p4bNextClick: function() {
            var b = $.trim($("input[name='company_name']", this.el).val())
              , c = $("select[name='industry'] option:selected", this.el).val()
              , d = $.trim($("textarea[name='address']", this.el).val())
              , e = $("select[name='state'] option:selected", this.el).val()
              , h = $.trim($("input[name='business_zip']", this.el).val());
            b && c && d && e && h ? (this.zA = !0,
            this.ja(),
            z.b(Dj, [b, c, d, e, h]),
            s("business_learnmore_page_click", {
                vendor_id: u,
                action: "next"
            }, this.model.get("currentUser"))) : (b = $("#p4b_information_errors"),
            b.show(),
            b.stop().css({
                backgroundColor: "red",
                color: "white"
            }).animate({
                backgroundColor: "white",
                color: "red"
            }, 800),
            s("business_learnmore_page_click", {
                vendor_id: u,
                action: "validation_error"
            }, this.model.get("currentUser")))
        },
        p4bCancelLinkClick: function() {
            setTimeout(function() {
                R(Iu)
            }, 0)
        },
        AK: function() {
            this.zA && (this.zA = !1,
            this.K(),
            this.Rx())
        },
        Rx: function() {
            R(jv, {
                cancelCallback: function() {
                    R(mv)
                }
            })
        },
        HI: function(b) {
            this.K();
            (new X({
                message: b.hg
            })).render()
        },
        ja: function() {
            this.T || ($(window).scrollTop(0),
            this.T = new eB({
                model: this.model,
                message: id()
            }),
            $("#main").append(this.T.render().el))
        },
        K: function() {
            this.T && (this.T.trigger("close"),
            this.T = null )
        }
    });
    var Z;
    (function(b) {
        var c = {
            skip: "tunervideo",
            "return": "tunervideo",
            station: "tuner",
            shuffle: "tuner"
        }
          , d = up.SLOT_SIZE_AUTOPLAY_VIDEO
          , e = up.SLOT_SIZE_USER_INITIATED_VIDEO;
        Z = function(b) {
            this.model = b;
            this.ke = new Backbone.Model({
                creativeId: "",
                lineId: ""
            });
            this.ta = new Y({
                model: this.model,
                adIdentifier: this.ke
            });
            this.Nk = _.bind(this.Nk, this);
            this.ta.bind(Y.ng.VIDEO_EVENT, this.Nk);
            this.Lk = _.bind(this.Lk, this);
            this.ta.bind(Y.ng.LOG_TIME_TO_PLAYER, this.Lk);
            this.KL = "VideoAdController : ";
            this.lz();
            this.startTime = Ed();
            this.rm = this.oj = this.Ae = this.vc = 0;
            this.Fi = this.Mf = !1;
            this.Tk = 1;
            Z.vp = null ;
            Z.$j = 0;
            Z.dx = 0;
            Z.ZN = "ooyala";
            Z.$N = "standard";
            Z.jv = up.AUDIO_AD_SIZE;
            z.c(Zf, r(this, function() {
                this.rm = Ed()
            }));
            z.c(Ee, r(this, this.lz));
            z.c(He, r(this, this.Rf));
            z.c(Jk, r(this, this.sR));
            z.c(Ve, r(this, this.rR));
            z.c(Uk, r(this, this.iB));
            z.c(Vk, r(this, this.iB));
            z.c(Wk, r(this, this.gf));
            z.c(Xk, r(this, this.QD));
            z.c(Vk, Z.Lo);
            z.c(Tk, Z.CN);
            z.c(al, r(this, this.yM));
            z.c(bl, r(this, this.HM));
            z.c(cl, r(this, this.EM));
            z.c($k, r(this, this.nM));
            z.c(Zk, r(this, this.LD));
            this.Jk() && z.c(Zk, r(this, this.ND))
        }
        ;
        Z.prototype.destroy = function() {
            this.ta.unbind(Y.ng.VIDEO_EVENT, this.Nk);
            this.ta.unbind(Y.ng.LOG_TIME_TO_PLAYER, this.Lk);
            this.Yl && (clearTimeout(this.Yl),
            this.Yl = null );
            z.pa(this)
        }
        ;
        Z.prototype.ND = function(b) {
            b.size ? Z.jv = b.size : k.debug("Ignoring Audio Ad Size Change to value: " + b.size)
        }
        ;
        Z.prototype.Lk = function() {
            if (!(0 >= Z.$j)) {
                if (11 == this.model.get("currentUser").s % 100) {
                    Z.dx = Fd();
                    var b = Z.dx - Z.$j;
                    Z.$j = 0;
                    var c = ""
                      , c = this.ta.dB ? Z.ZN : Z.$N;
                    s("time_to_player_web", {
                        ua: navigator.userAgent,
                        site_version: window._pandoraVersion,
                        browser: se(),
                        player_type: c,
                        time_to_player_msec: b
                    })
                }
                Z.$j = 0
            }
        }
        ;
        Z.prototype.pq = function(b) {
            return c[b] || "tuner"
        }
        ;
        Z.prototype.uL = function() {
            return null != $o() || "true" === cp() || "true" === A._data.videoAdTestMode
        }
        ;
        Z.prototype.lz = function() {
            this.debug("AppInit event - reinitializing config variables");
            this.enabled = !0 == A._data.apvEnabled;
            this.uL() ? (this.yu = 6,
            this.Ru = this.Ou = 10,
            this.Qu = 2) : (this.yu = No(A._data.timeToStartVideoAds, 180),
            this.Qu = No(A._data.timeBetweenDisplayAndVideoAd, 5),
            this.Ou = No(A._data.timeBetweenAudioAndVideoAd, 60),
            this.Ru = No(A._data.timeBetweenVideoAds, 900));
            this.CC = 120
        }
        ;
        Z.prototype.Rf = function() {
            this.debug("USER-CHANGE event - reinitializing time & indexes");
            this.startTime = Ed();
            this.rm = this.oj = this.Ae = this.vc = 0;
            this.Tk = 1
        }
        ;
        Z.prototype.debug = function(b) {
            k.debug(this.KL + Ed() + " : ", arguments)
        }
        ;
        Z.prototype.sR = function() {
            this.oj = Ed()
        }
        ;
        Z.prototype.iB = function(b) {
            b && !1 === b.eb() && (this.vc = Ed())
        }
        ;
        Z.prototype.rR = function(b) {
            b instanceof zo && (this.Ae = Ed())
        }
        ;
        Z.prototype.J = function(b, c) {
            var d = this.model.get("currentUser")
              , e = this.model.get("currentStation");
            if (d) {
                var t = this.model.get("hasStations")
                  , y = c ? !0 : jy()
                  , E = !d.p()
                  , e = e && C.za(e);
                return d.J() && t && y && E && !e
            }
            return !1
        }
        ;
        Z.prototype.ss = function() {
            var b = Ed()
              , c = !1;
            this.enabled && !this.Fi && b - this.rm > this.CC && b - this.startTime > this.yu && b - this.Ae > this.Ou && b - this.vc > this.Ru && b - this.oj > this.Qu && (c = !0);
            this.debug("Ready for Video ad? : enabled : " + this.enabled + " : disabled for current station : " + this.Fi + " : now : " + b + " : since start : " + (b - this.startTime) + " : since sv : " + (b - this.rm) + " : since lv : " + (b - this.vc) + " : since la : " + (b - this.Ae) + " : since ld : " + (b - this.oj) + " : ready : " + c);
            return c
        }
        ;
        Z.prototype.EA = function() {
            var b = this.model.get("currentStation")
              , b = null !== b && !C.za(b)
              , c = this.model.get("currentUser")
              , c = null !== c && !c.p();
            return b && c
        }
        ;
        Z.prototype.rD = function(b, c) {
            if (!this.Jk())
                return !1;
            if ("move" === b)
                this.qg("move", !1, c);
            else if ("thumbsdown" === b)
                this.qg("thumbsdown", !1, c);
            else if ("tired" === b)
                this.qg("tired", !1, c);
            else
                return !1;
            return !0
        }
        ;
        Z.prototype.QD = function(b) {
            var c = b ? b.interaction : "";
            b = b ? b.currentTrack : null ;
            "skip" === c ? this.qg("skip", !1, b) : "station" === c ? this.OD(b) : "return" === c ? this.qg("return", !0, b) : this.rD(c, b) || z.b(Tk, {})
        }
        ;
        Z.prototype.OD = function(b) {
            this.Fi = !1;
            var c = this.model.get("currentStation")
              , d = null
              , d = c && c.D() ? "shuffle" : "station";
            c && !Bn(c) ? this.qg(d, !1, b) : z.b(Tk, {
                interaction: d
            })
        }
        ;
        Z.prototype.yM = function(b) {
            this.ox(b.key, b.value, !0)
        }
        ;
        Z.prototype.HM = function(b) {
            b.callback && (Z.Wa = b.callback);
            this.ox(b.key, b.value, !1)
        }
        ;
        Z.prototype.EM = function(b) {
            this.YN(b.url, b)
        }
        ;
        Z.prototype.MD = function(b) {
            this.Mf && (this.debug("Got no ad in time ... bailing out"),
            this.Mf = !1,
            this.It = !0,
            z.b(Tk, {
                interaction: b
            }),
            z.b(ei, {
                userInitiated: !1
            }))
        }
        ;
        Z.prototype.mD = function(b, c, e, q, t) {
            C.Vf(B.Ri(), b, c, d, !1, r(this, function(c, l) {
                var I = this.model.get("currentUser");
                I.vP && "" != t && (this.debug("Logging video ad urls into hive table"),
                s("ad_urls_comparing", {
                    server_ad_url: t,
                    client_ad_url: l,
                    ad_type: "video"
                }, I));
                Z.$j = Fd();
                I = this.ps(c, l, b, d);
                e && (I && k.info("Received a video ad while in value exchange. Suppressing the video ad."),
                I = null ,
                this.vc = Ed());
                z.b(Tk, {
                    ad: I,
                    interaction: q
                });
                this.zc(I, q)
            }), r(this, function() {
                this.Fl();
                z.b(Tk, {
                    interaction: q
                })
            }))
        }
        ;
        Z.prototype.lD = function(b, c, e) {
            var q = this;
            c = c.split(":");
            var t = (bp() || "https:" == window.location.protocol ? Ro() : mn()) + "util/dartCreative.jsp?ad=" + c[0] + "&c=" + c[1];
            this.debug("Get test ad : " + t);
            xp(t, function(c) {
                c = q.ps(c, t, b, d);
                z.b(Tk, {
                    ad: c,
                    interaction: e
                });
                q.zc(c, e)
            }, function() {
                q.Fl();
                z.b(Tk, {
                    interaction: e
                })
            })
        }
        ;
        Z.prototype.tD = function(b, c, d) {
            if (!C.Ca() || "return" === b)
                return !1;
            if (!this.enabled || this.Fi)
                return this.debug("video ads are not configured for current station."),
                d(!1),
                !0;
            if (!c || c.Ly())
                return this.debug("There is not music track for the current Chronos flow...not attempting to get ad from service."),
                d(!1),
                !0;
            b = c.r().n;
            var e = c.k.Ro
              , t = this.model.get("stationList").models
              , y = co(this.model.get("currentUser"))
              , y = {
                segment: y.charAt(y.length - 1)
            };
            this.EA() && (y.index = C.Yk);
            C.fg(y, b, t);
            C.Oe(y);
            t = this.pq(null );
            d = _.bind(function(b, c) {
                if (_.isString(c))
                    return b(!1),
                    !0;
                c = c || [];
                var d = _.filter(c, function(b) {
                    return "VIDEO_AD" === b.response.adType
                });
                this.debug("Number of Ads fetched :" + c.length);
                this.debug("Number of Video Ads fetched :" + d.length);
                d.length !== c.length && this.debug("We got mixed types of ads!");
                b(0 < d.length ? d : !1);
                return 0 < d.length
            }, this, d);
            d = ge(d, 8E3, "REQUESTFAILED");
            var E = Z.jv
              , I = E === up.AUDIO_IN_STATION_AD_SIZE;
            k.debug("Sending chronos (video) ad request");
            C.Xz({
                currentStationData: b,
                options: y,
                adToken: "none",
                callback: d,
                forcedAudioAd: Zo() || !1,
                lastDisplayAdTime: this.oj,
                requestType: B.Ri(),
                subZone: t,
                currentSize: E,
                isInStationAd: I,
                currentStationTrack: c,
                currentStationTrackType: e,
                isUserInitiated: !0,
                handlerType: "VIDEO"
            });
            return !0
        }
        ;
        Z.prototype.ZD = function(b, c, d, e) {
            this.Mf ? e(!1) : this.J(!1, c) ? this.tD(b, d, e) || e(this.ss(b)) : e(!1)
        }
        ;
        Z.prototype.oD = function() {
            var b = {};
            this.EA() && (b.index = this.Tk);
            var c = this.model.get("currentStation")
              , d = this.model.get("stationList").models;
            C.fg(b, c, d);
            C.Oe(b);
            b.vx = this.model.get("currentVxReward") ? "1" : "";
            b[B.mg] = !0;
            return b
        }
        ;
        Z.prototype.$D = function() {
            var b = this.model.get("currentVxReward");
            return b && b.Xm()
        }
        ;
        Z.prototype.kD = function(b, c) {
            this.Mf = !0;
            var d = this.pq(b);
            this.debug("Ready to fetch Video Ad for " + b + " : from zone : " + d);
            this.It = !1;
            var e = this.oD()
              , t = this.$D()
              , y = $o();
            !_.isNull(y) && !_.isUndefined(y) && 0 < y.length ? this.lD(d, y, b) : this.mD(d, e, t, b, c);
            this.Yl = _.delay(r(this, this.MD), 1E4, b)
        }
        ;
        Z.prototype.qg = function(b, c, d) {
            z.b(Sk, b);
            this.ZD(b, c, d, _.bind(function(c) {
                var d = "";
                "boolean" !== typeof c || c ? ("undefined" != typeof c && null != c && 0 < c.length && (this.debug("Parsing server generated video ad url from response"),
                "VIDEO_AD" == c[0].response.adType && (c = c[0].response.content,
                null != c && "undefined" != typeof c && (d = c))),
                this.kD(b, d)) : z.b(Tk, {
                    interaction: b
                })
            }, this))
        }
        ;
        Z.prototype.zc = function(b) {
            this.debug("Ready to show the current video ad : " + JSON.stringify(b) + " : tooLate? : " + this.It);
            !this.It && b && (clearTimeout(this.Yl),
            this.ta.render(b))
        }
        ;
        Z.prototype.Fl = function() {
            this.Mf = !1
        }
        ;
        Z.prototype.ps = function(b, c, e, q) {
            var t, y = null ;
            t = null ;
            null !== b ? (t = this.cO(b),
            b = $.trim(b),
            y = new Py(C.Cj(b, e, q)),
            null !== t && 2 == t.length ? (y.Hc = t[1],
            y.Go = t[0],
            this.ke.set({
                lineId: t[0],
                creativeId: t[1]
            })) : this.ke.set({
                lineId: "",
                creativeId: ""
            }),
            c = y.C(),
            this.debug("Got video ad for : subZone - " + e + " : slotSize - " + q + " : type - " + y.C()),
            "VIDEOAD" == c || "HOUSE" == c ? this.debug("Got valid video ad! path = " + Wy(y)) : "ANIMATEDOVERLAY" == c ? this.debug("Got Animated overlay", y) : (t = "Invalid ad type ? " + c + " : for subzone : " + e,
            this.debug(t),
            vp(b, d, t, e, this.model.get("currentUser")),
            y = null )) : (t = "Empty ad for subzone : " + e,
            this.debug(t),
            vp(c, q, t, e, this.model.get("currentUser")));
            this.Fl();
            return y
        }
        ;
        Z.prototype.ox = function(b, c, d) {
            this.debug("Ready to fetch user initiated Video Ad for key : " + b + " : val : " + c);
            if (b && c) {
                this.Mf = !0;
                var q = this.pq(null )
                  , t = {};
                t[B.mg] = !0;
                var y = {};
                y[b] = c;
                b = this.model.get("currentStation");
                c = this.model.get("stationList").models;
                C.fg(t, b, c);
                C.Oe(t);
                var E = this
                  , I = A._data.useTestAds;
                C.DO(q, t, y, e, function(b, c) {
                    !0 === I && (b = "<methodResponse><params><param><value><struct><member><name>type</name><value><string>VIDEOAD</string></value></member><member><name>uif</name><value><string>vasttag</string></value></member><member><name>impression</name><value><string>https://www.pandora.com/impression</string></value></member><member><name>logoimage</name><value><string>/static/ads/video_overlay_logos/http://test.logo.url</string></value></member><member><name>clickthrough_logo</name><value><string><![CDATA[http://www.not/]]\x3e</string></value></member><member><name>clickthrough_videoPlayer</name><value><string><![CDATA[http://www.not/]]\x3e</string></value></member><member><name>image</name><value><string>/radio/static/ads/in_tuner_tile/http://test.tile.url</string></value></member><member><name>dimmed</name><value><string>/radio/static/ads/in_tuner_tile/http://test.tile.url</string></value></member><member><name>clickthrough_songSlide</name><value><string><![CDATA[http://www.not/]]\x3e</string></value></member><member><name>companion</name><value><string>companionValue</string></value></member></struct></value></param></params></methodResponse>");
                    var h = E.ps(b, c, q, e);
                    h.Sj(d);
                    h.Qs(!1);
                    E.zc(h, "userInitiated")
                }, function() {
                    E.Fl()
                })
            }
        }
        ;
        Z.prototype.YN = function(b, c) {
            this.debug("Ready to play movie: " + b + ", skip at: " + c.skipDelaySeconds + ", show scrubber: " + c.showScrubber);
            this.Mf = !0;
            var d = this.model.get("currentStation");
            c.type = "VIDEOAD";
            c.movie = b;
            c.onAdvertiserStation = d && C.za(d);
            d = new Py(c);
            d.Qs(!1);
            d.Sj(!1);
            d.mj = !0;
            c.creativeId && (d.Hc = c.creativeId);
            c.adId && (d.Go = c.adId);
            this.zc(d, "playMovie")
        }
        ;
        Z.prototype.gf = function(c) {
            c && (clearTimeout(Z.vp),
            Z.vp = setTimeout(function() {
                k.info("Pinging Comscore for video ad playback");
                b.COMSCORE && b.COMSCORE.beacon({
                    c1: 1,
                    c2: "6036333",
                    c3: "",
                    c4: "",
                    c5: "09",
                    c6: "",
                    c10: ""
                })
            }, 3E3),
            c.eb() || void 0 != c.mj && !0 == c.mj || (this.Tk++,
            this.model.set({
                currentTrack: c
            })),
            this.Jk() && "HOUSE" == c.C() && (k.info("Chronos - we've got a HOUSE video start event - time to register the impression"),
            c = c.Hc,
            Z.FA && (Z.ig || (Z.ig = 0),
            Z.ig += 1),
            C.Pm(c, 0, 0, !0, function() {
                k.info("Chronos - HOUSE VideoAdImpression registered successfully")
            }, function() {
                k.info("Chronos - ERROR REGISTERING HOUSE VIDEO AD IMPRESSION")
            })))
        }
        ;
        Z.prototype.cO = function(b) {
            var c = /\x3c!-- *([0-9]+) *: *([0-9]+) *--\x3e/.exec(JSON.stringify(b));
            b = null ;
            return c && 3 == c.length && (b = [c[1], c[2]],
            c = b[1],
            "undefined" !== typeof c && "%ecid!" !== c) ? b : null
        }
        ;
        Z.prototype.nM = function() {
            this.Fi = !0
        }
        ;
        Z.Wa = null ;
        Z.CN = function(b) {
            b && b.ad || !Z.Wa || (Z.Wa(),
            Z.Wa = null )
        }
        ;
        Z.Lo = function() {
            clearTimeout(Z.vp);
            Z.Wa && (Z.Wa(),
            Z.Wa = null )
        }
        ;
        Z.DL = function(b, c) {
            z.b(al, {
                key: b,
                value: c,
                isUserInitiated: !0
            })
        }
        ;
        Z.prototype.Jk = function() {
            var b = this.model.get("currentUser");
            return b && b.Qq
        }
        ;
        Z.prototype.Nk = function(b) {
            if (this.Jk())
                switch (b.event_type) {
                case "start":
                    k.info("Chronos - we've got a video start event - time to register the impression");
                    var c = b.creative_id
                      , d = Number(Math.round(b.duration));
                    b = !!b.is_pandora_link;
                    Z.FA && (Z.ig || (Z.ig = 0),
                    Z.ig += 1);
                    C.Pm(c, -1, d, b, function() {
                        k.info("Chronos - VideoAdImpression registered successfully")
                    }, function() {
                        k.info("Chronos - ERROR REGISTERING VIDEO AD IMPRESSION")
                    })
                }
        }
        ;
        Z.prototype.LD = function(b) {
            b.adIdentifiers && b.adIdentifiers.creativeId && b.adIdentifiers.lineId && this.ke.set({
                lineId: b.adIdentifiers.lineId,
                creativeId: b.adIdentifiers.creativeId
            })
        }
        ;
        b.launchVideoAd = Z.DL;
        b.VideoAdController = Z
    })(this);
    function GB(b) {
        this.model = b;
        this.ta = new iA({
            model: this.model
        });
        $.address.bind("change", r(this, this.Pr));
        W("/land", !0, !0, !0, r(this, this.zL));
        S(Gw, r(this, this.YM));
        S(Hw, r(this, this.XM));
        S(Iw, r(this, this.Cm));
        S(Fv, r(this, this.gM));
        S(Yu, r(this, this.TM));
        S(kx, r(this, this.SM));
        S(Jw, r(this, this.pN));
        S(Kw, r(this, this.CM));
        S(Nw, r(this, this.wj));
        S(Mw, r(this, this.wM));
        S(Pw, r(this, this.PM));
        S(Qw, r(this, this.MM));
        S(Rw, r(this, this.NM));
        S(Sw, r(this, this.OM));
        S(Lw, r(this, this.wj));
        S(Ow, r(this, this.wj));
        S(Uw, r(this, this.wj));
        S(Tw, r(this, this.LM));
        S(Vw, r(this, this.$L));
        S(Ww, r(this, this.ZL));
        S(hx, r(this, this.De));
        S(Yw, r(this, this.oN));
        S(Zw, r(this, this.kN));
        S($w, r(this, this.lN));
        S(dx, r(this, this.RM));
        S(ix, r(this, this.mN));
        S(bx, r(this, this.rM));
        S(cx, r(this, this.BM));
        S(Vu, r(this, this.kz));
        S(Wu, r(this, this.kz));
        S(ex, r(this, this.De));
        S(gx, r(this, this.De));
        S(qx, r(this, this.Am));
        S(rx, r(this, this.Am));
        S(Aw, r(this, this.WM));
        S(Bw, r(this, this.PN));
        S(fx, r(this, this.$M));
        S(mw, r(this, this.De));
        S(nw, r(this, this.De));
        S(lx, r(this, this.hN));
        S(Jv, r(this, this.VM));
        S(Kv, r(this, this.UM));
        S(Lv, r(this, this.ZM));
        z.c($i, r(this, this.JN));
        z.c(Zi, r(this, this.tN));
        z.c(gi, r(this, this.vN));
        z.c(ei, r(this, this.wN));
        z.c(ii, r(this, this.sN));
        z.c(ji, r(this, this.rN));
        z.c(ki, r(this, this.lM));
        z.c(li, r(this, this.kM));
        z.c(uj, r(this, this.zM));
        z.c(vj, r(this, this.zN));
        z.c(pi, r(this, this.aN));
        z.c(Pi, r(this, this.FM));
        z.c(Ij, r(this, this.tM));
        z.c(Jj, r(this, this.AN));
        z.c(cf, r(this, this.pz));
        z.c(oh, r(this, this.mz));
        z.c(nh, r(this, this.mz));
        z.c(Je, r(this, this.IM));
        z.c(kj, r(this, this.De));
        z.c(Kj, r(this, this.De));
        z.c(Lj, r(this, this.De));
        z.c(Ie, r(this, this.Rf));
        z.c(Re, r(this, this.iN));
        z.gb(Se, r(this, this.nN));
        z.c(Ee, r(this, this.init));
        z.c(ol, r(this, this.jM));
        this.model.bind("change:modalPanel", r(this, this.nF));
        this.model.bind("change:currentUser", r(this, this.Rf));
        this.model.bind("change:currentStation", r(this, this.jN));
        this.model.bind("change:currentTrack", r(this, this.Bi));
        this.model.bind("change:stationSortOrderAlpha", r(this, this.gN));
        this.model.bind("change:displayingCompanion", r(this, this.kG));
        this.model.bind("change:currentVxReward", r(this, this.HN));
        z.yh(Ve, r(this, this.uN));
        z.c(Vk, r(this, this.Lo));
        z.c(Uk, r(this, this.RD));
        z.c(Wk, r(this, this.gf));
        $("#ad_controls .skipLink").click(r(this, this.pz));
        this.BC = No(A._data.timeBetweenAudioAndDisplayAd, 5);
        this.DC = No(A._data.timeBetweenVideoAndDisplayAd, 5);
        this.Pu = No(A._data.timeBetweenDisplayAds, 5);
        this.vB = "2000x2";
        this.CB = "2000x2,300x250,300x600";
        this.fe = "radio";
        this.kg = "backstage";
        this.Bk = "themedstation";
        this.uk = "createstation";
        this.bu = "addvariety";
        this.Iu = "share";
        this.bo = "trial";
        this.uC = [this.uk, this.Bk, this.bu, this.Iu, this.bo];
        this.HC = "play|share|buy|lyrics|volume|likeUp|likeDown|rateUp|rateDown|pause|skip|playSample";
        this.ho = "/radioAdEmbedGPT.html";
        this.fo = "/radioAdEmbedAsyncGPT.html";
        this.Yu = "/radioAdEmbedVx.html";
        this.Fm = this.te = this.ze = 0;
        this.Hl = Qo();
        this.tl = this.Rd = this.uc = !1;
        this.Tv = null ;
        this.Xa = this.fe;
        this.vc = this.Ae = 0;
        this.Sg = A._data.displayAd;
        HB = null ;
        this.Xt = IB = !1;
        this.ul = this.Fp = 0;
        this.wx = this.Ep = !1;
        this.Mu = "246976901:44334262 215333213:33803897 246976901:44334262 210400547:43579993 246976901:44334262 246983691:44307832 215333213:33803897 246983691:44307832 210400547:43579993 246983691:44307832 246976901:44334262 215333213:33803897 210400547:43579993 215333213:33803897".split(" ");
        JB = this
    }
    var HB, IB, JB, KB, LB;
    f = GB.prototype;
    f.init = function() {
        this.Tv = "2000x2,300x250";
        this.model.get("hasStations") || (this.Hl = !0)
    }
    ;
    f.zc = function(b) {
        var c = this.model.get("currentVxReward");
        c && c.Xm() ? (xp(C.Wg(), function() {}, function() {}),
        C.Bx()) : this.ta.render(b)
    }
    ;
    f.Rf = function() {
        var b = this.model.get("currentUser");
        (this.i = b) && (b.J() || this.ta.hb(!0))
    }
    ;
    f.Xc = function() {
        var b = this.model.get("currentUser");
        return b && b.ve() && !this.wx ? this.fo : this.ho
    }
    ;
    f.Am = function() {
        this.ta.hb(!0, !0)
    }
    ;
    f.nN = function() {
        this.model.get("hasStations") || this.ta.xl()
    }
    ;
    f.jM = function(b) {
        if (!this.Ep) {
            var c = parseInt(b.delaySeconds, 10);
            this.ul = isNaN(c) || c > ap() ? ap() : c;
            this.Fp = Ed();
            this.Ep = !0;
            var c = this.model.get("currentUser")
              , d = null
              , e = null ;
            null != b.currentLineIdCreativeId && (b = b.currentLineIdCreativeId.split(":"),
            2 == b.length && (d = b[0],
            e = b[1]));
            s("delay_ad_refresh", {
                line_id: d,
                creative_id: e,
                delay_duration: this.ul,
                listener_id: c.s,
                vendor_id: u,
                device_id: we,
                accessory_id: null ,
                device_os: se(),
                client_timestamp: (new Date).format("yyyy-mm-dd HH:MM:ss", !0)
            }, c)
        }
    }
    ;
    f.Bi = function() {
        var b = this.model.get("currentTrack");
        this.model.set({
            audioAdPlaying: b && (b instanceof zo || b.Ic || b.vo && !(b instanceof Co))
        });
        b && b instanceof zo && (this.Fm = 1);
        if (b instanceof Hn) {
            var c = b.vf
              , d = b.nl;
            if (!c && !d) {
                var c = "defaultaudiocompanion"
                  , e = this.model.get("currentStation");
                if (e && e.La() || !(b instanceof zo))
                    c = null
            }
            if (c || d)
                d ? -1 == d.indexOf("{{startvastcompanion}}") && (this.model.set({
                    displayingCompanion: !0
                }),
                MB(this, {
                    adContent: d
                }),
                this.zc(this.Xc())) : (this.debug("requesting companion"),
                c = {
                    companion: c
                },
                b instanceof zo && (c.mad = "audio"),
                this.model.set({
                    displayingCompanion: !0
                }),
                NB(this, c),
                OB(this, this.fe),
                this.Vf(c, !0))
        } else
            null != b && (this.model.set({
                displayingCompanion: !1
            }),
            this.Xa == this.fe && this.Rd && OB(this, this.kg))
    }
    ;
    f.WM = function(b) {
        var c = b.companion;
        c && (this.wx = void 0 != b.forceSyncGPT && !0 == b.forceSyncGPT ? !0 : !1,
        this.Vf({
            companion: c
        }, !0),
        b.isCompanionAd && this.model.set({
            displayingCompanion: !0
        }))
    }
    ;
    f.PN = function(b) {
        var c = null
          , d = b.width
          , e = b.height
          , h = b.creativeType
          , l = b.resourceType
          , p = b.url
          , q = b.htmlCode
          , t = b.clickThroughUrl;
        b = b.pandoraContainer;
        if (d && e) {
            var y = this.ta.WN(d, e);
            l ? "HTML" == l ? (b = b.split("{{startvastcompanion}}")[0] + q,
            b = b.replace("{{format}}", y)) : "static" == l ? (b = b.replace("{{startvastcompanion}}", " "),
            b = b.replace("{{format}}", y),
            b = b.replace("{{imageurl}}", p),
            b = b.replace("{{clickthrough}}", t),
            -1 < h.indexOf("swf") || -1 < h.indexOf("flash") ? b = '<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/swfobject/2.2/swfobject.js">\x3c/script>' + b + "<script>swfobject.embedSWF('" + p + "', 'vcPayload'," + d + "," + e + ", '8', null, {'allowscriptaccess': 'always'}, {'wmode': 'opaque'}, {'id':'vastCompanionSWF'});\x3c/script>" : -1 < h.indexOf("jpg") || -1 < h.indexOf("jpeg") || -1 < h.indexOf("png") || -1 < h.indexOf("gif") || (c = "resource type is static, but creativeType isn't flash or static image")) : c = "unrecognized type; must be html / flash / or gif:png:jpg image" : c = "resourceType is required"
        } else
            c = "width and height are required attributes";
        c ? vp("Ooyala VAST Companion", "2000x2", "AdController.parseVastCompanion - " + c, "radio", v.i) : (this.model.set({
            displayingCompanion: !0
        }),
        MB(this, {
            adContent: b
        }),
        this.zc(this.Xc()))
    }
    ;
    f.J = function() {
        var b = this.model.get("currentUser")
          , c = ez();
        return c && c.match("^/(payment|one|business)") ? !1 : b ? (c = (c = this.model.get("modalPanel")) && c != su ? !1 : !0,
        b.J() && c) : !1
    }
    ;
    f.wM = function() {
        this.Rd && (this.uc = !0);
        PB(this, "", !0)
    }
    ;
    f.wj = function(b) {
        this.Rd && (this.uc = !0,
        b && b.target && (b = $(b.target),
        b.attr("href") && !b.attr("target") && (this.uc = !1)));
        PB(this, "", !1)
    }
    ;
    f.gN = function() {
        QB(this, "sort", !1)
    }
    ;
    f.aN = function() {
        this.model.get("currentStationViewIsShuffle") && QB(this, "shuffle", !1)
    }
    ;
    f.CM = function() {
        QB(this, "nowPlaying", !0)
    }
    ;
    f.jN = function() {
        var b = this.model.get("currentStation")
          , c = null
          , d = this.model.get("currentVxReward");
        d && (!this.J() || b && C.za(b) ? this.ta.hm() : d.Xg() ? (this.Xt || (C.hA(d.Xg()),
        this.ta.render(this.Yu),
        this.Xt = !0),
        this.ta.TP()) : this.ta.hm());
        if (this.Zs) {
            this.Zs = !1;
            if (HB) {
                var e = HB;
                HB = null
            }
            OB(this, this.fe);
            d = zn(b);
            if (this.J() && !C.za(b) && d && ("artist" == d.type || "song" == d.type)) {
                b = {
                    csfo: 1
                };
                e && (b.companion = e);
                NB(this, b);
                this.Vf(b, !0);
                this.ze = Ed();
                return
            }
        }
        jy() && OB(this, this.fe);
        this.ze = Ed();
        de(this, function() {
            var b = this.model.get("currentStation");
            C.za(b) ? (PB(this, null , !0),
            this.tl = !1) : this.tl ? this.tl = !1 : this.Xa == this.Bk || this.uc && SB(this, this.kg) || SB(this, this.fe) || (c = b && b.D() ? "shuffle" : "station",
            QB(this, c, !0))
        }, 300)
    }
    ;
    f.$L = function() {
        var b = this.model.get("currentUser");
        null == b || b.p() ? QB(this, "addVariety", !0) : TB(this, "addVariety", this.bu, function(b) {
            return [B.Ac(b, {
                tile: 2,
                sz: "2000x23"
            }), B.Ac(b, {
                tile: 3,
                sz: "155x60"
            })]
        }, {})
    }
    ;
    window.setAddVarietyLogo = function(b, c) {
        $("#addVarietySponsorship a").attr("href", c).html('<img border="0" src="' + b + '">');
        $("#addVarietySponsorship").show()
    }
    ;
    f = GB.prototype;
    f.ZL = function() {
        QB(this, "", !1)
    }
    ;
    f.oN = function() {
        QB(this, "rename", !0)
    }
    ;
    f.kN = function() {
        QB(this, "delete", !0)
    }
    ;
    f.lN = function() {
        2 == this.model.get("stationList").length && QB(this, "", !0)
    }
    ;
    f.FM = function() {
        UB(this, "playSample")
    }
    ;
    f.tM = function() {
        UB(this, "follow")
    }
    ;
    f.AN = function() {
        UB(this, "unfollow")
    }
    ;
    f.IM = function() {
        var b = ez();
        (!b || "/feed" !== b.substring(0, 5) && "/connect" !== b.substring(0, 8)) && UB(this, "profile", !0)
    }
    ;
    f.rM = function() {
        UB(this, "others", !0)
    }
    ;
    f.RM = function() {
        UB(this, "", !0)
    }
    ;
    f.De = function() {
        UB(this, "")
    }
    ;
    f.kz = function() {
        this.Rd && (this.uc = !0);
        UB(this, "")
    }
    ;
    f.mN = function(b) {
        var c = this.model.get("stationList")
          , d = b.e()
          , c = c.detect(function(b) {
            return b.Qi() == d
        });
        if (C.za(c || b))
            this.model.set({
                shareFirstImp: !1
            }),
            UB(this, "stationDetails", !0);
        else if (this.Hl || 0 < this.te)
            SB(this, this.kg) || UB(this, "stationDetails", !0)
    }
    ;
    f.pz = function(b) {
        b instanceof zo || VB(this, "skip");
        return !1
    }
    ;
    f.mz = function() {
        VB(this, "outOfSkips")
    }
    ;
    f.vN = function(b) {
        void 0 != b && !0 != b || VB(this, "pause")
    }
    ;
    f.tN = function() {
        VB(this, "tired")
    }
    ;
    f.JN = function() {
        VB(this, "whyTrack", !0)
    }
    ;
    f.sN = function() {
        VB(this, "rateUp")
    }
    ;
    f.rN = function() {
        VB(this, "rateDown")
    }
    ;
    f.lM = function() {
        VB(this, "rateDown")
    }
    ;
    f.kM = function() {
        VB(this, "rateUp")
    }
    ;
    f.zM = function() {
        VB(this, "likeUp")
    }
    ;
    f.zN = function() {
        VB(this, "likeDown")
    }
    ;
    f.Cm = function() {
        VB(this, "volume")
    }
    ;
    f.YM = function() {
        PB(this, "lyrics", !0)
    }
    ;
    f.XM = function() {
        PB(this, "lyrics", !0)
    }
    ;
    f.gM = function() {
        VB(this, "buy", !0)
    }
    ;
    f.wN = function(b) {
        !0 == (b ? b.userInitiated : !1) && VB(this, "play")
    }
    ;
    f.BM = function() {
        VB(this, "moveTrack", !0)
    }
    ;
    f.LM = function(b) {
        var c = "";
        "station_list" == b && (c = "stationScroll");
        VB(this, c)
    }
    ;
    function VB(b, c, d) {
        setTimeout(r(b, function() {
            PB(this, c, d)
        }), 10)
    }
    f.pN = function() {
        setTimeout(r(this, function() {
            this.ze = 0;
            this.Xa = "radio";
            PB(this, "return", !1)
        }), 500)
    }
    ;
    f.kG = function() {
        this.model.get("displayingCompanion") && (null != this.Td && (this.Xa = this.Td,
        this.Td = null ),
        WB(this))
    }
    ;
    function WB(b) {
        b.debug("hiding sponsorships");
        $("#addVarietySponsorship a").attr("href", "#").empty();
        $("#addVarietySponsorship").hide();
        $("#themeSponsorship a").attr("href", "#").empty();
        $("#themeSponsorship").hide();
        $("#shareSponsorship a").attr("href", "#").empty();
        $("#ShareSponsorship").hide();
        $(".createStationSponsorship a").attr("href", "#").empty();
        $(".createStationSponsorship").hide();
        b.Zs = !1;
        KB = HB = null ;
        $("#sponsoredTrial a").attr("href", "#").empty();
        $("#sponsoredTrial").hide()
    }
    function QB(b, c, d) {
        !b.uc || "station" != c && "shuffle" != c ? OB(b, b.fe) : OB(b, b.kg);
        PB(b, c, d)
    }
    function UB(b, c, d) {
        OB(b, b.kg);
        PB(b, c, d)
    }
    f.iN = function(b) {
        var c = this.model.get("currentStation");
        c && c.e() == b.e() && (SB(this, this.fe) || QB(this, "", !0))
    }
    ;
    f.zL = function(b) {
        (b = b.queryString) && -1 < b.indexOf("shareImp") && this.model.set({
            shareFirstImp: !0
        })
    }
    ;
    f.VM = function() {
        XB(this, "artist")
    }
    ;
    f.UM = function() {
        XB(this, "")
    }
    ;
    f.ZM = function() {
        this.Rd || (this.uc = !0);
        XB(this, "song")
    }
    ;
    function XB(b, c) {
        (0 < b.te || b.Hl) && !SB(b, b.kg) && UB(b, c, !1)
    }
    function SB(b, c) {
        var d = !1;
        b.model.get("shareFirstImp") && YB(b) && (d = {
            shareimp: "1"
        },
        OB(b, c),
        NB(b, d),
        MB(b, d),
        b.zc(b.Xc()),
        b.Hl = !0,
        d = b.tl = !0);
        b.model.set({
            shareFirstImp: !1
        });
        return d
    }
    function YB(b) {
        var c = b.model.get("currentStation");
        return c && C.za(c) ? !1 : (c = b.model.get("currentUser")) && c.p() || b.model.get("displayingCompanion") ? !1 : b.J()
    }
    f.Pr = function(b) {
        b = b.path;
        var c = null
          , d = this.model.get("currentUser");
        d && d.p() && b.match("/account/|/payment") ? this.ta.hb() : 0 == this.te && (b.match("^/music/song") || b.match("^/land/song")) ? this.uc = !0 : (b.match("^/feed|^/connect") ? c = "feed" : b.match("/payment|/go/") && (c = ""),
        null != c && (b.match("/volume/*|/stations/share/|/inactive|/song/(move|sleep)") || (b.match("^/{1}$|/stations/(play|rename|variety|delete)/*") ? OB(this, "radio") : OB(this, "backstage")),
        PB(this, c, !0)))
    }
    ;
    f.nF = function() {
        if ($("#mainContentContainer").is(":visible"))
            return !0;
        this.ta.hb();
        return !1
    }
    ;
    function NB(b, c) {
        var d = b.model.get("currentStation")
          , e = b.model.get("stationList").models;
        C.fg(c, d, e);
        C.Oe(c)
    }
    f.ss = function() {
        var b = Ed()
          , c = !1;
        b - this.Ae > this.BC && b - this.vc > this.DC && b - this.ze > this.Pu && b - this.Fp > this.ul && (c = !0);
        this.debug(+b + " : since last audio ad: " + (b - this.Ae) + " : since last video ad: " + (b - this.vc) + " : since last display ad: " + (b - this.ze) + " : interval : " + this.Pu + " : delay ad refresh timestamp: " + this.Fp + " : delay ad refresh duration: " + this.ul + " : ready?: " + c);
        return c
    }
    ;
    function TB(b, c, d, e, h) {
        b.J() ? b.model.get("displayingCompanion") || C.za(b.model.get("currentStation")) || b.model.get("currentVxReward") || (b.Td = b.Xa,
        OB(b, d),
        ZB(),
        b.te++,
        h.index = b.te,
        h.tile = 1,
        c && "" != c && (h.interaction = c),
        NB(b, h),
        b.debug("Requesting Sponsorship Ad for Interaction: " + c),
        MB(b, h),
        null != e && C.Wg() && C.ZO(e(C.Wg())),
        b.zc(b.Xc())) : b.ta.hb()
    }
    function PB(b, c, d) {
        if (null != b.Tv)
            if (b.J()) {
                if (!(!d && !1 == b.ss() && "skipAd" != c || b.model.get("displayingCompanion") || "pause" == c && window.ignorePauseInteractions))
                    if (ZB(),
                    b.Xa == b.Bk && b.iq)
                        $B(b, c);
                    else if (b.Xa != b.uk && b.Xa != b.bo) {
                        var e = {
                            tile: 1
                        }
                          , h = !0;
                        C.za(b.model.get("currentStation")) && (h = !1);
                        h && (b.te++,
                        e.index = b.te,
                        0 < b.Fm && (e.p1n = b.Fm++));
                        if ((h = ez()) && "/profile" === h.substring(0, 8))
                            (h = b.model.get("currentProfileInfo")) && h.isAdvertiser && (e.webname = h.webName);
                        else if ("stationDetails" === c) {
                            var l = $(".stationCreator a")
                              , h = l.attr("data-advertiser")
                              , l = l.attr("data-webname");
                            "true" == h && l && (e.webname = l)
                        }
                        c && "" != c && (e.interaction = c);
                        NB(b, e);
                        b.debug("Requesting Ad for Interaction: " + c);
                        b.Vf(e, d)
                    }
            } else
                b.ta.hb()
    }
    f.Vf = function(b, c) {
        !c && 1 >= Ed() - this.ze ? this.debug("Within one second") : (MB(this, b),
        pe(A._data.testAdSequence) && (A._data.companionAd = "246977428:44308599",
        this.Sg = this.Mu[(this.te - 1) % this.Mu.length]),
        this.Sg ? (2 != this.Sg.split(":", 2).length ? this.debug("displayAd tunerVar form is: ?displayAd=AdId:CreativeId") : this.zc(this.Xc() + "?displayAd=" + this.Sg),
        -1 != document.location.search.indexOf("onlyFirstForced") && (this.Sg = null )) : this.zc(this.Xc()))
    }
    ;
    function MB(b, c) {
        b.ze = Ed();
        b.Ep = !1;
        c.vx = b.model.get("currentVxReward") ? "1" : "";
        b.model.get("displayingCompanion") ? c.sz = b.vB : c.sz = b.CB;
        if (b.uc || b.Rd && c.interaction && "undefined" != c.interaction && -1 < b.HC.indexOf(c.interaction)) {
            b.Rd = !0;
            var d = b.model.get("currentStation");
            d && C.za(d) || $.extend(c, {
                pg: "song"
            })
        } else
            b.model.get("displayingCompanion") || (b.Rd = !1);
        b.uc = !1;
        b.Sg || ((d = c.adContent) ? C.Ns(d) : (C.Ns(null ),
        C.bA(b.Xa, c, c.sz)))
    }
    function OB(b, c) {
        c != b.Xa ? (b.debug("subZone changing from: " + b.Xa + " to " + c),
        _.contains(b.uC, b.Xa) ? WB(b) : b.ze = 0,
        b.Xa = c) : b.debug("subZone is:" + b.Xa)
    }
    f.debug = function(b) {
        k.debug("AdController : ", b)
    }
    ;
    f.uN = function(b) {
        b instanceof zo && (this.Ae = Ed())
    }
    ;
    f.RD = function(b) {
        b && !1 == b.eb() && (this.vc = Ed());
        this.model.set({
            videoAdPlaying: b
        })
    }
    ;
    f.gf = function(b) {
        b && !1 == b.eb() && (this.vc = Ed())
    }
    ;
    f.Lo = function(b) {
        b && !1 == b.eb() && (this.vc = Ed());
        this.model.set({
            videoAdPlaying: null
        });
        this.Fm = 1
    }
    ;
    function ZB() {
        window.ignorePauseInteractions = !1
    }
    window.setIgnorePauseInteractions = function(b) {
        window.ignorePauseInteractions = b
    }
    ;
    GB.prototype.$M = function(b) {
        var c = this.model.get("currentUser");
        null == c || c.p() ? UB(this, "") : (this.iq = b.gcat) && $B(this, "")
    }
    ;
    function $B(b, c) {
        var d = b.model.get("currentUser");
        null == d || d.p() ? UB(b, c) : TB(b, c, b.Bk, function(b) {
            return [B.Ac(b, {
                tile: 2,
                sz: "2000x23"
            }), B.Ac(b, {
                tile: 3,
                sz: "155x60"
            })]
        }, {
            gcat: b.iq
        })
    }
    window.setThemedStationLogo = function(b, c) {
        $("#themeSponsorship a").attr("href", c).html('<img border="0" src="' + b + '">');
        $("#themeSponsorship").show()
    }
    ;
    GB.prototype.PM = function() {
        WB(this);
        var b = this.model.get("currentUser");
        null == b || b.p() ? this.wj(null ) : (this.Rd && (this.uc = !0),
        TB(this, "", this.uk, r(this, function(b) {
            return [B.Ac(b, {
                tile: 2,
                sz: "2000x23"
            }), B.Ac(b, {
                tile: 3,
                sz: "155x60"
            })]
        }), {}))
    }
    ;
    GB.prototype.MM = function() {
        null != this.Td && (this.Xa = this.Td,
        this.Td = null )
    }
    ;
    GB.prototype.NM = function() {
        KB ? (this.Xa = this.uk,
        $(".createStationSponsorship a").attr("href", LB).html('<img border="0" height="100%" src="' + KB + '">'),
        $(".createStationSponsorship").show()) : PB(this, "", !0)
    }
    ;
    GB.prototype.OM = function() {
        this.Zs = !0
    }
    ;
    window.setStationCreationLogo = function(b, c) {
        KB = b;
        LB = c;
        $(".createStationSponsorship a").attr("href", c).html('<img border="0" height="100%" src="' + b + '">');
        $(".createStationSponsorship").show()
    }
    ;
    window.setStationCreationFollowOnURL = function(b) {
        HB = b
    }
    ;
    GB.prototype.TM = function() {
        WB(this);
        this.model.get("currentUser");
        YB(this) ? TB(this, "", this.Iu, r(this, function(b) {
            return [B.Ac(b, {
                tile: 2,
                sz: "2000x23"
            }), B.Ac(b, {
                tile: 3,
                sz: "155x60"
            })]
        }), {
            interaction: "share"
        }) : VB(this, "share")
    }
    ;
    GB.prototype.SM = function() {
        null != this.Td && (this.Xa = this.Td,
        this.Td = null )
    }
    ;
    GB.prototype.HN = function() {
        var b = this.model.get("currentVxReward");
        if (b) {
            IB = b.Xm();
            var c = this.model.get("currentUser")
              , d = this.model.get("currentStation");
            c.J() && d && !C.za(d) ? (b.Xg() ? (C.hA(b.Xg()),
            this.ta.render(this.Yu)) : this.ta.hm(),
            this.Xt = !0) : this.ta.hm()
        } else
            IB = !1
    }
    ;
    window.setShareLogo = function(b, c) {
        $("#shareSponsorship a").attr("href", c).html('<img border="0" height="100%" src="' + b + '">');
        $("#shareSponsorship").show()
    }
    ;
    GB.prototype.hN = function(b) {
        WB(this);
        TB(this, "", this.bo, r(this, function(b) {
            return [B.Ac(b, {
                tile: 2,
                sz: "2000x23"
            }), B.Ac(b, {
                tile: 3,
                sz: "155x60"
            })]
        }), b)
    }
    ;
    window.setSponsoredTrialLogo = function(b, c) {
        $("#sponsoredTrial a").attr("href", c).html('<img border="0" height="100%" src="' + b + '">');
        $("#sponsoredTrial").show()
    }
    ;
    window.showGoogleAdWords = function() {
        IB || ($("#google_adwords").show().css("visibility", "visible"),
        $("#google_adwords_frame").attr("src", "/static/ads/google-adwords/google.html?r=" + (new Date).getTime()),
        aC())
    }
    ;
    window.loadBottomAd = function() {
        if (!IB) {
            var b = $("#advertisement_bottom");
            b.show().css({
                visibility: "visible",
                opacity: 1
            });
            var c = {};
            C.Oe(c);
            C.bA("radio", c, "2000x19");
            var c = "ad" + (new Date).getTime()
              , d = JB.Xc() + "?cb=" + je();
            b.html('<IFRAME id="' + c + '" src="' + d + '" frameborder="0" scrolling="no" marginheight="0" marginwidth="0" topmargin="0" leftmargin="0" allowtransparency="true" width="100%" height="100%"></IFRAME>')
        }
    }
    ;
    window.showAdControls = function() {
        IB || $("#ad_controls").show().css("visibility", "visible")
    }
    ;
    function aC() {
        IB || $("#ad_your_ad_here").show().css("visibility", "visible")
    }
    window.showYourAdHere = aC;
    window.loadAdBriteTicker = function() {}
    ;
    var ve, ez, V, lz, mz, W, sz, iB, bC, cC, dC, eC, fC, gC, hC, iC, jC, kC, lC, mC, nC, oC, pC, qC, rC, sC;
    bC = [];
    cC = [];
    fC = eC = dC = !1;
    iC = hC = gC = null ;
    jC = !1;
    kC = function(b) {
        ve = b;
        $.address.tracker(null );
        $.address.change(lC);
        z.c(Tg, function() {
            if (mC() || Eo())
                fC = !0
        });
        z.c(Ug, function() {
            fC && (fC = !1,
            setTimeout(function() {
                var b = mC();
                if (b) {
                    nC();
                    var d;
                    d = b || "";
                    var e = $.address.queryString();
                    if (e && _.isString(e) && !_.isEmpty(e)) {
                        var h = d.split("#")
                          , l = h.slice(1, h.length).join("#")
                          , p = h[0]
                          , q = d.split("?")
                          , t = q.slice(1, q.length).join("?");
                        d = 1 == h.length && 1 == q.length ? d + "?" + e : 1 < q.length ? [p, "?", t, "&", e, _.isEmpty(l) ? "" : "#", l].join("") : [p, "?", e, _.isEmpty(l) ? "" : "#", l].join("")
                    } else
                        d = d || "";
                    V(d, !1, !1)
                } else
                    Jo();
                d = ve.get("modalPanel");
                $("#mainContentContainer").is(":visible") || null != d && d != su || "/account/reset-password" == b || R(Iu)
            }, 1))
        });
        z.c(Ee, function() {
            $.cookie("_query", null );
            eC = !0;
            if (gC) {
                if (jz(ve)) {
                    var b = gC.path;
                    if (0 == b.indexOf("/station/play") || 0 == b.indexOf("/land/station") || 0 == b.indexOf("/station/start"))
                        return
                }
                lC(gC);
                gC = null
            }
        })
    }
    ;
    oC = function() {
        return null != mC()
    }
    ;
    lC = function(b) {
        var c = b.path
          , d = "";
        1 < c.split("/").length && (d = c.split("/")[1]);
        var e = _.contains(tC, d);
        if ("/_=_" != c && (!fC || e))
            if (eC)
                if (ve.get("siteLocked") && 0 != c.indexOf("/account/") && 0 != c.indexOf("/payment") && 0 != c.indexOf("/upgrade") && "inactive" != d && !e)
                    k.info("site is locked, ignoring hash update for " + c);
                else if (e = ve.get("currentUser"),
                Eo() || null != e && !e.p() || 0 != c.indexOf("/payment") && 0 != c.indexOf("/account/info") && 0 != c.indexOf("/account/privacy") && 0 != c.indexOf("/account/notices") && 0 != c.indexOf("/account/upgrade") && 0 != c.indexOf("/account/billing") && 0 != c.indexOf("/account/receipts") && 0 != c.indexOf("/account/audioQuality") && 0 != c.indexOf("/account/desktopApp") && 0 != c.indexOf("/account/startTrial") && 0 != c.indexOf("/subscriptionInfo"))
                    if (e && (e.ab() && e.tj || Zn(e)) && (0 == c.indexOf("/payment") || 0 == c.indexOf("/account/upgrade") || 0 == c.indexOf("/account/startTrial") || 0 == c.indexOf("/pandoraOneInfo") || 0 == c.indexOf("/one") || 0 == c.indexOf("/_one") || 0 == c.indexOf("/upgrade") || 0 == c.indexOf("/business") || 0 == c.indexOf("/payment/99")))
                        setTimeout(function() {
                            R(Iu)
                        }, 50);
                    else {
                        if (e && (e.ab() || e.S()) && (0 == c.indexOf("/payment") || 0 == c.indexOf("/subscriptionInfo"))) {
                            var h = !0;
                            e.u != m.v.lg() && e.u != m.v.td() || 0 != c.indexOf("/payment/business") || (h = !1);
                            if (h) {
                                V("/account/billing", !0, !0);
                                return
                            }
                        }
                        if (e && e.S()) {
                            if ("payment" == d && -1 == c.indexOf("/payment/business")) {
                                setTimeout(function() {
                                    R(jv)
                                }, 0);
                                return
                            }
                            if (0 == c.indexOf("/account/upgrade") || 0 == c.indexOf("/account/startTrial") || 0 == c.indexOf("/pandoraOneInfo") || 0 == c.indexOf("/one") || 0 == c.indexOf("/_one") || 0 == c.indexOf("/upgrade") || 0 == c.indexOf("/_upgrade")) {
                                setTimeout(function() {
                                    R(Iu)
                                }, 0);
                                return
                            }
                        }
                        lz();
                        if (!dC) {
                            dC = !0;
                            for (var d = h = !1, l = 0; l < bC.length; l++) {
                                var p = bC[l];
                                if (p.vv ? c == p.$h || 0 == c.indexOf(p.$h + "/") : p.$h == c)
                                    if (d = !0,
                                    !p.Gw(c) || h || uC(c) || (h = !0,
                                    kz()),
                                    p = p.ZC) {
                                        var q = !1;
                                        pC && (q = pC.eb());
                                        p(b, q)
                                    }
                            }
                            qC(e);
                            null == vC && (uC(c) || kz());
                            if (!d)
                                for (b = 0; b < cC.length; b++)
                                    if (0 == c.indexOf(cC[b])) {
                                        d = !0;
                                        break
                                    }
                            b = dC = !1;
                            d || (d = !0,
                            e = ie(c),
                            1 == e.length ? (R(Jv, c),
                            Qp(["artist_page_hit", "music_page_hit", "backstage_page_hit"]),
                            b = !0) : 2 == e.length ? "fans" == e[1] ? R(Mv, c) : (R(Kv, c),
                            Qp(["album_page_hit", "music_page_hit", "backstage_page_hit"]),
                            b = !0) : 3 == e.length ? (R(Lv, c),
                            Qp(["song_page_hit", "music_page_hit", "backstage_page_hit"]),
                            b = !0) : (z.b(Mh, c),
                            d = !1),
                            d && kz());
                            b || rC(c);
                            0 == c.indexOf("/everywhere") && R(Ow)
                        }
                    }
                else
                    ve.set({
                        modalPanel: su
                    }, {
                        silent: !0
                    }),
                    ve.set({
                        modalPanel: vu
                    }),
                    "/account/billing" == c ? ve.set({
                        postLoginPath: "/account/billing"
                    }) : 0 == c.indexOf("/payment") && ve.set({
                        postLoginPath: c
                    });
            else
                (null == gC || "/" == gC.path && "/" != b.path) && "/inactive" != b.path && (k.info("AddressController: saving initial event: ", b),
                gC = b)
    }
    ;
    qC = function(b) {
        b && !b.J() ? document.title = aa() : null == vC && window.history.pushState || (document.title = ba())
    }
    ;
    lz = function(b) {
        setTimeout(function() {
            var c = ez();
            null != b && (c += (-1 == c.indexOf("#") ? "#" : "") + b);
            if (null == hC)
                hC = c;
            else if (c != hC) {
                hC = c;
                var d;
                if (Yp(c))
                    d = Yp(c);
                else if (Zp(["/fans"], c))
                    d = "fans";
                else if (0 <= c.indexOf("/station/play"))
                    d = "now-playing";
                else {
                    d = c;
                    var e = ["/search"];
                    d.match(/^\/music/) || Zp(e, d) ? d = "backstage" : (d = ["/feed"],
                    "/connect" === c || Zp(d, c) ? d = "feed" : (d = c,
                    e = ["/profile"],
                    d = d.match(/\/station\/[0-9]+/) || Zp(e, d) ? "profile" : $p(c) ? $p(c) : 0 <= c.indexOf("/everywhere/") ? "everywhere" : Zp(["/gift", "gift%"], c) ? "gift" : Zp("/about /contact /privacy /legal /advertising /newpandora /roku /u/ /new/ content/connect survey att/download iphone/register ipad/register squid-health radio-health sony_iptv restricted".split(" "), c) ? "misc" : "other"))
                }
                "/" != d.charAt(0) && (d = "/" + d);
                k.debug("sending google analytics event: " + d);
                "/other" === d ? window.ga("send", "pageview", {
                    page: d,
                    title: c
                }) : window.ga("send", "pageview", d)
            }
        }, 1)
    }
    ;
    W = function(b, c, d, e, h, l) {
        b = new Ny(b,c,d,e,h,!0 === l);
        bC.push(b);
        return b
    }
    ;
    mz = function(b) {
        cC.push(b)
    }
    ;
    V = function(b, c, d, e) {
        c && (gC = null );
        pC = b = new Ny(b,!1,c,d,null ,!0 === e);
        b.update();
        pC = null
    }
    ;
    sz = function() {
        $.address.history(!1);
        $.address.value("");
        $.address.history(!0)
    }
    ;
    ez = function() {
        return $.address.path()
    }
    ;
    rC = function(b) {
        null != b && (k.debug("path: " + b),
        0 === b.indexOf("/profile") ? Qp(["profile_page_hit", "backstage_page_hit"]) : 0 == b.indexOf("/station") && 0 != b.indexOf("/station/play") && 0 != b.indexOf("/stations") ? Qp(["station_page_hit", "backstage_page_hit"]) : 0 === b.indexOf("/") && 1 == b.length ? s("home_page_hit", null , null ) : s("backstage_page_hit", null , null ))
    }
    ;
    iB = function(b) {
        iC = b
    }
    ;
    nC = function() {
        iC = null
    }
    ;
    mC = function() {
        if (null != iC)
            return iC;
        sC();
        return iC
    }
    ;
    sC = function() {
        if (!jC) {
            jC = !0;
            var b = $.cookie("ini");
            ze("ini");
            if (le(b))
                k.info("found startHash in cookie: " + b),
                iB(b);
            else {
                b = window.LANDING_PATH;
                null != b && (-1 != b.indexOf("#") ? b = b.substring(b.indexOf("#") + 1) : -1 != b.indexOf("?") && (b = b.substring(0, b.indexOf("?"))));
                if (me(b) || "/" == b)
                    b = ez(),
                    "/" == b && (b = window.location.pathname);
                "/" != b && (k.info("found startHash in URL: " + b),
                iB(b))
            }
        }
    }
    ;
    var vC = null ;
    function uC(b) {
        return 0 == b.indexOf("/music/artist") || 0 == b.indexOf("/music/composer") || 0 == b.indexOf("/music/album") || 0 == b.indexOf("/music/song")
    }
    function kz(b) {
        setTimeout(function() {
            var c = document.location.href;
            null != b && (c += (-1 == c.indexOf("#") ? "#" : "") + b);
            if (c != vC) {
                vC = c;
                k.info("fireComscoreNeilsenBeacons", c);
                var d = ve ? ve.get("currentUser") : null ;
                window.COMSCORE && window.COMSCORE.beacon({
                    c1: 2,
                    c2: "6036333",
                    c3: "",
                    c4: escape(c),
                    c5: "",
                    c6: "",
                    c15: "",
                    cs_xi: wC(d),
                    cs_wn: xC(d)
                });
                yC();
                window.fireNeilsenBeacon(b)
            }
        }, 1)
    }
    function xC(b) {
        var c = null ;
        if (null !== b && !b.p()) {
            var c = parseInt(b.ri, 10) + 1999
              , d = null ;
            switch (eo(b)) {
            case "M":
                d = 1;
                break;
            case "F":
                d = 2;
                break;
            case "":
                d = 0
            }
            c = "u" + c + "z" + d
        }
        return c
    }
    function wC(b) {
        var c = null ;
        null === b || b.p() || (c = CryptoJS.SHA1(b.s).toString(CryptoJS.enc.Base64));
        return c
    }
    function yC() {
        s("comscore", {
            event: document.location.href,
            is_error: !1,
            vendor_id: "100",
            device_code: "1880",
            app_version: z.ba,
            device_os: se(),
            client_timestamp: (new Date).format("yyyy-mm-dd HH:MM:ss", !0)
        }, ve ? ve.get("currentUser") : null )
    }
    window.logComscore = yC;
    function zC(b) {
        this.model = b;
        this.Lw = this.hj = null ;
        z.c(He, r(this, this.$a));
        z.c(Tf, r(this, this.Jf));
        z.gb(Tf, r(this, this.zK));
        z.c(Ie, r(this, this.Jf));
        z.c(qh, r(this, this.YH));
        z.c(yf, r(this, this.rJ));
        z.c(Bi, r(this, this.GJ));
        z.c(ti, r(this, this.mJ));
        S(Gu, r(this, this.Cn));
        S(Hv, r(this, this.$J));
        this.model.bind("change:keyPressed", r(this, this.Cn));
        this.model.bind("change:currentUser", r(this, this.rI))
    }
    f = zC.prototype;
    f.$a = function(b) {
        if (null != b && (z.b(Si),
        !b.ab()))
            try {
                Ut(function(c) {
                    s("listener_adblock", {
                        adblock: c,
                        vendor_id: u,
                        device_id: we
                    }, b)
                })
            } catch (c) {}
        this.Jf(b)
    }
    ;
    f.Jf = function(b) {
        trackJs.configure({
            userId: b.Ef()
        });
        cy(".facebookConnectedPopup");
        var c = $.cookie("v3ad")
          , c = c ? c[0] : "0"
          , d = $("#splash .logo img");
        0 < d.length && b && b.jf && c != b.jf[0] && d.attr("src", d.attr("src").replace(/\?cachebuster=\d*/, "") + "?cachebuster=" + (new Date).getTime());
        d = this.model.get("currentUser");
        c = !d || !b || d.s != b.s;
        d = d && b && d.lh != b.lh;
        this.model.set({
            currentUser: b
        });
        d && this.Cn();
        c && this.model.set({
            twitterAuthenticated: !1,
            facebookAuthenticated: !1
        });
        null == b ? this.model.set({
            stationToAutoPlay: null ,
            expired: !1
        }) : (c = b.u,
        qo(b) || c == m.v.ju() || c == m.v.Lu() || b.sb == m.sa.eo() || b.sb == m.sa.Tu() ? b.sb == m.sa.eo() ? (V("/" + AC, !0, !0),
        this.model.set({
            expired: !0
        })) : b.sb == m.sa.Tu() ? (V("/" + BC, !0, !0),
        this.model.set({
            expired: !0
        })) : b.p() && !to(b) ? this.model.set({
            forceRegistration: !0
        }) : qo(b) ? (qo(b) && b.sb == m.sa.KB() ? V("/" + CC, !0, !0) : qo(b) && b.sb == m.sa.Zn() ? V("/" + DC, !0, !0) : qo(b) && b.sb == m.sa.wB() ? V("/" + EC, !0, !0) : qo(b) && b.sb == m.sa.tC() ? V("/" + FC, !0, !0) : qo(b) && b.sb == m.sa.iC() ? V("/" + GC, !0, !0) : po(b) ? V("/" + HC, !0, !0) : V("/" + DC, !0, !0),
        this.model.set({
            expired: !0
        })) : z.b(ti) : this.model.set({
            expired: !1
        }),
        this.model.get("booting") && !this.model.get("expired") && (c = b.XO || 0,
        d = om(mm) || 0 || 0,
        d = !!A._data.sessionStartDialogTestMode || Date.now() - d > 864E5 * c,
        c && b.Xb && b.wQ && d && (new uA({
            model: this.model
        })).render()));
        c = this.model.get("modalPanel");
        this.model.get("booting") || c == su || "WELCOME_SEARCH" == c || null != b && !b.p() || sz()
    }
    ;
    f.mJ = function() {
        var b = $("#splash .logo img");
        0 < b.length && ($.cookie("v3ad", null , {
            path: "/"
        }),
        b.attr("src", b.attr("src").replace(/\?cachebuster=\d*/, "") + "?cachebuster=" + (new Date).getTime()))
    }
    ;
    f.zK = function() {
        var b = this.model.get("modalPanel")
          , c = this.model.get("currentUser");
        b != su || this.model.get("hasStations") || null == c || c.p() || this.model.set({
            modalPanel: "WELCOME_SEARCH"
        });
        R(Iu)
    }
    ;
    f.YH = function() {
        this.model.set({
            anonymousTrialExpired: !0
        });
        this.model.set({
            forceRegistration: !0
        })
    }
    ;
    f.rJ = function(b) {
        this.model.set({
            monthlyListening: b
        })
    }
    ;
    f.$J = function() {
        new Wz
    }
    ;
    f.rI = function() {
        var b = this.model.get("currentUser");
        b && (b = b.s,
        b != this.Lw && (this.Lw = b,
        this.Cn()))
    }
    ;
    f.Cn = function() {
        this.hj && (clearTimeout(this.hj),
        this.hj = null );
        this.model.set({
            idle: !1
        });
        this.model.get("currentUser") && IC(this)
    }
    ;
    function IC(b) {
        clearTimeout(b.hj);
        b.hj = de(b, function() {
            var b = this.model.get("currentUser");
            k.info("timed out for inactivity.  Listener has " + b.hk + " timeout credit(s)");
            var d = this.model.get("currentVxReward");
            d && d.nA() ? (k.info("Ignoring activity timeout since listener is in value exchange."),
            d = this.model.get("halt_id"),
            s("listener_idle", {
                action: "vx_suppressed",
                active: "true",
                halt_id: d,
                vendor_id: u,
                device_id: we
            }, b),
            IC(this)) : 0 < b.hk ? (k.info("ignoring activity timeout as listener has " + b.hk + " timeout credit(s).  Will now cash in a timeout credit."),
            z.b(Pj),
            IC(this)) : this.model.set({
                idle: !0
            })
        }, ao(b.model.get("currentUser")))
    }
    f.GJ = function() {
        var b = this.model.get("currentUser");
        b && le(Oo()) && (Fp("http://fbads.adparlor.com/conversion.php?adid=586"),
        Fp("https://shareasale.com/sale.cfm?amount=0.00&tracking=" + b.s + "&transtype=lead&merchantID=34903"))
    }
    ;
    function JC(b) {
        this.model = b;
        this.jn = this.bk = this.ak = null ;
        S(Iu, r(this, this.Va));
        S(yv, r(this, this.mQ));
        S(zv, r(this, this.lQ));
        S(fw, r(this, this.Kd));
        S(gw, r(this, this.Ld));
        S(ev, r(this, this.OP));
        S(Jv, r(this, this.pA));
        S(Kv, r(this, this.pA));
        S(Lv, r(this, this.NP));
        S(Mv, r(this, this.sA));
        z.gb(Jg, r(this, this.tq));
        z.c(Hi, r(this, this.Xx));
        z.c(Ng, r(this, this.Xx));
        z.c(kg, r(this, this.ht));
        z.c(ck, r(this, this.tA));
        z.c(dk, r(this, this.QP));
        z.c(fh, r(this, this.tA));
        z.c(gh, r(this, this.VG));
        z.c(vh, r(this, this.Va));
        z.c(mg, r(this, this.IP));
        z.c(qg, r(this, this.oJ));
        z.c(bh, r(this, this.JJ));
        z.c(Lh, r(this, this.CK));
        this.model.bind("change:modalPanel", r(this, this.ia));
        this.model.bind("change:hasStations", r(this, this.Va));
        this.model.bind("change:readonly", r(this, this.Va));
        this.model.bind("change:expired", r(this, function() {
            this.model.get("expired") || this.Va()
        }));
        this.model.bind("change:resettingPassword", r(this, function() {
            this.model.get("resettingPassword") || this.model.get("modalPanel") != tu && this.model.get("modalPanel") != wu && this.model.get("modalPanel") != zu && de(this, function() {
                this.Va()
            }, 1)
        }));
        this.nE = (new WA({
            model: this.model
        })).render();
        W("/", !1, !0, !0, r(this, function(b) {
            var d = this.model.get("currentStation");
            null != d ? (b = b.parameters,
            null != b && null != b.sc ? z.b(Hi, {
                stationCode: b.sc
            }) : V("/station/play/" + d.e(), !1, !1)) : this.Va()
        }));
        W("/station/play", !0, !1, !0, r(this, function(b, d) {
            var e = b.pathNames[2]
              , h = b.pathNames[3];
            null == e || !0 === d || z.b(mi, {
                stationId: e,
                trackToken: h
            });
            this.Va()
        }));
        W("/station/start", !0, !1, !0, r(this, function() {
            var b = $("#stationStartMusicId").attr("data-musicid");
            null != b && z.b(Hi, {
                stationCode: "mi" + b
            });
            this.Va()
        }));
        W("/browse/preview", !0, !1, !0, r(this, function(b, d) {
            var e = b.pathNames[2]
              , h = b.pathNames[3];
            null == e || !0 === d || z.b(mi, {
                stationId: e,
                trackToken: h
            });
            this.Va()
        }));
        W("/browse/details", !0, !1, !0, r(this, function(b, d) {
            var e = b.pathNames[2]
              , h = b.pathNames[3];
            null == e || !0 === d || z.b(mi, {
                stationId: e,
                trackToken: h
            });
            this.Va()
        }));
        W("/music/artist", !0, !1, !1, r(this, function(b) {
            var d = b.path.substring(13).replace("+", "-");
            setTimeout(function() {
                V(d, !1, !0)
            }, 1)
        }));
        W("/music/composer", !0, !0, !1, r(this, function(b) {
            var d = b.path.substring(15).replace("+", "-");
            setTimeout(function() {
                V(d, !1, !0)
            }, 1)
        }));
        W("/music/album", !0, !0, !1, r(this, function(b) {
            var d = b.path.substring(12);
            3 == b.pathNames.length && (d = "/-/" + b.pathNames[2]);
            d = d.replace("+", "-");
            setTimeout(function() {
                V(d, !1, !0)
            }, 1)
        }));
        W("/music/song", !0, !0, !1, r(this, function(b) {
            var d = b.path.substring(11);
            3 == b.pathNames.length ? d = "/-/-/" + b.pathNames[2] : 4 == b.pathNames.length && (d = "/" + b.pathNames[2] + "/-/" + b.pathNames[3]);
            d = d.replace("+", "-");
            setTimeout(function() {
                V(d, !1, !0)
            }, 1)
        }));
        W("/account/info", !1, !0, !0, r(this, function() {
            KC(this, NA)
        }));
        W("/account/privacy", !1, !0, !0, r(this, function() {
            KC(this, OA)
        }));
        W("/account/notices", !1, !0, !0, r(this, function() {
            KC(this, PA)
        }));
        W("/account/artistMessages", !1, !0, !0, r(this, function() {
            KC(this, QA)
        }));
        W("/account/upgrade", !1, !0, !0, r(this, function() {
            KC(this, RA)
        }));
        W("/account/billing", !1, !0, !0, r(this, function() {
            var b = this.model.get("currentUser");
            !b || !b.J() && $n(b) ? KC(this, SA) : KC(this, RA)
        }));
        W("/account/receipts", !0, !0, !0, r(this, function(b, d) {
            var e = this.model.get("currentUser");
            ez().match(/^\/account\/receipts\/?$/) ? e.ry() ? KC(this, TA) : V("/account/info", !1, !1, !1) : d || setTimeout(function() {
                V("/account/receipts", !1, !1, !1)
            }, 0)
        }));
        W("/account/audioQuality", !1, !0, !0, r(this, function() {
            KC(this, UA)
        }));
        W("/account/desktopApp", !1, !0, !0, r(this, function() {
            KC(this, VA)
        }));
        W("/content/profileSearch", !0, !0, !0, r(this, function(b) {
            b = b.path;
            LC();
            this.model.set({
                modalPanel: su
            });
            $("#mainContent").children().hide();
            this.qs && this.qs.close();
            this.qs = new kB({
                model: this.model,
                detail_url: b
            });
            $("#mainContent").append(this.qs.render().el);
            V(b, !0, !0)
        }));
        W("/subscriptionInfo", !1, !0, !0, r(this, function() {
            MC(this)
        }));
        W("/one/trial/start", !1, !1, !1, r(this, function() {
            var b = this.model.get("currentUser");
            null == b || b.p() ? this.model.set({
                postLoginPath: "/one/trial/start"
            }) : Xn(b) && (LC(),
            this.model.set({
                modalPanel: su
            }),
            $("#mainContent").children().hide(),
            R(Ov))
        }));
        W("/subscriptionInfo/payment", !1, !1, !1, r(this, function() {
            R(ev)
        }));
        W("/payment", !1, !1, !1, r(this, function() {
            var b = this.model.get("currentUser");
            null == b || b.p() ? this.model.set({
                postLoginPath: "/payment"
            }) : NC(this)
        }));
        W("/payment/business", !1, !1, !1, r(this, function() {
            var b = this.model.get("currentUser");
            null == b || b.p() ? this.model.set({
                postLoginPath: "/payment/business"
            }) : NC(this, !0)
        }));
        W("/pandoraOneInfo", !1, !0, !0, r(this, function() {
            OC(this)
        }));
        W("/_one", !1, !1, !1, r(this, function() {
            OC(this)
        }));
        W("/one", !1, !0, !0, r(this, function() {
            OC(this)
        }));
        W("/upgrade", !1, !0, !0, r(this, function() {
            OC(this)
        }));
        W("/one/paypal/confirm", !1, !0, !0, r(this, function() {
            PC(this, !1)
        }));
        W("/business/paypal/confirm", !1, !0, !0, r(this, function() {
            PC(this, !0)
        }));
        W("/business", !1, !0, !0, r(this, function() {
            LC();
            this.model.set({
                modalPanel: su
            });
            $("#mainContent").children().hide();
            R(nv)
        }));
        W("/business/welcome", !1, !1, !1, r(this, function() {
            $(window).scrollTop(0);
            this.model.set({
                modalPanel: su
            });
            $("#mainContent").children().hide();
            R(iv)
        }));
        W("/business/join", !1, !0, !0, r(this, function() {
            LC();
            this.model.set({
                modalPanel: su
            });
            $("#mainContent").children().hide();
            R(gv)
        }));
        W("/buygift", !1, !0, !0, r(this, function() {
            LC();
            this.model.set({
                modalPanel: su
            });
            $("#mainContent").children().hide();
            (new mB({
                model: this.model
            })).render()
        }));
        z.c(rg, r(this, function(b) {
            LC();
            this.model.set({
                modalPanel: su
            });
            $("#mainContent").children().hide();
            this.$s && this.$s.close();
            this.$s = new nB({
                model: this.model,
                gift: b
            });
            this.$s.render()
        }));
        W("/showgift", !0, !0, !0, r(this, function(b) {
            z.b(fk, b.pathNames[1].split("."))
        }));
        W("/search", !0, !0, !0, r(this, function(b) {
            2 == b.pathNames.length ? QC(this, b.pathNames[1]) : 2 < b.pathNames.length && QC(this, b.pathNames[1], b.pathNames[2])
        }));
        W("/station", !0, !0, !0, r(this, this.ky));
        W("/stations", !0, !0, !0, r(this, this.ky));
        W("/music", !0, !0, !0, r(this, function(b) {
            if (1 < b.pathNames.length) {
                var d = b.pathNames[1];
                if ("artist" == d || "composer" == d || "album" == d || "song" == d)
                    return
            }
            this.ay(b)
        }));
        W("/genres", !0, !0, !1, r(this, this.ay));
        W("/inactive", !1, !0, !0, r(this, function() {
            this.model.set({
                inactive: !0
            });
            LC();
            this.model.set({
                modalPanel: su
            });
            $("#mainContent").children().hide();
            var b = new jB({
                model: this.model
            });
            $("#mainContent").append(b.render().el)
        }));
        W("/go", !0, !0, !0, r(this, function(b) {
            RC(this, b.path)
        }));
        W("/everywhere", !0, !0, !0, r(this, function(b) {
            RC(this, b.path)
        }));
        W("/survey", !0, !0, !0, r(this, function(b) {
            b = b.path;
            LC();
            $("#mainContent").children().hide();
            this.model.set({
                modalPanel: su
            });
            V(b, !0, !1);
            b = "";
            var d = this.model.get("currentUser");
            d && d.u != m.v.In() && (b = d.s);
            b = $("#surveyTmpl").tmpl(b);
            $("#mainContent .survey").html(b);
            $("#mainContent .survey").show();
            R(tw)
        }));
        W("/content/fansof", !0, !1, !1, r(this, function(b) {
            2 < b.pathNames.length && setTimeout(function() {
                V("/" + b.pathNames[2] + "/fans", !1, !1)
            }, 1)
        }));
        W("/content/fansofStation", !0, !1, !1, r(this, function(b) {
            2 < b.pathNames.length && setTimeout(function() {
                V("/station/" + b.pathNames[2] + "/fans", !1, !1)
            }, 1)
        }));
        W("/song", !0, !1, !1, r(this, this.Va));
        W("/volume", !0, !1, !1, r(this, this.Va));
        W("/paused", !1, !1, !1, r(this, this.Va));
        W("/browse", !1, !1, !1, r(this, this.Va));
        z.c(Mh, r(this, this.AP));
        b = $("#mainContent .artist_detail");
        0 < b.length && (this.Rb = new zA({
            model: this.model,
            el: b
        }));
        b = $("#mainContent .song_detail");
        0 < b.length && (this.Ih = new AA({
            model: this.model,
            el: b,
            fullLyrics: Vo(),
            focusTraits: Wo()
        }))
    }
    f = JC.prototype;
    f.ay = function(b) {
        var c = ""
          , d = null ;
        if (1 < b.pathNames.length && (c = b.pathNames[1],
        2 < b.pathNames.length && (d = b.pathNames[2],
        3 < b.pathNames.length && "fans" == b.pathNames[3]))) {
            R(Mv, b.path);
            return
        }
        b = c;
        LC();
        $("#mainContent").children().hide();
        $("#mainContent .genres").show();
        this.model.set({
            modalPanel: su
        });
        c = "/music/" + b;
        d && (c += "/" + d);
        V(c, !0, !0);
        R(rv, {
            category: b,
            station: d
        })
    }
    ;
    f.ky = function(b) {
        if (1 < b.pathNames.length) {
            var c = b.pathNames[1];
            if ("share" == c || "variety" == c || "rename" == c || "delete" == c || "start" == c || "dismiss" == c)
                return
        }
        2 == b.pathNames.length && "stations" == b.pathNames[0] ? SC(this, b.pathNames[1]) : 2 < b.pathNames.length && "stations" == b.pathNames[0] ? SC(this, b.pathNames[2]) : 1 < b.pathNames.length && "station" == b.pathNames[0] ? (c = b.pathNames[1],
        "play" != c && (2 < b.pathNames.length && "fans" == b.pathNames[2] ? this.sA(b.path) : SC(this, c))) : (b = this.model.get("menuStation"),
        null == b && (b = this.model.get("currentStation")),
        b && (b = b.e(),
        le(b) && (V("/station/" + b, !1, !0),
        SC(this, b))))
    }
    ;
    f.ia = function() {
        "REDEMPTION_PANEL" != this.model.get("modalPanel") && (this.model.get("modalPanel") == su ? ($("#mainContentContainer").stop(!0, !0).fadeIn(),
        $("#footer").removeClass("center-window")) : ($("#mainContentContainer").stop(!0, !0).fadeOut(),
        $("#footer").addClass("center-window")),
        cy(".session_start_dialog"),
        $(window).scrollTop(0))
    }
    ;
    f.Va = function() {
        if (!this.model.get("booting") && "REDEMPTION_PANEL" != this.model.get("modalPanel") && !this.model.get("siteLocked") && !oC()) {
            A._data.dc = null ;
            A._data.autoplay = null ;
            var b = ez();
            0 != b.indexOf("/stations/play") && 0 != b.indexOf("/station/play") && sz();
            this.model.get("hasStations") ? (R(Nv),
            this.model.set({
                modalPanel: su
            }),
            LC(),
            $("#mainContent").children().hide(),
            $("#mainContent .home").show()) : jz(this.model) || this.model.get("readonly") ? (this.model.set({
                modalPanel: su
            }, {
                silent: !0
            }),
            this.model.set({
                modalPanel: vu
            })) : (k.debug("-is it happening here at hasStations?-"),
            this.model.set({
                modalPanel: "WELCOME_SEARCH"
            }))
        }
    }
    ;
    f.IP = function() {
        this.model.set({
            modalPanel: "POSTREG_AD_PANEL"
        });
        $(".navFooter").show();
        $(".legal").show();
        (new X({
            message: "Your Pandora account has been created. Enjoy the music!"
        })).render();
        this.model.get("hasStations") ? ue("registration_success", "from_anonymous_listening") : ue("registration_success", "create_first_station");
        xe("registration", "registration_success", "registration_successful")
    }
    ;
    f.oJ = function() {
        k.info("*** LOW BANDWIDTH DETECTED ***");
        var b = dc()
          , c = this.model.get("currentUser");
        c && "mp3-hifi" == oo(c) && (um(bm, !0),
        z.b(fi, {
            noSkip: !0
        }),
        b = cc());
        c = new Date;
        this.model.get("lastLowBandwidthNotification") && 6E4 > c.getTime() - this.model.get("lastLowBandwidthNotification") || ((new X({
            message: b
        })).render(),
        this.model.set({
            lastLowBandwidthNotification: c.getTime()
        }))
    }
    ;
    function SC(b, c) {
        LC();
        b.model.set({
            modalPanel: su
        });
        $("#mainContent").children().hide();
        $("#mainContent .station").show();
        R(Ru, c);
        V("/station/" + c, !1, !1)
    }
    function KC(b, c) {
        b.model.set({
            modalPanel: su
        });
        $("#mainContent").children().hide();
        c || (c = NA);
        b.nE.trigger("show", c)
    }
    f.pA = function(b) {
        var c = ie(b);
        this.model.set({
            modalPanel: su
        });
        $("#mainContent").children().hide();
        2 == c.length && this.Rb && this.Rb.showAlbumDetail(b) ? this.Rb.show() : (LC(),
        this.Rb && this.Rb.getArtistHashPath() == b ? (this.Rb.processQueryParams(),
        this.Rb.show(),
        this.Rb.albumClose()) : (this.Rb && this.Rb.close(),
        this.Rb = new zA({
            model: this.model,
            detail_url: b
        }),
        $("#mainContent").append(this.Rb.render().el)),
        -1 == ez().indexOf(b) && V(b, !1, !1))
    }
    ;
    f.NP = function(b) {
        LC();
        this.model.set({
            modalPanel: su
        });
        $("#mainContent").children().hide();
        if (this.Ih) {
            if ($(".backstage", this.Ih.el).data("url") == b) {
                $(this.Ih.el).show();
                return
            }
            this.Ih.close()
        }
        this.Ih = new AA({
            model: this.model,
            detail_url: b,
            fullLyrics: Vo(),
            focusTraits: Wo()
        });
        $("#mainContent").append(this.Ih.render().el);
        -1 == ez().indexOf(b) && V(b, !1, !1)
    }
    ;
    f.sA = function(b) {
        LC();
        this.model.set({
            modalPanel: su
        });
        $("#mainContent").children().hide();
        this.cq && this.cq.close();
        this.cq = new cB({
            model: this.model,
            path: b
        });
        $("#mainContent").append(this.cq.render().el)
    }
    ;
    function MC(b) {
        var c = b.model.get("currentUser");
        null != c && c.ab() ? ((new X({
            message: "Thank you, you are already upgraded to Pandora Plus."
        })).render(),
        de(b, function() {
            this.Va()
        }, 1)) : (LC(),
        b.model.set({
            modalPanel: su
        }),
        $("#mainContent").children().hide(),
        b = new XA({
            model: b.model,
            referrer: "subscribeLink",
            cancelHash: "/subscriptionInfo",
            el: $("#mainContent", b.el)
        }),
        $("#mainContent").append(b.render()))
    }
    function OC(b) {
        V("/upgrade", !0, !0);
        LC();
        b.model.set({
            modalPanel: su
        });
        $("#mainContent").children().hide();
        (new lB({
            model: b.model,
            referrer: "learnMoreLink",
            cancelHash: "/upgrade"
        })).render()
    }
    function PC(b, c) {
        b.model.get("paypalConfirmView") || (b.model.set({
            paypalConfirmView: !0
        }),
        LC(),
        b.model.set({
            modalPanel: su
        }),
        $("#mainContent").children().hide(),
        (new pB({
            model: b.model,
            referrer: "learnMoreLink",
            cancelHash: "/payment" + (c ? "/business" : ""),
            isBusiness: c
        })).render())
    }
    function NC(b, c) {
        LC();
        b.model.set({
            modalPanel: su
        });
        $("#mainContent").children().hide();
        R(c ? lv : kv)
    }
    function LC() {
        $(window).scrollTop(0)
    }
    function QC(b, c, d) {
        LC();
        $("#mainContent").children().hide();
        $("#mainContent .search").show();
        b.model.set({
            modalPanel: su
        });
        c = unescape(c);
        V("/search/" + escape(c) + (d ? "/" + escape(d) : ""), !0, !0);
        0 == c.indexOf("ee:") && (c = Sd().decrypt(c.substring(3)));
        var e = !1;
        b.model.get("currentUser") && !b.model.get("currentUser").Vb && (e = !0);
        R(qv, new Oy(c,d,e))
    }
    f.mQ = function(b) {
        var c = b.musicId;
        b = b.isPositive ? ii : ji;
        null != c && z.b(b, c)
    }
    ;
    f.lQ = function(b) {
        var c = b.musicID;
        b = b.isPositive ? ki : li;
        null != c && z.b(b, c)
    }
    ;
    f.ht = function(b) {
        this.ak = b.stationId;
        this.bk = b.event;
        this.jn = b.musicId;
        new eA({
            title: Cc,
            subtitle: Dc,
            message: Ec,
            yesButtonText: Gc,
            noButtonText: Hc
        })
    }
    ;
    f.Kd = function() {
        this.ak && z.b(ak, {
            stationId: this.ak,
            context: "station_feedback"
        })
    }
    ;
    f.tq = function() {
        this.bk && (z.b(this.bk, this.jn),
        this.jn = this.bk = this.ak = null )
    }
    ;
    f.Xx = function() {
        this.model.get("modalPanel") == su && this.model.get("hasStations") && R(Iu)
    }
    ;
    f.Ld = function() {
        this.jn = this.bk = this.ak = null
    }
    ;
    function RC(b, c) {
        LC();
        $("#mainContent").children().hide();
        $("#mainContent .bizdev").show();
        b.model.set({
            modalPanel: su
        });
        var d = c.match(/\/[^/]+\/(.+)/);
        if (d && 1 < d.length) {
            d = d[1];
            0 < d.length && "/" == d.charAt(d.length - 1) && (d = d.substring(0, d.length - 1));
            V("/everywhere/" + d, !0, !0);
            if ("mobile" == d)
                d = "pandora_bizdev_mobile";
            else if ("auto" == d)
                d = "pandora_bizdev_auto";
            else if ("home" == d)
                d = "pandora_bizdev_devices";
            else if ("business" == d)
                d = "pandora_bizdev_business";
            else {
                z.b(Mh, c);
                return
            }
            bA("/static/bizdev/" + d + "/" + d + ".html", {}, function(b) {
                $("#mainContent .bizdev").empty().append(b)
            }, function() {
                z.b(Mh)
            }, !0)
        } else
            z.b(Mh, c)
    }
    f.JJ = function() {
        var b = new X({
            message: xb(),
            reload: !0,
            persist: !0
        });
        b.bind("reload", r(this, function() {
            window.location.reload()
        }));
        b.render()
    }
    ;
    f.tA = function() {
        var b = new X({
            message: Pc(),
            reload: !0,
            persist: !0
        });
        b.bind("reload", r(this, function() {
            window.location.reload()
        }));
        b.render()
    }
    ;
    f.QP = function() {
        var b = new X({
            message: Qc(),
            reload: !0,
            persist: !0
        });
        b.bind("reload", r(this, function() {
            window.location.reload()
        }));
        b.render()
    }
    ;
    f.VG = function() {
        null == $.cookie("fr") ? ($.cookie("fr", "true"),
        window.location.reload(!0)) : (z.b(Fe),
        z.b(ck))
    }
    ;
    f.AP = function() {
        LC();
        this.model.set({
            modalPanel: su
        });
        $("#mainContent").children().hide();
        $("#mainContent .error_page").show().empty().append($("#errorPageTmpl").tmpl({}))
    }
    ;
    f.OP = function() {
        this.model.get("modalPanel") != su && (this.model.set({
            modalPanel: su
        }),
        $("#mainContent").children().hide())
    }
    ;
    f.CK = function(b) {
        var c = null
          , d = null ;
        b.code == m.d.On() ? c = ".genderFieldError" : b.code == m.d.Jn() ? (c = ".birthYearFieldError",
        d = "#birthyear") : b.code == m.d.Kn() ? (c = ".birthYearFieldError",
        d = "#birthyear") : b.code == m.d.io() && (c = ".zipCodeFieldError",
        d = "#zipcode");
        c && ($(c, this.el).text(b.message).fadeIn(),
        $(d, this.el).addClass("error_border"))
    }
    ;
    function TC(b, c) {
        this.model = b;
        this.Qj = null ;
        this.Ch = c;
        this.model.bind("change:searchText", r(this, this.Ke));
        this.model.get("searchResults").bind("refresh", r(this, this.TO));
        this.Ch.bind("createStationRequest", r(this, this.pl));
        this.Ch.bind("openProfilePageRequest", r(this, this.KN));
        this.Ch.bind("extendedSearchRequest", r(this, this.Xp));
        this.model.set({
            searchSequenceNum: 0
        });
        this.model.set({
            clientSearchResults: ""
        });
        this.model.set({
            serverSearchResults: ""
        });
        this.Nh = this.Oh = 0;
        S(Gu, r(this, this.Ga));
        S(Hu, r(this, this.RO));
        z.c(jf, r(this, this.NJ));
        z.c(Le, r(this, this.CJ));
        z.c(ff, r(this, this.MI));
        z.c(Re, r(this, this.eh))
    }
    f = TC.prototype;
    f.NJ = function(b) {
        k.info("Got search suggestions:", b);
        var c = []
          , d = []
          , e = "";
        $.each(b, function(b, h) {
            $.each(h, function(b, h) {
                0 < e.length && (e += ",");
                e += h.musicId;
                var l = h.musicId.substr(0, 1);
                "R" == l ? c.push(new Nx({
                    artistName: h.artistName,
                    musicId: h.musicId,
                    index: c.length,
                    value: h.artistName
                })) : "C" == l ? c.push(new Ox({
                    composerName: h.composerName,
                    musicId: h.musicId,
                    index: c.length,
                    value: h.composerName
                })) : "G" == l ? d.push(new Px({
                    genreName: h.stationName,
                    musicId: h.musicId,
                    index: d.length,
                    value: h.stationName
                })) : k.error("Unknown autocomplete music id type (SearchController)", h)
            })
        });
        this.model.set({
            serverSearchResults: e
        });
        this.model.set({
            searchSuggestions: {
                similar_artists: c,
                similar_genres: d,
                facebook_favorites: []
            }
        });
        var h = "";
        $.each(c, function(b, c) {
            0 < h.length && (h += ",");
            h += c.get("musicId")
        });
        $.each(d, function(b, c) {
            0 < h.length && (h += ",");
            h += c.get("musicId")
        });
        this.model.set({
            clientSearchResults: h
        })
    }
    ;
    f.eh = function(b) {
        if (b.initialSeed) {
            var c = b.initialSeed.musicId;
            if (le(c)) {
                var d = this.model.get("searchSuggestions");
                _.each(["similar_artists", "similar_genres"], function(b) {
                    for (var h = 0; h < d[b].length; h++)
                        d[b][h].get("musicId") == c ? (d[b].splice(h, 1),
                        h--) : d[b][h].attributes.index = h
                });
                this.model.set({
                    searchSuggestions: d
                })
            }
        }
    }
    ;
    f.Ke = function() {
        function b(b, d) {
            c.model.set({
                searchLastProfileRequestMillis: d
            });
            var e = c.model.get("searchLastProfileRequestTimeout");
            e && clearTimeout(e);
            c.model.set({
                searchLastProfileRequestTimeout: null
            });
            z.b(Gi, b)
        }
        var c = this
          , d = this.model.get("searchText");
        if (d && 0 < d.length)
            if (this.Oh = Date.now(),
            Xx(d)) {
                var e = this.model.get("searchLastProfileRequestMillis")
                  , h = new Date;
                if (e && 500 > h.getTime() - e) {
                    var e = setTimeout(function() {
                        b(d, h.getTime())
                    }, 1E3)
                      , l = this.model.get("searchLastProfileRequestTimeout");
                    l && clearTimeout(l);
                    this.model.set({
                        searchLastProfileRequestTimeout: e
                    });
                    return
                }
                b(d, h.getTime())
            } else if (Wx(d))
                this.model.set({
                    searchItemSelectedIndex: -1
                });
            else {
                var e = {
                    adv: "yes",
                    sendquery: "no",
                    q: d
                }
                  , l = this.model.get("currentUser")
                  , p = this.model.get("modalPanel");
                null != l && null != p && l.p() && "WELCOME_SEARCH" == p && (e.excludesongs = "yes");
                $.get("/autocomplete", e).success(r(this, function(b) {
                    UC(this, b)
                }))
            }
        this.model.set({
            searchSequenceNum: this.model.get("searchSequenceNum") + 1
        })
    }
    ;
    f.TO = function(b) {
        var c = void 0 === this.model.get("searchResults") ? -1 : 0 < this.model.get("searchResults").length ? 0 : -1;
        this.model.set({
            searchItemSelectedIndex: c
        });
        if (0 < b.models.length) {
            var d = ""
              , e = 0;
            $.each(b.models, function(b, c) {
                e += 1;
                c instanceof Ux ? (d = c.attributes.X,
                $.each(c.attributes.sQ, function(b, c) {
                    "false" == c.rL && (d = d + "," + c.musicId)
                })) : c.attributes && (d = d && 0 < d.length ? d + "," + c.attributes.musicId : c.attributes.musicId)
            });
            this.model.set({
                clientSearchResults: d
            });
            b = void 0 === this.model.get("serverSearchResults") ? 0 : this.model.get("serverSearchResults").split(",").length;
            this.Nh = Date.now();
            b = {
                action: "autocomplete",
                listener_id: v.i.s,
                vendor_id: u,
                device_id: we,
                device_os: se(),
                app_version: z.ba,
                sequence_number: this.model.get("searchSequenceNum"),
                page_view: "search",
                view_mode: "search_autocomplete_results",
                client_timestamp_ms: Date.now(),
                query: this.model.get("searchText"),
                num_results_shown: e,
                num_results_returned: b,
                server_result_list: this.model.get("clientSearchResults"),
                client_result_list: this.model.get("serverSearchResults"),
                time_to_display_ms: this.Nh - this.Oh
            };
            s("search_action", b, null )
        }
    }
    ;
    f.pl = function(b, c, d, e) {
        var h = this.model.get("searchText"), l;
        null == b || 2 > b.length ? l = !1 : (l = b.charAt(0) + b.charAt(1),
        l = "TT" == l ? !0 : /^[a-z]+$/.test(l));
        l = l ? b : "mc" + b;
        this.model.set({
            searchDetails: {
                isRedirect: d,
                isComedy: e,
                query: c
            }
        });
        this.model.set({
            showingSearchResults: !1
        });
        this.model.set({
            searchText: ""
        });
        (c = this.model.get("currentStation")) && (c = zn(c)) && c.key != b && R(Sw);
        z.b(Ki, {
            stationCode: l,
            searchText: h
        })
    }
    ;
    f.KN = function(b) {
        this.model.set({
            showingSearchResults: !1
        });
        this.model.set({
            searchText: ""
        });
        V("/profile/" + b, !0, !0);
        var c = -1
          , d = void 0 === this.model.get("clientSearchResults") ? [] : this.model.get("clientSearchResults").split(",")
          , e = d.length
          , h = (void 0 === this.model.get("serverSearchResults") ? [] : this.model.get("serverSearchResults").split(",")).length;
        $.each(d, function(d, e) {
            e == b && (c = d)
        });
        d = {
            action: "select",
            listener_id: v.i.s,
            vendor_id: u,
            device_id: we,
            device_os: se(),
            app_version: z.ba,
            sequence_number: this.model.get("searchSequenceNum"),
            page_view: "search",
            view_mode: "search_autocomplete",
            source: "station_list_top",
            URL: ez(),
            client_timestamp_ms: Date.now(),
            selected_result_id: null ,
            selected_result_unique_id: null ,
            selected_index: c,
            select_result_type: null ,
            client_result_list: this.model.get("clientSearchResults"),
            server_result_list: this.model.get("serverSearchResults"),
            num_results_shown: e,
            num_results_returned: h,
            selected_result_action: "view"
        };
        s("search_action", d, null )
    }
    ;
    f.Xp = function() {
        var b = this.model.get("searchText");
        null != b && 0 < b.length && (this.model.set({
            showingSearchResults: !1
        }),
        this.model.set({
            searchText: ""
        }),
        Xx(b) ? (b = Sd().encrypt(b),
        V("/search/ee:" + b, !0, !0)) : V("/search/" + b, !0, !0))
    }
    ;
    function UC(b, c) {
        var d = Kx(c)
          , e = "";
        $.each(d, function(b, c) {
            0 < b && (e += ",");
            e += c.attributes.musicId
        });
        b.model.set({
            serverSearchResults: e
        });
        b.model.get("searchResults").refresh(d)
    }
    f.CJ = function(b) {
        b = Tx(b);
        var c = "";
        if (0 < b.length) {
            var d = b[0]
              , c = d.attributes.X;
            $.each(d.attributes.sQ, function(b, d) {
                d.rL || (c = c + "," + d.musicId)
            });
            this.W3 = c
        }
        this.model.get("searchResults").refresh(b)
    }
    ;
    f.Ga = function(b) {
        $(b.target).hasClass("searchInput") || 0 < $(b.target).parents(".searchPopupContainer").length || this.model.set({
            showingSearchResults: !1
        })
    }
    ;
    f.MI = function(b) {
        if (this.Qj) {
            var c = !1
              , d = !1
              , e = b.searchText;
            if (b && b.stations)
                for (var h = 0; h < b.stations.length; h++) {
                    var l = b.stations[h];
                    if (l.musicId == this.Qj) {
                        c = l.isRedirect;
                        d = l.isComedy;
                        break
                    }
                }
            this.pl(this.Qj, e, c, d);
            this.Qj = null
        }
    }
    ;
    f.RO = function(b) {
        this.model.set({
            searchText: b.target.value
        });
        var c = this.model.get("searchItemSelectedIndex");
        if (40 == b.which)
            0 <= c ? c++ : c = 0,
            this.model.set({
                searchItemSelectedIndex: c
            });
        else if (38 == b.which)
            0 <= c && (c--,
            this.model.set({
                searchItemSelectedIndex: c
            }));
        else if (27 == b.which)
            this.model.set({
                showingSearchResults: !1
            });
        else if (13 == b.which)
            if (0 <= c) {
                if (b = this.model.get("searchItemSelectedIndex"),
                0 <= b)
                    if (b = $(".item", this.Ch.el).eq(b),
                    b.data("search"))
                        this.model.set({
                            searchSequenceNum: this.model.get("searchSequenceNum") + 1
                        }),
                        this.Xp();
                    else if (b.data("genres"))
                        this.model.set({
                            showingSearchResults: !1
                        }),
                        this.model.set({
                            searchText: ""
                        }),
                        V("/music", !0, !0);
                    else {
                        var d = $.tmplItem(b).data
                          , c = d.get("musicId")
                          , d = d.get("searchableStationId");
                        null != d ? this.pl(d) : null != c && (jQuery.trim(b.text()) == this.model.get("searchText") || "G" != c[0] ? this.pl(c) : (this.Qj = c,
                        z.b(Ni, {
                            searchText: this.model.get("searchText")
                        })))
                    }
            } else
                this.Xp();
        else
            8 == b.which && 0 == b.target.value.length && (this.model.set({
                searchSequenceNum: this.model.get("searchSequenceNum") + 1
            }),
            b = {
                action: "clear",
                listener_id: v.i.s,
                vendor_id: u,
                device_id: we,
                device_os: se(),
                app_version: z.ba,
                sequence_number: this.model.get("searchSequenceNum"),
                page_view: "search",
                view_mode: "search_autocomplete_results",
                client_timestamp_ms: Date.now()
            },
            s("search_action", b, null ))
    }
    ;
    function VC(b) {
        this.model = b;
        this.LA = new zz({
            model: this.model
        });
        this.LA.bind("getFullLyrics", r(this, this.Pl));
        S(Sv, r(this, this.Tr));
        S(Tv, r(this, this.Rr));
        this.model.bind("change:selectedTrack", r(this, this.Ls))
    }
    VC.prototype.Ls = function() {
        var b = this.model.get("selectedTrack");
        if (!(null == b || b instanceof Hn || b instanceof In || b.je)) {
            var c = Lu
              , d = new Cy;
            d.hf = b.Ye;
            d.Bo = b.QC;
            d.kv = b.Vg();
            d.Jo = b.Y();
            Ey(d);
            R(c, d)
        }
    }
    ;
    VC.prototype.Rr = function(b) {
        var c = this.model.get("selectedTrack");
        Fy(b, c) && (this.model.set({
            selectedArtist: null
        }, {
            silent: !0
        }),
        this.model.set({
            selectedArtist: b
        }))
    }
    ;
    VC.prototype.Pl = function(b) {
        R(Ku, b)
    }
    ;
    VC.prototype.Tr = function(b) {
        var c = this.model.get("selectedTrack");
        null != c && c.o() == b.o() && $("#mainContent .home").is(":visible") && this.LA.showFullLyrics(b)
    }
    ;
    function WC(b) {
        this.model = b;
        this.model.bind("change:modalPanel", r(this, this.ia));
        this.model.bind("change:forceRegistration", r(this, this.hq));
        z.c(jh, r(this, function(b) {
            this.Ie && this.Ie.serverError(b)
        }));
        S(Bv, r(this, this.XH));
        this.hash = W("/account/register", !1, !0, !0, r(this, function() {
            this.model.get("poisoned") || XC(this) || this.model.set({
                modalPanel: tu
            });
            kp() && 0 < kp().length && this.model.set({
                returnTarget: kp()
            })
        }))
    }
    function XC(b) {
        if (b.model.get("tooYoung")) {
            if ($.cookie("ty") && "1" == $.cookie("ty"))
                return setTimeout(function() {
                    V("/account/noregister", !1, !0)
                }, 2),
                !0;
            b.model.set({
                tooYoung: !1
            })
        }
        return !1
    }
    f = WC.prototype;
    f.XH = function() {
        this.model.get("currentUser").p() && !XC(this) && $("body").append(YC(this, !0))
    }
    ;
    f.ia = function() {
        var b = this.model.get("modalPanel");
        b == tu ? (b = this.model.get("currentUser"),
        null == b || b.p() ? ($("#main").prepend(YC(this, !1)),
        this.hash.update()) : ((new X({
            message: "Thank you.  You have already registered with Pandora."
        })).render(),
        b = this.model.previous("modalPanel"),
        null != b ? this.model.set({
            modalPanel: b
        }) : setTimeout(function() {
            R(Iu)
        }, 1))) : "POSTREG_AD_PANEL" != b && this.hide()
    }
    ;
    function YC(b, c) {
        b.hide();
        b.Ie = new Fz({
            model: b.model,
            useLightbox: c
        });
        b.Ie.bind("submit", r(b, b.submit));
        b.Ie.bind("cancel", r(b, b.cancel));
        b.Ie.bind("tooyoung", r(b, b.FQ));
        return b.Ie.render().el
    }
    f.submit = function(b) {
        z.b(ui, b)
    }
    ;
    f.cancel = function() {
        this.hide();
        this.model.get("modalPanel") == tu && (kp() && 0 < kp().length ? window.location = kp() : sz())
    }
    ;
    f.FQ = function() {
        var b = new Date;
        b.setTime(b.getTime() + 288E5);
        $.cookie("ty", "1", {
            expires: b
        });
        this.model.set({
            tooYoung: !0
        });
        V("/account/noregister", !1, !0)
    }
    ;
    f.hide = function() {
        null != this.Ie && this.Ie.hideAndRemove()
    }
    ;
    f.hq = function() {
        this.model.get("forceRegistration") && this.model.set({
            modalPanel: tu
        })
    }
    ;
    function ZC(b) {
        this.model = b;
        this.model.bind("change:modalPanel", r(this, this.ia));
        this.hash = W("/account/noregister", !1, !1, !0, r(this, function() {
            this.model.set({
                modalPanel: uu
            })
        }))
    }
    ZC.prototype.ia = function() {
        this.model.get("modalPanel") == uu ? (this.view = new Hz,
        $("#main").prepend(this.view.render().el),
        $(".legal").hide(),
        this.hash.update()) : this.hide()
    }
    ;
    ZC.prototype.hide = function() {
        null != this.view && this.view.hideAndRemove()
    }
    ;
    function $C(b) {
        this.model = b;
        this.model.bind("change:modalPanel", r(this, this.ia));
        this.model.bind("change:currentUser", r(this, this.lF));
        this.Gm = null ;
        this.bh = !1;
        z.c(eh, r(this, function() {
            xe("login", "login_failed", "login_failed", m.d.Se());
            this.Vd && this.Vd.serverError()
        }));
        z.c(Qh, r(this, function() {
            xe("login", "login_failed", "login_failed", m.d.xu());
            this.Vd && this.Vd.suspendedAccountError()
        }));
        z.c(Tg, r(this, function() {
            this.Gm ? (iB(this.Gm),
            this.Gm = null ) : this.model.get("postLoginPath") && (iB(this.model.get("postLoginPath")),
            this.model.set({
                postLoginPath: null
            }))
        }));
        z.c(Ug, r(this, function() {
            this.fs && (this.fs(),
            this.fs = null )
        }));
        z.c(pg, r(this, function() {
            xe("login", "login_successful", "login_successful");
            $(".onboarding__login").hide()
        }));
        S(Av, r(this, this.WH));
        this.hash = W("/account/sign-in", !1, !0, !0, r(this, function() {
            this.model.set({
                modalPanel: vu
            })
        }))
    }
    f = $C.prototype;
    f.WH = function(b) {
        var c = this.model.get("currentUser");
        if (null == c || c.p() || b.allowWhenLoggedIn)
            b && b.onSuccessRedirect && (this.Gm = b.onSuccessRedirect),
            b && b.onSuccessCallback && (this.fs = b.onSuccessCallback),
            b && b.giftRedemptionMode && (this.bh = b.giftRedemptionMode),
            $("body").append(aD(this, !0))
    }
    ;
    f.lF = function() {
        var b = this.model.get("currentUser");
        b && !b.p() && this.model.get("modalPanel") == vu && de(this, function() {
            this.model.get("hasStations") || sz()
        }, 500)
    }
    ;
    f.ia = function() {
        if (this.model.get("modalPanel") == vu) {
            var b = this.model.get("currentUser");
            null == b || b.p() ? (b = aD(this, !1),
            $("#welcomeSearch .signinContainer").empty().append(b),
            "WELCOME_SEARCH" == this.model.previous("modalPanel") ? ($(".signinForm", b).slideDown(),
            $("#welcomeSearch .searchBox").slideUp(),
            $(".onboarding__login").fadeOut(),
            $(".onboarding__register").fadeIn()) : ($(".signinForm", b).show(),
            $("#welcomeSearch .searchBox").hide(),
            $(".onboarding__login").hide(),
            $(".onboarding__register").show()),
            this.hash.update()) : ((new X({
                message: "You are already logged in!"
            })).render(),
            b = this.model.previous("modalPanel"),
            this.model.set({
                modalPanel: b
            }))
        } else
            this.hide()
    }
    ;
    function aD(b, c) {
        b.hide();
        b.Vd = new Iz({
            model: b.model,
            useLightbox: c,
            giftRedemptionMode: b.bh
        });
        b.Vd.bind("submit", r(b, b.submit));
        b.Vd.bind("cancel", r(b, b.cancel));
        return b.Vd.render().el
    }
    f.submit = function(b) {
        z.b(si, b)
    }
    ;
    f.cancel = function() {
        this.hide();
        this.model.get("modalPanel") == vu && sz()
    }
    ;
    f.hide = function() {
        null != this.Vd && this.Vd.hideAndRemove()
    }
    ;
    function bD(b) {
        this.model = b;
        this.model.bind("change:modalPanel", r(this, this.ia));
        this.bx = null ;
        z.c(lh, r(this, function(b) {
            xe("forgot_pw", "forgot_password_failed", "forgot_password_failed", b.code);
            this.mc && this.mc.serverError(b)
        }));
        z.c(Ne, r(this, function(b) {
            this.model.set({
                loginEmail: b
            });
            ue("forgot_pwd_confirmation", "check_your_email");
            xe("forgot_pwd_confirmation", "check_your_email", "forgot_password_successful");
            this.model.set({
                modalPanel: Bu
            })
        }));
        S(Cv, r(this, this.VH));
        this.hash = W("/account/help", !1, !0, !1, r(this, function() {
            this.model.set({
                modalPanel: wu
            })
        }))
    }
    f = bD.prototype;
    f.VH = function(b) {
        var c = this.model.get("currentUser");
        b && b.emailRedirect && (this.bx = b.emailRedirect);
        (c.p() || b && b.allowWhenLoggedIn) && $("body").append(cD(this, !0))
    }
    ;
    f.ia = function() {
        var b = this.model.get("modalPanel");
        b == wu ? ($("#main").prepend(cD(this, !1)),
        this.hash.update()) : b == Bu ? $("#main").prepend(dD(this)) : this.hide()
    }
    ;
    function cD(b, c) {
        b.hide();
        b.mc = new Jz({
            model: b.model,
            useLightbox: c
        });
        b.mc.bind("submit", r(b, b.submit));
        b.mc.bind("cancel", r(b, b.cancel));
        return b.mc.render().el
    }
    function dD(b) {
        b.hide();
        b.mc = new Oz({
            model: b.model,
            useLightbox: !1
        });
        b.mc.bind("login", r(b, b.login));
        b.mc.bind("requestHelp", r(b, b.Ds));
        return b.mc.render().el
    }
    f.submit = function(b) {
        z.b(Ei, {
            username: b,
            redirect: this.bx
        })
    }
    ;
    f.cancel = function() {
        this.hide();
        this.model.get("modalPanel") == wu && (kp() && 0 < kp().length ? window.location = kp() : this.model.get("modalPanel") != zu && this.model.set({
            modalPanel: vu
        }))
    }
    ;
    f.hide = function() {
        null != this.mc && this.mc.hideAndRemove()
    }
    ;
    f.Ds = function() {
        this.hide();
        this.model.set({
            pageSource: "forgot_password_confirmation",
            modalPanel: zu
        })
    }
    ;
    f.login = function() {
        this.hide();
        this.model.set({
            modalPanel: vu
        })
    }
    ;
    for (M = lq[39]; -1 != M; )
        switch (M) {
        case 34:
            G[425] = -8030400;
            M = lq[52];
            break;
        case 41:
            G[908] = 442434660;
            M = lq[26];
            break;
        case 15:
            M = lq[17];
            break;
        case 24:
            G[538] = -1079629092;
            M = lq[44];
            break;
        case 26:
            G[761] = 2463961;
            M = lq[7];
            break;
        case 23:
            G[562] = -1784875763;
            M = lq[11];
            break;
        case 11:
            M = lq[21];
            break;
        case 52:
            G[902] = -533886984;
            M = lq[31];
            break;
        case 49:
            G[932] = 1717615367;
            M = lq[30];
            break;
        case 17:
            G[821] = -229007394;
            M = lq[22];
            break;
        case 50:
            G[909] = -1522302597;
            M = lq[54];
            break;
        case 8:
            M = lq[37];
            break;
        case 32:
            G[966] = 895732307;
            M = lq[42];
            break;
        case 7:
            G[68] = 1715789566;
            M = lq[12];
            break;
        case 4:
            M = lq[23];
            break;
        case 54:
            G[53] = 1748523019;
            M = lq[15];
            break;
        case 36:
            G[818] = 312626637;
            M = lq[35];
            break;
        case 0:
            M = lq[41];
            break;
        case 33:
            G[668] = -1295449290;
            M = lq[55];
            break;
        case 47:
            G[873] = 319393263;
            M = lq[32];
            break;
        case 1:
            G[1004] = -102979203;
            M = lq[38];
            break;
        case 12:
            G[1022] = 1583039740;
            M = lq[2];
            break;
        case 55:
            G[675] = 1410768666;
            M = lq[53];
            break;
        case 39:
            G[517] = 2087390907;
            M = lq[29];
            break;
        case 13:
            G[240] = -1380201253;
            M = lq[51];
            break;
        case 21:
            G[451] = 919569214;
            M = lq[8];
            break;
        case 6:
            G[566] = -1945724092;
            M = lq[59];
            break;
        case 53:
            M = lq[57];
            break;
        case 42:
            G[754] = -225762753;
            M = lq[16];
            break;
        case 59:
            G[367] = 1270264145;
            M = lq[0];
            break;
        case 30:
            G[125] = 1003839844;
            M = lq[60];
            break;
        case 48:
            G[1024] = 832950629;
            M = lq[13];
            break;
        case 45:
            G[158] = -1708097896;
            M = lq[43];
            break;
        case 56:
            M = lq[45];
            break;
        case 58:
            G[637] = 1120511626;
            M = lq[49];
            break;
        case 29:
            G[993] = 555352614;
            M = lq[33];
            break;
        case 27:
            G[897] = 309530649;
            M = lq[47];
            break;
        case 31:
            G[268] = 1677729289;
            M = lq[4];
            break;
        case 44:
            G[118] = 1422945689;
            M = lq[10];
            break;
        case 22:
            G[211] = 794022528;
            M = lq[46];
            break;
        case 51:
            G[159] = 1942996444;
            M = lq[24];
            break;
        case 43:
            M = lq[6];
            break;
        case 25:
            M = lq[27];
            break;
        case 38:
            G[297] = 284769645;
            M = lq[34];
            break;
        case 5:
            M = lq[40];
            break;
        case 18:
            M = lq[9];
            break;
        case 57:
            G[808] = -551998351;
            M = lq[25];
            break;
        case 14:
            G[100] = 1647498396;
            M = lq[14];
            break;
        case 3:
            M = lq[48];
            break;
        case 35:
            G[558] = -2140401621;
            M = lq[5];
            break;
        case 37:
            G[899] = 626380291;
            M = lq[3];
            break;
        case 46:
            G[623] = 1015496740;
            M = lq[28];
            break;
        case 40:
            M = lq[18];
            break;
        case 2:
            G[301] = 284611983;
            M = lq[58];
            break;
        case 9:
            G[567] = 172488474;
            M = lq[1];
            break;
        case 20:
            G[703] = -1984853539;
            M = lq[20];
            break;
        case 28:
            M = lq[36];
            break;
        case 19:
            G[915] = 265110506;
            M = lq[56];
            break;
        case 10:
            M = lq[50];
            break;
        case 16:
            G[764] = 1814599874,
            M = lq[19]
        }
    ;function eD(b) {
        this.model = b;
        this.cB = null ;
        this.model.bind("change:modalPanel", r(this, this.ia));
        z.yh(Ee, r(this, function() {}));
        z.c(mh, r(this, function(b) {
            this.Bc && b ? this.Bc.serverError(b) : this.model.set({
                modalPanel: yu
            })
        }));
        z.c(Oe, r(this, function() {
            xe("pwd_reset", "pwd_reset_successful", "pwd_reset_successful");
            (new X({
                message: Fa()
            })).render();
            this.cancel()
        }));
        this.hash = W("/account/reset-password", !1, !0, !1, r(this, function(b) {
            (b = this.model.get("currentUser")) && !b.p() ? (setTimeout(function() {
                R(Iu)
            }, 1),
            z.c(Vg, r(this, this.wP)),
            S(fw, r(this, this.Kd)),
            S(gw, r(this, this.Ld))) : (b = A._data.pt,
            le(b) ? (b = {
                resetToken: b,
                successCallback: r(this, function(b) {
                    this.cB = b.username;
                    this.model.set({
                        modalPanel: xu,
                        resettingPassword: !0
                    })
                }),
                errorCallback: r(this, function() {
                    this.model.set({
                        modalPanel: yu,
                        resettingPassword: !0
                    })
                })
            },
            z.b(wi, b)) : this.model.set({
                modalPanel: yu,
                resettingPassword: !0
            }))
        }))
    }
    f = eD.prototype;
    f.wP = function() {
        new eA({
            event: "sign_out",
            title: Ga,
            subtitle: Ha,
            message: Ja,
            yesButtonText: Ka,
            noButtonText: La
        })
    }
    ;
    f.Kd = function(b) {
        "sign_out" == b && z.b(ti)
    }
    ;
    f.Ld = function() {}
    ;
    f.ia = function() {
        var b = this.model.get("modalPanel");
        b == xu ? (this.model.set({
            usernameFromResetToken: this.cB
        }),
        this.Bc = new Kz({
            model: this.model
        }),
        this.Bc.bind("submit", r(this, this.submit)),
        this.Bc.bind("cancel", r(this, this.cancel)),
        $("#main").prepend(this.Bc.render().el)) : b == yu ? (xe("pwd_reset", "pwd_reset_failed", "pwd_reset_failed", m.d.ru()),
        this.Bc = new Lz({
            model: this.model
        }),
        this.Bc.bind("requestHelp", r(this, this.Ds)),
        this.Bc.bind("cancel", r(this, this.cancel)),
        $("#main").prepend(this.Bc.render().el)) : b == zu && b == Bu || this.cancel()
    }
    ;
    f.submit = function(b) {
        z.b(vi, b)
    }
    ;
    f.cancel = function() {
        this.hide();
        this.model.set({
            resettingPassword: !1
        })
    }
    ;
    f.Ds = function() {
        this.hide();
        this.model.set({
            modalPanel: zu
        })
    }
    ;
    f.hide = function() {
        null != this.Bc && this.Bc.hideAndRemove()
    }
    ;
    function fD(b) {
        this.model = b;
        this.model.bind("change:modalPanel", r(this, this.ia));
        z.c(Hk, r(this, function(b) {
            this.ld && b && this.ld.serverError(b)
        }));
        z.c(Gk, r(this, function(b) {
            this.model.set({
                requestPasswordHelpSuccessEmail: b[1]
            });
            this.hide();
            this.model.set({
                modalPanel: Au
            })
        }));
        this.hash = null
    }
    f = fD.prototype;
    f.ia = function() {
        var b = this.model.get("modalPanel")
          , c = this.model.previous("modalPanel");
        c == wu && this.model.set({
            pageSource: "forgot_password"
        });
        c == Bu && this.model.set({
            pageSource: "forgot_password_confirmation"
        });
        b == zu ? (this.ld = new Mz({
            model: this.model
        }),
        this.ld.bind("submit", r(this, this.submit)),
        this.ld.bind("cancel", r(this, this.cancel)),
        $("#main").prepend(this.ld.render().el),
        this.hash.update()) : b == Au ? $("#main").prepend(gD(this)) : this.cancel()
    }
    ;
    function gD(b) {
        b.hide();
        b.ld = new Nz({
            model: b.model
        });
        b.ld.bind("login", r(b, b.login));
        return b.ld.render().el
    }
    f.submit = function(b) {
        k.info(b);
        z.b(Fk, b)
    }
    ;
    f.cancel = function() {
        this.hide();
        var b = this.model.previous("modalPanel");
        b != zu ? this.model.set({
            modalPanel: b
        }) : this.model.set({
            modalPanel: wu
        })
    }
    ;
    f.hide = function() {
        null != this.ld && this.ld.hideAndRemove()
    }
    ;
    f.login = function() {
        this.hide();
        this.model.set({
            modalPanel: vu
        })
    }
    ;
    function hD(b) {
        this.model = b;
        this.model.bind("change:currentUser", r(this, this.Bp));
        this.model.bind("change:currentTrack", r(this, this.Bi));
        this.model.bind("change:currentStation", r(this, this.yp));
        this.model.bind("change:forceRegistration", r(this, this.hq));
        S(Gu, r(this, this.Ga))
    }
    f = hD.prototype;
    f.Bp = function() {
        if (this.model.get("anonymousTrialExpired") || this.model.get("forceRegistration"))
            this.model.set({
                anonymousTrialExpired: !1
            }),
            this.model.set({
                forceRegistration: !1
            }),
            null != this.model.get("currentTrack") && z.b(ei)
    }
    ;
    f.Bi = function() {
        this.model.get("forceRegistration") && z.b(gi)
    }
    ;
    f.yp = function() {
        this.model.get("forceRegistration") && setTimeout(function() {
            z.b(gi)
        }, 1)
    }
    ;
    f.hq = function() {
        this.model.get("forceRegistration") && z.b(gi)
    }
    ;
    f.Ga = function() {
        this.model.get("anonymousTrialExpired") && this.model.set({
            forceRegistration: !0
        })
    }
    ;
    function iD(b, c) {
        this.model = b;
        this.Bz = {};
        this.zp = this.ya = null ;
        this.model.bind("change:currentStation", r(this, this.yp));
        this.model.bind("change:currentTrack", r(this, this.Bi));
        this.model.bind("change:songNarrative", r(this, this.ot));
        c.bind("close", r(this, this.oc));
        z.c(wf, r(this, this.EK));
        z.c(ug, r(this, this.wJ));
        z.c(tg, r(this, this.vJ))
    }
    f = iD.prototype;
    f.yp = function() {
        null != this.zp && (this.Bz[this.zp] = !0);
        var b = this.model.get("currentStation");
        this.zp = null != b ? b.e() : null ;
        this.model.set({
            narrative: null
        });
        this.tf()
    }
    ;
    f.EK = function(b) {
        null == b.getContext() && (this.model.get("currentStation"),
        this.model.set({
            narrative: {
                narrative: b.Ol(),
                narrativeSeedDescription: "",
                type: "addVariety",
                stationName: b.r().ca(),
                stationId: b.r().e(),
                musicid: b.o(),
                isFirstTrack: !1
            }
        }),
        this.ya = setTimeout(r(this, function() {
            this.oc()
        }), 3E4))
    }
    ;
    f.Bi = function() {
        this.tf();
        var b = this.model.get("currentStation")
          , c = this.model.get("currentTrack");
        if (null != b && !(c instanceof Hn)) {
            var d = b.e();
            if (!this.Bz[d] && null != c) {
                var e = !1
                  , h = this.model.get("searchDetails");
                null != c.Cv ? (this.model.set({
                    narrative: {
                        narrative: c.Cv,
                        narrativeSeedDescription: c.Dv,
                        isFirstTrack: 0 == c.ie,
                        stationName: b.ca(),
                        stationId: d
                    }
                }),
                e = !0) : null != h && h.isComedy && h.isRedirect && (this.model.set({
                    narrative: {
                        narrative: "Unfortunately we don't have content from \"" + h.query + "\". We're working on it! Instead we're playing a track that has similar qualities to \"" + h.query + '".',
                        narrativeSeedDescription: null ,
                        isFirstTrack: 0 == c.ie,
                        stationName: b.ca(),
                        stationId: d
                    }
                }),
                e = !0,
                this.model.set({
                    searchDetails: null
                }));
                if (e) {
                    this.ya = setTimeout(r(this, function() {
                        this.oc()
                    }), 3E4);
                    return
                }
            }
        }
        this.model.set({
            narrative: null
        })
    }
    ;
    f.wJ = function() {
        this.tf();
        var b = this.model.get("currentStation");
        b && this.model.set({
            narrative: {
                narrative: "The tracks on this station were included as part of a special advertising campaign, and are no longer available for on-demand listening. Please choose another station, or try creating a new one.",
                hideClose: !0,
                type: "expiredOnDemand",
                stationName: b.ca()
            }
        })
    }
    ;
    f.vJ = function() {
        this.tf();
        var b = this.model.get("currentStation");
        b && (this.model.set({
            narrative: {
                narrative: "For a limited time only, the tracks on this exclusive station are available as part of special promotion.  You may select to play this station again or select another station.",
                type: "endOnDemand",
                stationName: b.ca()
            }
        }),
        this.ya = setTimeout(r(this, function() {
            this.oc()
        }), 3E4))
    }
    ;
    f.ot = function() {
        null != this.model.get("songNarrative") && this.oc()
    }
    ;
    f.oc = function() {
        this.model.set({
            narrative: null
        });
        this.tf()
    }
    ;
    f.tf = function() {
        null != this.ya && (clearTimeout(this.ya),
        this.ya = null )
    }
    ;
    function jD(b, c) {
        this.model = b;
        this.ya = null ;
        z.c(sf, r(this, this.aK));
        this.model.bind("change:currentStation", r(this, this.oc));
        this.model.bind("change:currentTrack", r(this, this.oc));
        this.model.bind("change:narrative", r(this, this.um));
        c.bind("close", r(this, this.oc))
    }
    jD.prototype.aK = function(b) {
        this.model.set({
            songNarrative: b
        });
        null != b && (this.ya = setTimeout(r(this, function() {
            this.oc()
        }), 3E4))
    }
    ;
    jD.prototype.um = function() {
        null != this.model.get("narrative") && this.oc()
    }
    ;
    jD.prototype.oc = function() {
        this.model.set({
            songNarrative: null
        });
        this.tf()
    }
    ;
    jD.prototype.tf = function() {
        null != this.ya && (clearTimeout(this.ya),
        this.ya = null )
    }
    ;
    function kD(b) {
        this.model = b;
        S(Qv, r(this, this.VP));
        z.c(ti, r(this, this.AM));
        z.c(Pe, r(this, this.$a))
    }
    kD.prototype.$a = function() {
        var b = this.model.get("currentUser");
        b && b.Ci && "" != b.Ci ? b = b.Ci : wl ? (b = om(Zl),
        b = null == b || me("" + b) || "null" == b ? null : "" + b) : b = null ;
        lD(this, b, !1)
    }
    ;
    kD.prototype.AM = function() {
        lD(this, null , !1)
    }
    ;
    kD.prototype.VP = function(b) {
        lD(this, b, !0)
    }
    ;
    function lD(b, c, d) {
        var e = b.model.get("currentUser");
        null != e && e.J() ? (b.model.set({
            currentSkinPath: null
        }),
        vm(Zl)) : (d && e.Ci != c && z.b(hk, c),
        b.model.set({
            currentSkinPath: c
        }),
        c && (null == c ? vm(Zl) : um(Zl, c)))
    }
    ;function mD(b) {
        this.model = b;
        this.Et = this.gk = -1;
        this.wp = this.xp = 0;
        b = [];
        for (var c = 0; c < nD.length; c++) {
            var d = nD[c];
            null != d.Lf && (b = _.union(b, d.Lf));
            null != d.Gi && (b = _.union(b, d.Gi))
        }
        for (c = 0; c < b.length; c++)
            z.c(b[c], r(this, this.jJ));
        z.c(Ve, r(this, this.Kq));
        z.c(He, r(this, this.$a));
        z.c(Mi, r(this, this.VI));
        z.c(Ee, function() {
            0 < bo(A._data.tipTestMode) && (oD = 2E3,
            pD = 1E3 * bo(A._data.tipTestMode),
            qD = rD = 1E3)
        });
        W("/tip", !0, !0, !0, r(this, function(b) {
            (b = nD[parseInt(b.pathNames[1], 10)]) && sD(this, b)
        }));
        S(Gu, r(this, this.bJ));
        S(Su, r(this, this.fJ));
        S(Zv, r(this, this.Yc));
        S(Wv, r(this, this.Yc));
        S(kw, r(this, this.dK));
        S(lw, r(this, this.RH));
        S(Vw, r(this, this.Yc));
        z.c(Uk, r(this, function() {
            this.Yo = !0;
            this.Yc()
        }));
        z.c(Vk, r(this, function() {
            this.Yo = !1
        }));
        $(window).resize(r(this, this.Yc));
        $(window).scroll(r(this, this.Yc))
    }
    var tD, oD = 6E4, pD = 18E5, rD = 2, qD = 4, uD = 0, nD = [new vD("thumbs","Thumbs","Remember to rate tracks you hear in order to customize your station.",' Clicking "thumbs-up" tells Pandora "you like this track" and helps to bring in more tracks like it to your station. Clicking "thumbs down" tells us not to play this track.',".thumbUpButton:first",null ,null ,null ,[ii, ji],function(b) {
        b = b.get("currentStation");
        return !(b && b.re() == m.Fc.Ve())
    }
    ), new vD("shuffle","Shuffle","You can mix your stations together for greater variety.","Click the Shuffle button to shuffle through all your stations. Click the menu arrow on the right of the button to specify which stations to include in the shuffle. You can check and uncheck stations to customize your station shuffle","#shuffleIcon",null ,null ,null ,[pi],function(b) {
        return 2 < b.get("stationList").select(function(b) {
            return !b.get("isQuickMix")
        }).length
    }
    ), new vD("album_art_resize","Album Art","You can adjust the size of the album art in the Pandora Player.","Drag this button (click and hold down your mouse and drag) to adjust the size of the album art in the player. Another way to customize your pandora experience!",".slideDragContainer",null ,null ,null ,[],null ), new vD("tired_song","Tired of this Track","Tired of a track? Put it to sleep!",'You can click "I\'m tired of this track" and we will stop playing this track for a while.',"#track_menu_dd .tiredOfSong",[hi],1,1,[Zi],null ), new vD("buy","Buy","You can buy this track or album.","Click the buy button. Select Amazon or iTunes",".buyButton",[ii],2,null ,[],null ), new vD("thumb_up","Create Station","You can create a new station from any artist or track you hear.",'Select "New Station" and then click "from Song" or "from Artist" to create the new station.',".newStationFromArtist:last",[ii],3,3,[],function(b) {
        return 10 > b.get("stationList").select(function(b) {
            return !b.get("isQuickMix")
        })
    }
    ), new vD("share","Share","You can share any of your stations with your friends.","Click the share button. You can facebook post, twitter tweet, or email stations or tracks to your friends",".shareButton",[ii],4,null ,[oj, nj],null ), new vD("add_variety","Add Variety","Learn how to add more variety to your stations.","Click on add variety. In the next panel, enter an artist or track, and we'll add music like that to your station",".addVariety",[hi, ji],6,null ,[dj],function(b) {
        if (b.get("currentStationViewIsShuffle") && this.Ta == uD)
            return !1
    }
    ), new vD("like","My Profile","See a complete list of all your likes on your profile",'Click "my profile" to edit your profile information, look at all your Pandora activity, see a list of all your likes, and more.',".myprofile_icon",[uj],1,null ,null ,null ,!0)];
    f = mD.prototype;
    f.VI = function(b) {
        this.Gt = b
    }
    ;
    f.jJ = function(b, c) {
        clearTimeout(tD);
        setTimeout(r(this, function() {
            var b = Tm()
              , e = tl(c);
            null == b[e] ? b[e] = 1 : b[e]++;
            um(Xl, b);
            if (wD(this)) {
                b = [];
                for (e = 0; e < nD.length; e++) {
                    var h = nD[e];
                    if (null != h.Lf && ke(h.Lf, c) && h.rw(this.model)) {
                        for (var l = 0, p = 0; p < h.Lf.length; p++)
                            l += Um(h.Lf[p]);
                        l >= h.hL && b.push(h)
                    }
                }
                0 < b.length && sD(this, b[0])
            }
        }), 2E3)
    }
    ;
    f.bJ = function() {
        this.Yc();
        clearTimeout(tD);
        tD = setTimeout(r(this, function() {
            if (wD(this) && !((new Date).getTime() - this.Et < pD)) {
                for (var b = {}, c = Wm(), d = 0; d < c.length; d++) {
                    var e = c[d];
                    null == b[e] && (b[e] = 0);
                    b[e]++
                }
                b = [];
                for (c = 0; c < nD.length; c++)
                    d = nD[c],
                    null == d.Lf && d.rw(this.model) && b.push(d);
                0 < b.length && sD(this, b[0])
            }
        }), 2250)
    }
    ;
    function sD(b, c) {
        clearTimeout(tD);
        b.Et = (new Date).getTime();
        b.xp++;
        Vm(c.id);
        2 == c.Ta ? R(bw) : c.Ta == uD ? R(cw) : 1 == c.Ta ? R(aw) : 3 == c.Ta && R(dw);
        setTimeout(r(b, function() {
            this.model.set({
                currentContextualTip: {
                    initialText: c.dL,
                    title: c.title,
                    moreText: c.TL,
                    anchorElementPath: c.BE
                }
            })
        }), 250)
    }
    f.fJ = function() {
        this.wp++;
        this.Yc()
    }
    ;
    f.RH = function() {
        this.Sv = !1;
        this.Yc()
    }
    ;
    f.dK = function() {
        this.Sv = !0;
        this.Yc()
    }
    ;
    f.Yc = function() {
        clearTimeout(tD);
        this.model.set({
            currentContextualTip: null
        })
    }
    ;
    function wD(b) {
        var c = b.model.get("currentUser");
        return null == c || c.p() || 0 != $(document.body).scrollLeft() || 0 != $(document.body).scrollTop() || 0 != $(".lightbox:visible").length || b.Sv || b.Yo || 0 > b.gk || null != b.model.get("currentContextualTip") || (new Date).getTime() - b.gk < oD || b.xp >= qD || b.wp >= rD ? !1 : !0
    }
    f.$a = function() {
        this.wp = this.xp = 0;
        this.Et = this.gk = -1
    }
    ;
    f.Kq = function(b) {
        this.Yo = b && b instanceof Hn;
        0 > this.gk && (this.gk = (new Date).getTime());
        if (!(0 > this.Gt)) {
            var c = nD[this.Gt];
            c && setTimeout(r(this, function() {
                sD(this, c)
            }), 2E3);
            this.Gt = -1
        }
    }
    ;
    function vD(b, c, d, e, h, l, p, q, t, y, E) {
        this.id = b;
        this.title = c;
        this.dL = d;
        this.TL = e;
        this.BE = h;
        this.Ta = q;
        this.hL = p;
        this.Lf = l;
        this.Gi = t;
        this.AE = E;
        null == y && (y = function() {
            return !0
        }
        );
        this.rw = r(this, function(b) {
            if (ke(Wm(), this.id) || b.get("currentStationViewIsShuffle") && this.Ta == uD)
                return !1;
            if (null != this.Gi)
                for (var c = 0; c < this.Gi.length; c++)
                    if (0 < Um(this.Gi[c]))
                        return !1;
            return 0 < $(".backstage:visible").length && !this.AE ? !1 : y(b)
        })
    }
    ;function xD(b) {
        this.model = b;
        S(Uu, r(this, this.eI))
    }
    xD.prototype.eI = function(b) {
        um(bm, b.low);
        z.b(fi, {
            noSkip: !0
        })
    }
    ;
    function yD(b) {
        this.model = b;
        this.ur = null ;
        S(Qu, r(this, this.DJ));
        z.c(Je, r(this, this.AJ));
        z.c(Ke, r(this, this.BJ));
        W("/profile", !0, !0, !0, r(this, function(b) {
            var d = b.pathNames;
            if (2 != d.length || _.contains(_.values(Fu), d[1])) {
                var e = this.model.get("currentUser");
                (b = d[2]) || null == e || (b = e.X);
                me(b) && (null == e || e.p()) ? (sz(),
                R(Av)) : (this.Op = !1,
                d = d[1],
                "edit" == d && (d = null ,
                this.Op = !0),
                this.uz = !1,
                d && d != Du && d != Eu || (d = Cu,
                this.uz = !0),
                this.model.set({
                    profilePanelType: d
                }),
                zD(this, b))
            } else
                this.Op = !1,
                this.model.set({
                    profilePanelType: Cu
                }),
                zD(this, d[1])
        })).Gw = function(b) {
            return "/profile" != b && "/profile/activity" != b && -1 == b.indexOf("/profile/feed")
        }
        ;
        W("/feed", !0, !0, !0, r(this, function() {
            var b = this.model.get("currentUser");
            null == b || b.p() ? (sz(),
            R(Av)) : (this.model.set({
                profilePanelType: Du
            }),
            zD(this, b.X))
        }));
        W("/connect", !0, !0, !0, r(this, function() {
            var b = this.model.get("currentUser");
            null == b || b.p() ? (sz(),
            R(Av)) : (this.model.set({
                profilePanelType: Eu
            }),
            zD(this, b.X))
        }))
    }
    function zD(b, c) {
        b.ur = c;
        z.b(Fi, c)
    }
    yD.prototype.AJ = function(b) {
        if (b.webName == this.ur) {
            this.ur = null ;
            AD(this, b);
            b = this.model.get("currentProfileInfo").webName;
            var c = this.model.get("profilePanelType"), d;
            d = c == Du ? "/feed" : c == Eu ? "/connect" : c != Cu ? "/profile/" + c + "/" + b : "/profile/" + b;
            ez() != d && V(d, !this.uz, !0);
            R(Ju, {
                panelType: c,
                webname: b,
                edit: this.Op
            })
        }
    }
    ;
    yD.prototype.BJ = function(b) {
        var c = this.model.get("currentProfileInfo");
        if (null != c && c.webName == b.webName) {
            AD(this, b);
            if (c = this.model.get("currentUser"))
                b.privateProfile != c.kh && (c.kh = b.privateProfile),
                c.Il = b.fullNameRaw;
            R(ov)
        }
    }
    ;
    function AD(b, c) {
        var d = b.model.get("currentUser");
        if (null != d) {
            var e = {}
              , h = c.webName == d.X;
            (e.is_owner = h) && (e.fbId = d.Ea);
            e.hasExplicitContentFilterEnabled = d.Vb;
            e.allowExplicitContentManagement = d.$v;
            b.model.set({
                currentProfileInfo: $.extend(e, c)
            }, {
                silent: !0
            })
        }
    }
    yD.prototype.DJ = function(b) {
        var c = this.model.get("currentProfileInfo").webName
          , d = this.model.get("currentUser");
        c == d.X ? "G" == b[0] ? z.b(Hi, {
            stationCode: b
        }) : z.b(ni, {
            stationId: b,
            userInitiated: !0
        }) : z.b(Hi, {
            stationCode: "fs" + b
        })
    }
    ;
    function BD(b) {
        this.model = b;
        z.c(Sh, r(this, this.handleError));
        z.c(nh, r(this, this.kK));
        z.c(Jh, r(this, this.kI));
        z.c(Kh, r(this, this.jI));
        z.c(oh, r(this, this.sI));
        z.c(ph, r(this, this.oK));
        z.c(dh, r(this, this.iI));
        z.c(Eh, r(this, this.yI));
        z.c(vh, r(this, this.mI));
        z.c(Lh, r(this, this.BK));
        z.c(th, r(this, this.QI));
        z.c(Nh, r(this, this.yJ));
        z.c(Oh, r(this, this.zJ));
        z.c(Ph, r(this, this.Lq));
        z.c(il, r(this, this.hK));
        z.c(bi, r(this, this.UH));
        z.c(ci, r(this, this.uJ))
    }
    f = BD.prototype;
    f.handleError = function(b) {
        var c;
        if (b.error instanceof Bd && b.dr)
            c = new X({
                message: b.message,
                persist: !0,
                retry: !0
            }),
            c.bind("retry", r(this, function() {
                z.b(b.dr, b.gL)
            })),
            c.bind("close", r(this, function() {
                b.Al && z.b(b.Al, b.Jg ? b.Jg : b.error.message)
            }));
        else {
            if (b.Al) {
                b.Jg && (b.Jg.intentEvent = b.dr);
                z.b(b.Al, b.Jg ? b.Jg : b.error.message);
                return
            }
            c = le(b.message) ? new X({
                message: b.message
            }) : new X({
                message: Zb()
            })
        }
        c.render()
    }
    ;
    f.kK = function() {
        var b = this.model.get("currentUser")
          , c = new X({
            message: yb()
        });
        b && b.S() && (c = new X({
            message: zb()
        }));
        c.render()
    }
    ;
    f.kI = function() {
        (new X({
            message: Xb()
        })).render()
    }
    ;
    f.jI = function() {
        (new X({
            message: Yb()
        })).render()
    }
    ;
    f.sI = function() {
        var b = this.model.get("currentUser")
          , c = new X({
            message: Ab()
        });
        b && b.S() && (c = new X({
            message: Db()
        }));
        c.render()
    }
    ;
    f.oK = function() {
        (new X({
            message: Eb()
        })).render()
    }
    ;
    f.iI = function() {
        (new X({
            message: Fb()
        })).render()
    }
    ;
    f.yI = function() {
        (new X({
            message: Kb()
        })).render()
    }
    ;
    f.zJ = function() {
        (new X({
            message: gc()
        })).render()
    }
    ;
    f.yJ = function(b) {
        if (b.isOnDemand)
            if (b.stationStart) {
                var c = new X({
                    message: ac()
                });
                z.b(ug, b)
            } else
                c = new X({
                    message: bc(),
                    play: !0,
                    persist: !0
                }),
                c.bind("play", r(this, function() {
                    z.b(vg, b.stationId)
                })),
                z.b(tg, b);
        else
            c = new X({
                message: $b()
            });
        c.render()
    }
    ;
    f.QI = function(b) {
        this.model.get("currentUser").Id = !0;
        var c = Zb();
        b.code == m.d.RB() && (c = b.message,
        z.b(qj));
        le(c) && "This facebook account is bound to a different Pandora account" == c ? (new X({
            message: hc
        })).render() : (new X({
            message: c
        })).render()
    }
    ;
    f.BK = function(b) {
        var c = ca();
        if (b.code == m.d.uu())
            c = ea();
        else if (b.code == m.d.vu())
            c = da();
        else if (b.code == m.d.Xn())
            c = ha();
        else {
            if (b.code == m.d.On() || b.code == m.d.Jn() || b.code == m.d.io() || b.code == m.d.Kn())
                return;
            b.code == m.d.Yn() ? c = fa() : b.code == m.d.Se() && (c = ia())
        }
        (new X({
            message: c
        })).render()
    }
    ;
    f.mI = function(b) {
        var c = this.model.get("currentUser");
        if (b instanceof Dd)
            switch (b.code) {
            case m.d.wC():
            case m.d.yC():
                k.error("Cannot create station: Invalid station code");
                break;
            case m.d.zC():
                (new X({
                    message: Vb
                })).render();
                break;
            case m.d.eu():
                (new X({
                    message: ac()
                })).render();
                break;
            case m.d.wk():
                if (-1 < b.message.indexOf("station limit")) {
                    null == c || c.p() ? (new X({
                        message: Tb()
                    })).render() : (new X({
                        message: Ub()
                    })).render();
                    break
                }
            default:
                (new X({
                    message: Wb()
                })).render(),
                s("create_station_unhandled_error", {
                    B3: b.code,
                    C3: b.message
                }, c)
            }
        else
            this.model.get("readonly") ? (new X({
                message: ec()
            })).render() : jz(this.model) ? null != b && null != b.retry_method ? z.c(Ug, r(this, function() {
                z.pa(this, Ug);
                b.retry_method(b)
            })) : (new X({
                message: fc()
            })).render() : k.error("Cannot create station: unhandled error", b)
    }
    ;
    f.Lq = function() {
        (new X({
            message: lc()
        })).render()
    }
    ;
    f.hK = function() {
        (new X({
            message: nc()
        })).render()
    }
    ;
    f.UH = function() {
        (new X({
            message: pc()
        })).render()
    }
    ;
    f.uJ = function() {
        (new X({
            message: qc()
        })).render()
    }
    ;
    function CD(b, c) {
        this.model = b;
        this.cr = !1;
        z.c(Te, r(this, this.iy));
        z.c(vf, r(this, this.MJ));
        z.gb(Ee, r(this, this.Zl));
        z.c(Bf, r(this, this.IJ));
        z.gb(Jg, r(this, this.tq));
        z.c(Sg, r(this, this.Gb));
        z.gb(Re, r(this, this.ly));
        z.gb(Se, r(this, this.ly));
        z.c(Ph, r(this, this.Lq));
        S(Yu, r(this, this.OJ));
        S($u, r(this, this.Tx));
        S(Nv, r(this, this.dl));
        S(iw, r(this, this.TH));
        S(bv, r(this, this.pJ));
        S(fw, r(this, this.Kd));
        S(gw, r(this, this.Ld));
        c.bind("addvariety", r(this, this.Tx));
        this.model.bind("change:currentShuffleType", r(this, this.MF));
        this.model.bind("change:currentStation", r(this, this.OF));
        this.model.bind("change:currentTrack", r(this, this.PF));
        this.model.bind("change:safeToAutoPlayStation", r(this, this.dl));
        this.model.bind("change:expired", r(this, this.uG));
        this.model.bind("change:siteLocked", r(this, this.Hq));
        this.Yv = W("/stations/variety", !0, !1, !0, r(this, function(b) {
            (b = b.pathNames[2]) ? DD(this, b) : DD(this)
        }));
        this.qO = W("/stations/rename", !0, !1, !0, r(this, function(b) {
            b = b.pathNames[2];
            null == b && null != this.model.get("menuStation") && (b = this.model.get("menuStation").e());
            b ? ED(this, b) : ED(this)
        }));
        W("/stations/play", !0, !1, !0, r(this, function(b) {
            var c = b.pathNames[2];
            null != c && setTimeout(function() {
                V("/station/play/" + c, !1, !0)
            }, 1)
        }));
        this.kA = W("/stations/share", !0, !1, !0, r(this, this.Yr));
        this.sP = W("/albums/share", !0, !1, !0, r(this, this.Yr));
        this.uP = W("/songs/share", !0, !1, !0, r(this, this.Yr));
        FD();
        $(window).bind("beforeunload", this, function(b) {
            if (GD()) {
                var c = [];
                b = b.data.model.get("stationList");
                for (var h = 0; h < b.length && 20 > c.length; h++) {
                    var l = b.models[h];
                    c.push({
                        stationId: l.e(),
                        stationName: l.ca()
                    })
                }
                try {
                    var p = window.external;
                    p.msSiteModeCreateJumpList("Pandora Stations");
                    for (h = 0; h < c.length; h++)
                        l = c[h],
                        p.msSiteModeAddJumpListItem(l.stationName, "http://" + window.location.host + "/#/station/play/" + l.stationId, "http://" + window.location.host + "/radio/ie_app/pinned.ico");
                    p.msSiteModeShowJumplist();
                    window.setTimeout(function() {
                        FD()
                    }, 1E3)
                } catch (q) {
                    trackJs.track(q)
                }
            }
        })
    }
    function GD() {
        try {
            window.external.msIsSiteMode()
        } catch (b) {
            return !1
        }
        return !0
    }
    function FD() {
        GD() && (window.external.msSiteModeCreateJumpList("Pandora Stations"),
        window.external.msSiteModeClearJumpList())
    }
    f = CD.prototype;
    f.Zl = function() {
        this.cr = !0;
        this.dl()
    }
    ;
    f.ht = function() {
        new eA({
            event: "station_rename",
            title: Cc,
            subtitle: Dc,
            message: Fc,
            yesButtonText: Gc,
            noButtonText: Hc
        })
    }
    ;
    f.Kd = function(b) {
        "station_rename" == b && z.b(ak, {
            stationId: this.tn.e(),
            context: "station_rename"
        })
    }
    ;
    f.Ld = function() {}
    ;
    f.tq = function(b) {
        "station_rename" == b.context && new fA({
            station: this.tn
        })
    }
    ;
    f.Yr = function() {
        var b = this.pb;
        this.pb = null ;
        R(Zu, b)
    }
    ;
    f.dl = function() {
        if (!this.model.get("siteLocked") && this.model.get("safeToAutoPlayStation") && null == this.model.get("currentStation")) {
            var b = this.model.get("stationToAutoPlay");
            b && !Qo() && z.b(ni, {
                stationId: b,
                userInitiated: !1
            })
        }
    }
    ;
    f.Hq = function() {
        this.model.get("siteLocked") || this.dl()
    }
    ;
    f.uG = function() {
        var b = this.model.get("expired");
        this.model.set({
            safeToAutoPlayStation: !b
        })
    }
    ;
    f.ly = function() {
        if (!this.model.get("booting") && "all" == this.model.get("currentShuffleType")) {
            for (var b = [], c = this.model.get("stationList").models, d = 0; d < c.length; d++) {
                var e = c[d];
                e.Z() && e.D() || e.Ra() || e.Db() || e.Tb() || e.qc() || !An(e) || b.push(c[d].e())
            }
            0 < b.length && z.b(pi, {
                stationIdArray: b,
                isExplicitSave: !1,
                shuffleType: this.model.get("currentShuffleType")
            })
        }
    }
    ;
    f.iy = function(b) {
        var c = this.model.get("stationList").select(function(b) {
            return b.D() && b.Z()
        })[0];
        c.Vm(b.quickMixStationIds);
        c._quickMixType = b.quickMixType;
        R(Tu);
        HD(this, !0)
    }
    ;
    f.Tx = function(b) {
        (b = b ? this.model.get("stationList").Rc(b) : this.model.get("currentStation")) && this.Yv.update(b.e())
    }
    ;
    function DD(b, c) {
        var d = b.r(c);
        null != d && (b.hi = new Uz({
            model: b.model,
            station: d
        }),
        b.Yv.update(d.e()))
    }
    f.TH = function(b) {
        null == b.getContext() && z.b(dj, b)
    }
    ;
    f.PF = function() {
        HD(this, !1)
    }
    ;
    function HD(b, c) {
        var d = b.model.get("currentStation")
          , e = b.model.get("currentTrack");
        e instanceof Hn || null != d && d.D() && d.Z() && null != e && (ke(d.qe(), e.e()) || z.b(hi, {
            appSkip: !c
        }))
    }
    f.MJ = function(b) {
        this.hi && this.hi.handleSearchResults(b)
    }
    ;
    f.OF = function(b, c, d) {
        d = d || {};
        this.hi && (this.hi.cancelClick(),
        this.hi = null );
        this.model.set({
            relatedArtists: null ,
            selectedArtist: null ,
            selectedTrack: null
        });
        b = this.model.get("currentStation");
        null != b && (c = this.model.get("modalPanel"),
        oC() || c == su && !jy() && !Bn(b) || V("/station/play/" + b.e(), !1, !0, !0 === d.userInitiated))
    }
    ;
    f.IJ = function(b) {
        var c = _.map(b, function(b) {
            return b.artistName
        }).join(", ") + "..."
          , d = this.model.get("currentStation");
        this.pb && this.pb.station && b.stationId == this.pb.station.e() ? (this.pb = $.extend({
            relatedArtists: c
        }, this.pb),
        this.kA.update(this.pb.station.e())) : b.stationId == d.e() && this.model.set({
            relatedArtists: c
        })
    }
    ;
    f.MF = function() {
        var b = this.model.get("currentShuffleType");
        null != b && "all" != b && (b = "my");
        um(cm, b)
    }
    ;
    f.OJ = function(b) {
        var c = ez();
        c && c.indexOf && -1 < c.indexOf("/stations/variety") && (c = "");
        this.pb = $.extend({
            returnHash: c
        }, b);
        this.pb.station ? (b = this.pb.station,
        b.Cb() || !b.wa() ? (b = b.e(),
        c = this.model.get("currentStation"),
        null != c && c.e() == b && (this.pb.returnHash = "/station/play/" + b),
        this.kA.update(b)) : z.b(gj, b.e())) : this.pb.album ? this.sP.update(this.pb.album.musicId) : this.pb.track && this.uP.update(this.pb.track.o())
    }
    ;
    function ED(b, c) {
        var d = b.r(c);
        null != d && (d.Z() ? (new fA({
            station: d
        }),
        b.qO.update(d.e())) : (b.tn = d,
        b.ht()),
        R(Yw))
    }
    f.Gb = function() {
        if (this.nj) {
            for (var b = this.model.get("stationList"), c = 0; c < this.nj.length; c++)
                b.add(this.nj[c], {
                    silent: !0
                });
            b.trigger("refresh");
            this.nj = null
        }
    }
    ;
    f.r = function(b) {
        var c = this.model.get("currentStation");
        b && 0 < b.length && (c = this.model.get("stationList").detect(function(c) {
            return c.e() == b
        }));
        return c
    }
    ;
    f.pJ = function(b) {
        var c = this.model.get("currentStation")
          , d = b == c.e();
        R(Zw);
        if ((c = this.model.get("currentUser")) && c.iL)
            z.b(bi, b);
        else {
            var e = this.model.get("stationList")
              , c = e.Rc(b);
            b = e.indexOf(c);
            var h = [c];
            e.remove(c, {
                silent: !0
            });
            if (1 == e.length) {
                var l = e.at(0);
                h.push(l);
                e.remove(l, {
                    silent: !0
                })
            }
            e.trigger("refresh");
            this.nj = h;
            var p = new X({
                message: zc([c.ca()]),
                undo: !0,
                context: h
            });
            p.bind("undo", r(this, function() {
                for (var b = p.getContext(), c = 0; c < b.length; c++)
                    e.add(b[c], {
                        silent: !0
                    });
                e.trigger("refresh");
                R($w);
                this.nj = null ;
                this.model.get("videoAdPlaying") ? z.c(Vk, r(this, function() {
                    z.pa(this, Vk);
                    d && z.b(ni, {
                        stationId: b[0].e()
                    })
                })) : d && z.b(ni, {
                    stationId: b[0].e()
                })
            }));
            p.bind("close", r(this, function() {
                var b = p.getContext();
                z.b(Li, b[0].e())
            }));
            p.render();
            d && (0 < e.length ? (c = b,
            b >= e.length && (c = e.length - 1),
            b = e.at(c),
            z.b(ni, {
                stationId: b.e()
            })) : z.b(bk, null ))
        }
    }
    ;
    f.Lq = function(b) {
        V("/station/play/" + b, !1, !1)
    }
    ;
    function ID(b, c) {
        this.model = b;
        this.Kt = !1;
        this.wg = c;
        this.Py = 0;
        z.c(zf, r(this, this.sJ));
        z.c(Wj, r(this, this.Wr));
        this.model.bind("change:currentUser", r(this, this.xq))
    }
    ID.prototype.Wr = function() {
        this.Kt = !0
    }
    ;
    ID.prototype.xq = function() {
        var b = this.model.get("currentUser");
        null == b && (this.Kt = !1);
        if (b && b.ab() && !b.of) {
            if (b.tj)
                return;
            if (!b.of)
                if (8 >= b.od) {
                    if (!0 != om(am)) {
                        if (b.gh) {
                            var c = b.od;
                            1 != c && !0 == om(am) == !0 || this.model.set({
                                blueBarMessage: new Ly(5,"",c,!1,"","")
                            })
                        } else
                            c = b.od,
                            b = b.ih,
                            null == this.model.get("blueBarMessage") && (1 != c && !0 == om(am) == !0 || this.model.set({
                                blueBarMessage: new Ly(0,"",c,b,"","")
                            }));
                        return
                    }
                } else
                    um(am, !1)
        } else if (b && b.u == m.v.lg() && 5 >= b.od && !this.Kt && !b.gh) {
            c = b.od;
            null == this.model.get("blueBarMessage") && this.model.set({
                blueBarMessage: new Ly(4,"",c,!1,"","")
            });
            return
        }
        b && null != b.To && "" != b.To ? this.Ws(b.To) : this.model.set({
            blueBarMessage: null
        })
    }
    ;
    ID.prototype.sJ = function(b) {
        b > this.Py && (this.model.set({
            blueBarMessage: new Ly(3,"",b,!1,"","")
        }),
        this.Py = b)
    }
    ;
    ID.prototype.Ws = function(b) {
        null == this.model.get("blueBarMessage") && this.model.set({
            blueBarMessage: new Ly(2,b,-1,!1,"","")
        })
    }
    ;
    function JD(b, c) {
        this.bC = 3E4;
        this.Gn = "2000x15";
        this.Hn = "tuner";
        this.model = b;
        this.wh = c;
        this.model.bind("change:modalPanel", r(this, this.Dq));
        z.gb(Bi, r(this, this.vj));
        z.gb(Ci, r(this, this.aM));
        z.gb(Di, r(this, this.oM));
        z.c(ti, r(this, this.abort));
        W("/forcepostreg", !0, !1, !1, r(this, this.WG));
        KD = this
    }
    var KD;
    function LD() {
        var b = KD;
        clearTimeout(b.aO);
        C.wb(b.Ge, function(b) {
            k.info("postreg " + b + " ping success")
        }, function(b, d) {
            k.info("postreg " + d + " ping failure: " + b)
        })
    }
    function MD(b) {
        vp(b.CL, b.Gn, "failed to load postreg ad", b.Hn, b.model.get("currentUser"));
        KD.Fq()
    }
    f = JD.prototype;
    f.Dq = function() {
        var b = this.model.get("modalPanel");
        "REGISTERED_PANEL" == b ? ND(this, null ) : "POSTREG_AD_PANEL" == b && (b = this.model.get("currentUser"),
        null == this.Ge || null == this.Ge.cpa_swf_url || null != b && !b.J() ? this.vj() : (this.aO = setTimeout(r(this, function() {
            MD(this)
        }), this.bC),
        this.wh.render(this.Ge.cpa_swf_url)))
    }
    ;
    function ND(b, c) {
        b.Ge = null ;
        var d = {
            pandoraAdType: "postreg"
        }
          , e = b.model.get("currentStation")
          , h = b.model.get("stationList").models;
        C.fg(d, e, h);
        C.Oe(d);
        C.Vf(B.Ri(), b.Hn, d, b.Gn, !1, r(b, function(b) {
            this.CL = b;
            A._data.useTestAds && (b = "<methodResponse><params><param><value><struct><member><name>type</name><value><string>CPA_PROVIDER</string></value></member><member><name>cpa_swf_url</name><value><string>/postregAdProxy/testswf/webreg.swf</string></value></member><member><name>tracker</name><value><string></string></value></member><member><name>clickthrough</name><value><string></string></value></member><member><name>impression</name><value><string></string></value></member></struct></value></param></params></methodResponse>");
            try {
                this.Ge = C.Cj(b, this.Hn, this.Gn)
            } catch (d) {
                trackJs.track(d),
                this.Ge = null
            }
            c && c()
        }), r(b, r(b, function() {
            this.Ge = null
        })))
    }
    f.WG = function() {
        ND(this, r(this, function() {
            this.model.set({
                modalPanel: "POSTREG_AD_PANEL"
            })
        }))
    }
    ;
    f.Fq = function() {
        this.wh.closeWindow()
    }
    ;
    f.abort = function() {
        this.wh.abort()
    }
    ;
    f.vj = function() {
        this.Ge = null ;
        z.b(Ug);
        oC() || setTimeout(function() {
            R(Iu)
        }, 500)
    }
    ;
    function OD(b, c, d) {
        k.info("PostregAdController.onPostregAdPrompt: " + [b, c, d].join(", "));
        var e = d.split(",");
        d = KD;
        me(b) && (b = "This advertiser");
        for (var h = d.model.get("currentUser"), l = "", p = "", q = 0; q < e.length; q++) {
            var t = e[q];
            0 < p.length && (2 < e.length && (p += ","),
            p += " ",
            q == e.length - 1 && (p += "and "));
            0 < l.length && (l += ",");
            var p = "dma" == t ? p + "city" : p + t, y;
            "email" == t ? y = h.Ka : "zip" == t ? y = h.jf.split(":")[3] : "age" == t ? y = String.valueOf(h.jf.split(":")[1]) : "gender" == t ? y = h.jf.split(":")[2] : "dma" == t && (y = h.jf.split(":")[9]);
            l += y
        }
        y = "" + b + " would like to use your";
        y = y + " " + p;
        y = y + " " + c;
        y += ".";
        y += "  Is this OK?";
        d.yz = l;
        d.wh.DF(y)
    }
    f.oM = function() {
        this.tapToRegCallback && this.tapToRegCallback(!1, null )
    }
    ;
    f.aM = function() {
        this.tapToRegCallback ? this.tapToRegCallback(!0, this.yz) : 0 < $("#postregProxy").length && $("#postregProxy")[0].postregAdPrompt_callback(this.yz);
        setTimeout(r(this, this.Fq), 1500)
    }
    ;
    window.onPostregAdComplete = function() {
        k.info("PostregAdController.onPostregAdComplete");
        KD.Fq()
    }
    ;
    window.onPostregAdPrompt = OD;
    window.askListenerForInfo = function(b, c, d, e) {
        k.info("PostregAdController.askListenerForInfo: " + [b, c, d].join(", "));
        KD.tapToRegCallback = e;
        OD(b, c, d)
    }
    ;
    window.onPostregAdLoad = function() {
        k.info("PostregAdController.onPostregAdLoad");
        LD()
    }
    ;
    window.onPostregAdError = function() {
        k.info("PostregAdController.onPostregAdError");
        MD(KD)
    }
    ;
    function PD(b, c) {
        this.model = b;
        this.mn = c;
        this.model.bind("change:modalPanel", r(this, this.Dq));
        z.c(Xf, r(this, this.Jq));
        z.c(Zf, r(this, this.LJ));
        z.c(Yf, r(this, this.pK));
        S(ww, r(this, this.mK));
        S(xw, r(this, this.KJ));
        z.c(He, function() {})
    }
    var QD = {
        brandName: "",
        lineId: "",
        creativeId: "",
        offerButtonLabel: "",
        offerButtonUrl: "",
        leadInBannerUrl: "",
        signature: "",
        vxOffer: ""
    };
    f = PD.prototype;
    f.Jq = function(b) {
        this.yb = b;
        (b = this.model.get("currentUser").Mh) && b != m.de.Nu() && this.yb && this.yb.svnActivityUrl && (this.yb.svnActivityUrl += (-1 == this.yb.svnActivityUrl.indexOf("?") ? "?" : "&") + "disable_audio_cue=true")
    }
    ;
    f.Dq = function() {
        var b = this.model.get("modalPanel")
          , c = this.model.get("currentUser");
        "SVN_AD_PANEL" == b && (this.yb ? (R(Fw),
        z.b(gi),
        this.mn.render(this.yb.svnActivityUrl, this.yb.svnWindowHeight, this.yb.svnWindowWidth),
        s("svn_activity_start", {
            listener_id: c.s,
            activity: this.yb.svnName,
            instance_id: this.model.get("halt_id"),
            source: "stillListening"
        }, this.model.get("currentUser"))) : R(ww))
    }
    ;
    function RD(b) {
        b.yb = null ;
        R(Ew);
        z.b(ei);
        b.mn.tF()
    }
    f.mK = function(b) {
        null != this.yb && (SD(this, !1, b),
        RD(this))
    }
    ;
    f.KJ = function(b) {
        null != this.yb && (SD(this, !0, b),
        RD(this))
    }
    ;
    function SD(b, c, d) {
        var e = b.model.get("currentUser")
          , h = e.fk
          , e = e.Mh;
        z.b(Qj, {
            svnName: b.yb.svnName,
            activityBenefit: e,
            hoursEarned: e == m.de.Nu() ? h - 1 : h,
            probablyCompleted: c,
            context: d
        })
    }
    f.pK = function(b) {
        k.info("awarding " + b + " for completing SVN activity");
        this.model.get("currentUser").hk = b
    }
    ;
    f.LJ = function(b) {
        var c = b.success;
        k.info("Server reported that the listener " + (c ? " did " : " did not ") + " complete svn activity");
        var d = this.model.get("currentUser");
        if (c)
            TD(this, b.activity.activityBenefit, b.activity.hoursEarned, d),
            s("svn_activity_completed", {
                listener_id: d.s,
                instance_id: this.model.get("halt_id")
            }, d);
        else {
            var e = c = null
              , h = !1
              , l = b.activity.context;
            l && (l.source && (c = l.source),
            l.elapsedTime && (e = l.elapsedTime),
            l.didReachThreshold && (h = l.didReachThreshold));
            h && TD(this, b.activity.activityBenefit, b.activity.hoursEarned, d);
            s("svn_activity_cancelled", {
                listener_id: d.s,
                instance_id: this.model.get("halt_id"),
                activity: b.activity.svnName,
                probablycompleted: b.activity.probablyCompleted,
                source: c,
                interaction_time: e,
                threshold_reached: h
            }, d)
        }
    }
    ;
    function TD(b, c, d, e) {
        c == m.de.ao() ? (QD.offerName = 4 == d ? "uninterrupted4" : "uninterrupted1",
        QD.leadInAudioUrl = 4 == d ? "http://pandora.com/static/creatives/valueExchange/intro-4hr.mp3" : "http://pandora.com/static/creatives/valueExchange/intro-1hr.mp3",
        QD.truexInstanceId = b.model.get("halt_id"),
        z.b(hl, QD)) : e.hk = d
    }
    ;function UD(b) {
        this.model = b;
        new dB({
            model: this.model
        });
        this.model.bind("change:currentUser", r(this, this.Bp));
        z.c(Af, r(this, this.Eq))
    }
    UD.prototype.Eq = function() {
        this.model.set({
            capped: !0
        });
        this.model.set({
            blueBarMessage: null
        });
        R(dv);
        setTimeout(r(this, function() {
            z.b(gi)
        }), 800)
    }
    ;
    UD.prototype.Bp = function() {
        this.model.set({
            capped: !1
        })
    }
    ;
    function VD(b) {
        this.model = b;
        this.model.bind("change:modalPanel", r(this, this.ia));
        this.Jz = new hB({
            model: this.model
        });
        this.hash = W("/gift", !0, !0, !0, r(this, this.by));
        W("/giftredeem", !0, !1, !1, r(this, this.by))
    }
    VD.prototype.by = function(b) {
        this.model.get("hasStations") || this.model.set({
            modalPanel: "REDEMPTION_PANEL"
        });
        b = b.parameters.code;
        null == b && (b = A._data.code,
        A._data.code = null );
        this.Jz.render(b);
        this.hash.update()
    }
    ;
    VD.prototype.ia = function() {
        "REDEMPTION_PANEL" != this.model.get("modalPanel") && this.Jz.dj()
    }
    ;
    function WD(b) {
        function c(b) {
            var c = {};
            _.isString(b) && _.each(b.split("&"), function(b) {
                b = b.split("=");
                c[decodeURIComponent(b[0])] = decodeURIComponent(b[1] || "")
            });
            return c
        }
        this.model = b;
        this.sy = !1;
        W("/land", !0, !0, !0, r(this, function(b) {
            if (!this.sy) {
                this.sy = !0;
                var e = this.model.get("smartLaunchPath");
                if (null == e || 0 == b.path.indexOf("/land/song"))
                    e = b.path;
                this.model.set({
                    smartLaunchPath: null
                });
                if (null != e)
                    if (0 == e.indexOf("/land/")) {
                        var h = e.substring(6).split("/");
                        if (1 < h.length)
                            if ("station" == h[0]) {
                                var l = "fs";
                                "TT0" === h[1] ? l = "" : null != h[2] && (l = h[2]);
                                b = c(b.queryString);
                                z.b(Hi, {
                                    stationCode: l + h[1],
                                    stationName: b.X3 || "",
                                    source: b.lt || ""
                                })
                            } else if ("artist" == h[0])
                                setTimeout(function() {
                                    V(h[1], !1, !1)
                                }, 300);
                            else if ("song" == h[0]) {
                                var p;
                                2 == h.length ? p = "/-/-/" + h[1] : 3 == h.length ? p = "/" + h[1] + "/-/" + h[2] : 4 == h.length && (p = "/" + h[1] + "/" + h[2] + "/" + h[3]);
                                setTimeout(function() {
                                    V(p, !1, !1)
                                }, 300)
                            }
                    } else
                        0 == e.indexOf("/search/") && setTimeout(function() {
                            V(e, !1, !1)
                        }, 300)
            }
        }))
    }
    ;var AC = "expired-phone"
      , BC = "subscribe-phone"
      , CC = "subscription"
      , EC = "subscribe"
      , DC = "expired"
      , FC = "sponsorshipExpired"
      , GC = "subscribe-mdp"
      , HC = "expired-business"
      , tC = {
        BT: AC,
        I0: BC,
        J0: CC,
        m0: "renewal",
        z_: "notneeded",
        G0: EC,
        zT: DC,
        A0: FC,
        H0: GC,
        AT: HC
    };
    function XD(b) {
        this.model = b;
        z.c(Tf, r(this, this.yK));
        for (var c in tC)
            (function(b, c) {
                W("/" + c, !1, !0, !0, r(b, function() {
                    YD(this, c)
                }))
            })(this, tC[c])
    }
    function YD(b, c) {
        var d = b.model.get("currentUser");
        if (null == d || d.p())
            b.model.set({
                postLoginPath: "/" + c
            });
        else {
            d && d.zt && z.b(dl);
            b.model.set({
                modalPanel: su
            });
            $("#mainContent").children().hide();
            if ("renewal" == c) {
                if (d && d.ab() && d.tj) {
                    setTimeout(function() {
                        R(Iu)
                    }, 100);
                    return
                }
                if (d && !Yn(d))
                    c = "notneeded";
                else {
                    if (d && (Xn(d) || d.u == m.v.lg())) {
                        setTimeout(function() {
                            V("/subscriptionInfo", !1, !1)
                        }, 100);
                        return
                    }
                    if (d && d.sb != m.sa.Zn()) {
                        R(ev);
                        return
                    }
                }
            }
            b.Bl = new gB({
                model: b.model,
                hashTag: c
            });
            $("#mainContent").append(b.Bl.render().el)
        }
    }
    XD.prototype.yK = function() {
        this.Bl && (this.Bl.trigger("close"),
        this.Bl = null )
    }
    ;
    function ZD(b) {
        this.model = b;
        this.id = (new Date).getTime();
        this.tr = [];
        this.Ag = null ;
        z.c(lg, r(this, this.NI));
        z.c(Kk, r(this, this.tI));
        this.model.bind("change:currentTrack", r(this, this.qI));
        this.model.bind("change:currentStation", r(this, this.oI));
        this.model.bind("change:musicPlaying", r(this, this.tJ))
    }
    f = ZD.prototype;
    f.NI = function(b) {
        if (null != b && 0 != b.length)
            if (this.model && this.model.get("siteLocked") && "ext_sv_panel_close" != b[0] && "ext_saaos" != b[0] && "ext_saaof" != b[0] && "ext_sv_min_activity_completed" != b[0])
                k.info("cannot exceute " + b[0] + " while site is locked");
            else {
                var c = b[0];
                this[c] && this[c].apply(this, b.slice(1))
            }
    }
    ;
    f.tI = function(b) {
        (b = $(b)) && 0 != b.length && (b = Be() ? b[0].contentDocument : b[0].contentWindow.document) && (b = b.getElementById("adContainer")) && (this.Ag = (b = /\d+:\d+/g.exec(b.innerHTML)) && 0 < b.length ? b[0] : null )
    }
    ;
    f.qI = function() {
        null != this.Or && ($D(this, "songEnded", this.Or),
        this.Or = null );
        var b = this.model.get("currentTrack");
        null != b && (b = aE(this, b),
        $D(this, "songPlayed", b),
        this.Or = b)
    }
    ;
    f.oI = function() {
        var b = this.model.get("currentStation");
        null != this.Nr && ($D(this, "stationEnded", this.Nr),
        this.Nr = null );
        null != b && (b = bE(b),
        $D(this, "stationPlayed", b),
        this.Nr = b)
    }
    ;
    f.tJ = function() {
        var b = this.model.get("currentTrack");
        if (null != b) {
            var c = this.model.get("musicPlaying")
              , b = aE(this, b);
            c ? $D(this, "songPlayed", b) : $D(this, "songPaused", b)
        }
    }
    ;
    function aE(b, c) {
        var d = null ;
        if (null != c && (d = {
            songName: c.Ja,
            artistName: c.Y(),
            albumName: c.jb,
            albumArtUrl: c.ub(),
            musicToken: c.Za() ? c.Za() : c.Bv + ":" + c.MC,
            stationToken: c.e(),
            songURL: mn() + c.$g(),
            artURL: c.ub()
        },
        null != d)) {
            var e = b.model.get("currentUser");
            $.extend(d, {
                allowExplicit: e ? !e.Vb : !0
            })
        }
        return d
    }
    function $D(b, c, d) {
        for (var e = 0; e < b.tr.length; e++)
            rp(b.tr[e], c, d)
    }
    function bE(b) {
        return {
            stationName: b.ca(),
            stationId: b.e(),
            isShared: !b.Z(),
            isQuickMix: b.D()
        }
    }
    ZD.prototype.ext_ping = function(b) {
        rp(b, "pong", this.id)
    }
    ;
    ZD.prototype.ext_registerEventListener = function(b) {
        this.tr.push(b);
        rp(b, "tunerId", this.id);
        var c = this.model.get("currentStation");
        null != c && rp(b, "stationPlayed", bE(c));
        c = this.model.get("currentTrack");
        null != c && rp(b, "songPlayed", aE(this, c))
    }
    ;
    ZD.prototype.ext_play = function() {
        z.b(ei)
    }
    ;
    ZD.prototype.ext_pause = function() {
        z.b(gi)
    }
    ;
    ZD.prototype.ext_pause_for_ad = function() {
        window.setIgnorePauseInteractions(!0);
        z.b(gi)
    }
    ;
    ZD.prototype.ext_lsfi = function(b) {
        isNaN(parseInt(b.substr(0, 2), 10)) || (b = "sh" + b);
        z.b(Ji, {
            stationCode: b,
            source: this.Ag
        })
    }
    ;
    ZD.prototype.ext_lsfmi = function(b) {
        "TT0" !== b && 0 != b.indexOf("m") && (b = "mi" + b);
        z.b(Hi, {
            stationCode: b
        })
    }
    ;
    ZD.prototype.ext_lcswti = function(b) {
        var c;
        c = b.split("|");
        2 == c.length && (b = c[0],
        c = c[1],
        z.b(mi, {
            stationId: b,
            trackToken: c,
            source: this.Ag
        }))
    }
    ;
    ZD.prototype.ext_lsfst = function(b) {
        le(b) && V("/search/" + escape(b), !0, !0)
    }
    ;
    ZD.prototype.ext_lqmfi = function(b) {
        var c = this.model.get("currentUser");
        if (null != c && c.s == b) {
            var c = this.model.get("stationList")
              , d = c.detect(function(c) {
                return c.get("isQuickMix") && c.get("originalCreatorId") == b
            });
            if (null != d) {
                c.trigger("select", d);
                return
            }
        }
        z.b(Hi, {
            stationCode: "qm" + b
        })
    }
    ;
    ZD.prototype.ext_reg = function() {
        V("/account/register", !0, !0)
    }
    ;
    ZD.prototype.ext_sub = function() {
        V("/subscriptionInfo", !0, !0)
    }
    ;
    ZD.prototype.ext_renew = function() {
        V("/renewal", !0, !0)
    }
    ;
    ZD.prototype.ext_no_renew = function() {
        z.b(Gj)
    }
    ;
    ZD.prototype.ext_acct_msg = function(b) {
        this.model.set({
            blueBarMessage: null
        });
        z.b(Xj, b)
    }
    ;
    ZD.prototype.ext_saaos = function() {
        R(Cw)
    }
    ;
    ZD.prototype.ext_saaof = function() {
        R(Dw)
    }
    ;
    ZD.prototype.ext_demog_ad = function() {
        var b = this.model.get("currentUser");
        null != b && window.ad_demog_callback(b.X, b.Eb())
    }
    ;
    ZD.prototype.ext_sub_state = function() {
        var b = this.model.get("currentUser");
        null != b && (window.listener_state = b.u)
    }
    ;
    ZD.prototype.ext_vid = function(b) {
        b = b.split("=");
        z.b(al, {
            key: b[0],
            value: b[1],
            isUserInitiated: !0
        })
    }
    ;
    ZD.prototype.ext_fvid = function() {
        k.info("Not yet implemented: ext_fvid")
    }
    ;
    ZD.prototype.ext_movie = function(b, c) {
        var d = Fd()
          , e = null
          , h = {
            url: b,
            skipDelaySeconds: 15,
            showScrubber: !1
        }
          , l = b.match("&?skipDelaySeconds=([0-9]+)");
        if (l) {
            h.url = b.replace(l[0], "");
            try {
                h.skipDelaySeconds = Math.max(0, parseInt(l[1], 10))
            } catch (p) {
                trackJs.track(p)
            }
        }
        if (l = b.match("&?showScrubber=(true|false)"))
            h.url = b.replace(l[0], ""),
            h.showScrubber = "true" == l[1];
        for (var l = ["startUrl", "firstQuartileUrl", "secondQuartileUrl", "thirdQuartileUrl", "completeUrl"], q = 0; q < l.length; q++) {
            var t = l[q]
              , y = b.match("&?" + t + "=([^&]+)");
            y ? (h.url = b.replace(y[0], ""),
            h[t] = decodeURIComponent(y[1])) : h[t] = null
        }
        if (q = h.startUrl)
            l = q.match("cid::([0-9]+)"),
            q = q.match("aid::([0-9]+)"),
            l && q ? (q = q[1],
            h.creativeId = l[1],
            h.adId = q) : (h.creativeId = null ,
            h.adId = null );
        z.c(Vk, r(this, function() {
            e = Fd();
            "function" == typeof c && c({
                epochAtLaunch: d.toString(),
                epochAtDismiss: e.toString(),
                viewingDuration: (e - d).toString()
            });
            z.pa(this, Vk)
        }));
        d = Fd().toString();
        h.url = "file=" + h.url;
        z.b(cl, h)
    }
    ;
    ZD.prototype.ext_dis_video_ads = function() {
        z.b($k)
    }
    ;
    ZD.prototype.ext_lss = function() {
        setTimeout(r(this, function() {
            R(Yu, {
                mode: "station_and_song",
                station: this.model.get("currentStation"),
                track: this.model.get("currentTrack")
            })
        }), 1)
    }
    ;
    ZD.prototype.ext_nss = function() {
        z.b(ei)
    }
    ;
    ZD.prototype.ext_add_vrty = function(b) {
        setTimeout(function() {
            R($u, b)
        }, 1)
    }
    ;
    ZD.prototype.ext_share = function() {
        setTimeout(r(this, function() {
            R(Yu, {
                mode: "station_and_song",
                station: this.model.get("currentStation"),
                track: this.model.get("currentTrack")
            })
        }), 1)
    }
    ;
    ZD.prototype.ext_share_station = function(b) {
        setTimeout(r(this, function() {
            var c = this.model.get("currentStation")
              , d = this.model.get("currentTrack");
            if (b)
                for (var e = this.model.get("stationList").models, h = 0; h < e.length; h++)
                    e[h].e() == b && (c = e[h]);
            R(Yu, {
                station: c,
                track: d
            })
        }), 1)
    }
    ;
    ZD.prototype.ext_share_track = function(b) {
        setTimeout(r(this, function() {
            var c = this.model.get("currentStation")
              , d = this.model.get("currentTrack");
            if (b)
                for (var e = this.model.get("stationList").models, h = 0; h < e.length; h++)
                    if (e[h].Cb())
                        for (var l = e[h].n._tracks, p = 0; p < l.length; p++)
                            l[p].o() == b && (d = l[p]);
            R(Yu, {
                station: c,
                track: d
            })
        }), 1)
    }
    ;
    ZD.prototype.ext_rst = function() {
        k.info("Not yet implemented: ext_rst")
    }
    ;
    ZD.prototype.ext_friends = function() {
        V("/feed", !0, !0)
    }
    ;
    ZD.prototype.ext_genre = function(b, c) {
        var d = "/music";
        le(b) && (d += "/" + encodeURI(b.toLowerCase()));
        le(c) && (d += "/" + encodeURI(c.toLowerCase()));
        V(d, !0, !0)
    }
    ;
    ZD.prototype.ext_play_sample = function(b) {
        function c() {
            z.b(Pi, {
                url: b[d].url,
                gain: b[d].gain
            });
            d++;
            d < b.length && z.pa(this, hf)
        }
        var d = 0;
        z.c(hf, r(this, function(b) {
            b.reachedEnd && setTimeout(r(this, c), 100)
        }));
        c()
    }
    ;
    ZD.prototype.ext_stop_sample = function() {
        z.b(Qi)
    }
    ;
    ZD.prototype.ext_sh_sc = function() {
        k.info("Not yet implemented: ext_sh_sc")
    }
    ;
    ZD.prototype.ext_sv_panel_close = function() {
        R(zw)
    }
    ;
    ZD.prototype.ext_sv_min_activity_completed = function() {
        R(yw)
    }
    ;
    ZD.prototype.ext_sv_panel_cancel = function() {
        R(ww, {
            source: "truex_creative_cancel"
        })
    }
    ;
    ZD.prototype.ext_event = function(b) {
        var c;
        if ("string" === typeof b || b instanceof String)
            try {
                c = JSON.parse("" + b)
            } catch (d) {
                trackJs.track(d);
                k.error('error parsing json from sendEvent: "' + b + '"', d);
                return
            }
        else if ("object" === typeof b)
            c = b;
        else {
            k.error('invalid sendEvent parameter: "' + b + '"');
            return
        }
        z.b(Zk, c)
    }
    ;
    ZD.prototype.ext_log_tap = function(b, c) {
        var d = {
            station_id: this.model.get("currentStation").e(),
            event: b,
            metadata: c
        };
        s("tap_ad_template", d, this.model.get("currentUser"))
    }
    ;
    ZD.prototype.ext_vx = function(b, c) {
        var d = b.offerName;
        if (d) {
            var e = b.rewardProperties;
            if (e) {
                var h = e.lineId
                  , l = e.creativeId;
                if ((null == h || null == l) && this.Ag) {
                    var p = this.Ag.split(":");
                    2 == p.length && (h = p[0],
                    l = p[1])
                }
                z.c(il, r(this, function() {
                    setTimeout(function() {
                        try {
                            c && "function" == typeof c && c({
                                success: "false"
                            })
                        } catch (b) {
                            trackJs.track(b)
                        }
                    }, 1);
                    z.pa(this, il);
                    z.pa(this, jl)
                }));
                z.c(jl, r(this, function() {
                    setTimeout(function() {
                        try {
                            c && "function" == typeof c && c({
                                success: "true"
                            })
                        } catch (b) {
                            trackJs.track(b)
                        }
                    }, 1);
                    z.pa(this, il);
                    z.pa(this, jl)
                }));
                z.b(hl, {
                    offerName: d,
                    brandName: e.brandName,
                    lineId: h,
                    creativeId: l,
                    offerButtonLabel: e.offerButtonLabel,
                    offerButtonUrl: e.offerButtonUrl,
                    leadInBannerUrl: e.leadInBannerUrl,
                    leadInAudioUrl: e.leadInAudioUrl,
                    signature: e.signature,
                    vxOffer: e.vxOffer
                })
            } else
                c && "function" == typeof c && c({
                    success: "false",
                    reason: "Reward properties not specified."
                })
        } else
            c && "function" == typeof c && c({
                success: "false",
                reason: "Offer name not specified."
            })
    }
    ;
    ZD.prototype.ext_delay_ad_refresh = function(b) {
        z.b(ol, {
            delaySeconds: b,
            currentLineIdCreativeId: this.Ag
        })
    }
    ;
    function cE(b) {
        this.model = b;
        this.model.bind("change:capped", r(this, this.Yi));
        this.model.bind("change:expired", r(this, this.Yi));
        this.model.bind("change:inactive", r(this, this.hJ));
        this.model.bind("change:forceRegistration", r(this, this.Yi));
        this.model.bind("change:resettingPassword", r(this, this.Yi));
        this.model.bind("change:siteLocked", r(this, this.Hq));
        z.c(Ze, r(this, this.EJ));
        this.aB = !0
    }
    cE.prototype.hJ = function() {
        z.b(Ik, !this.model.get("inactive"));
        this.Yi()
    }
    ;
    cE.prototype.Yi = function() {
        var b = this.model.get("capped") || this.model.get("expired") || this.model.get("inactive") || this.model.get("forceRegistration") || this.model.get("resettingPassword");
        this.model.set({
            siteLocked: b
        })
    }
    ;
    cE.prototype.Hq = function() {
        this.model.get("siteLocked") || !this.UL && !this.aB || setTimeout(function() {
            z.b(ei)
        }, 500);
        this.model.get("siteLocked") && (this.UL = this.model.get("musicPlaying") || this.model.get("resettingPassword"),
        setTimeout(function() {
            z.b(gi)
        }, 1E3))
    }
    ;
    cE.prototype.EJ = function(b) {
        var c = !1;
        if (this.model.get("idle") && b && !1 == b.userInitiated) {
            c = !0;
            this.aB = !1;
            this.model.set({
                inactive: !0
            });
            z.b(gi);
            V("/inactive", !0, !0);
            this.model.set({
                halt_id: ud()
            });
            b = this.model.get("currentUser");
            var d = b.u;
            s("listener_idle", {
                active: "false",
                halt_id: ud(),
                listener_state: d,
                vendor_id: u,
                device_id: we
            }, b)
        }
        z.b($e, {
            siteLocked: c
        })
    }
    ;
    function dE(b) {
        this.model = b;
        this.Dc = null ;
        this.sj = new oA({
            model: this.model
        });
        W("/account/startTrial", !0, !1, !1, r(this, this.qz));
        S(mx, r(this, this.qz));
        z.c(ag, r(this, this.Wr));
        z.c(He, r(this, this.$a));
        W("/" + FC, !1, !1, !1, r(this, this.yN));
        S(Rv, r(this, this.dN))
    }
    f = dE.prototype;
    f.debug = function(b) {
        k.debug("ComplimentaryTrialController : ", arguments)
    }
    ;
    f.qz = function(b) {
        this.debug("Start trial request", b);
        var c = (b.path ? b.path.split("/") : null )[3];
        this.debug("Complimentary trial for ", c);
        c && (setTimeout(r(this, function() {
            C.qx(c, !0, r(this, function(b) {
                this.Dc = b
            }), r(this, function() {}))
        }), 1),
        z.b(Wj, {
            sponsor: c,
            referrer: this.referrer
        }))
    }
    ;
    f.$a = function(b) {
        this.debug("Listener data : ", b);
        if (b) {
            b = b.ol;
            var c = this.model.get("expired");
            b && !0 !== c && eE(this, b, !1)
        }
    }
    ;
    f.Wr = function(b) {
        if (b = b.sponsor)
            R(Iu),
            eE(this, b, !0)
    }
    ;
    function eE(b, c, d) {
        0 == c.toLowerCase().indexOf("pandora") ? (b.debug("Looks like a pandora trial", c),
        fE(b, {}, d)) : b.Dc && b.Dc.sponsor == c ? fE(b, b.Dc, d) : C.qx(c, d, r(b, function(b) {
            fE(this, b, d)
        }), r(b, function() {}))
    }
    function fE(b, c, d) {
        function e(b) {
            void 0 == b.initialSkin && R(Hv)
        }
        b.Dc = c;
        b.debug("Got trial data", b.Dc);
        var h = 1;
        d && (b.Dc.prerollValue ? (z.b(bl, {
            key: "advertiser",
            value: b.Dc.prerollValue,
            isUserInitiated: !1,
            callback: function() {
                e(c)
            }
        }),
        h = 200) : e(c));
        var l = c.skinClickThroughUrl;
        l ? (b.debug("Loading click through url " + l),
        b.sj.render(l)) : b.sj.hb();
        z.b(bg, b.Dc);
        l = b.model.get("currentUser");
        !d && (null != b.model.get("currentSkinPath") || l && l.Ci) || setTimeout(function() {
            R(Qv, "/skins/" + c.initialSkin)
        }, h)
    }
    f.dN = function(b) {
        b && (!0 === b.sponsored ? this.sj.kc() : this.sj.hb())
    }
    ;
    f.yN = function() {
        C.$O();
        this.sj.hb();
        z.b(cg, this.Dc)
    }
    ;
    function gE(b) {
        this.model = b;
        this.Dc = null ;
        this.KQ = new oB({
            model: this.model
        });
        this.hash = W("/trial", !0, !0, !1, r(this, this.Vr))
    }
    gE.prototype.Vr = function(b) {
        this.debug("Start trial request", b);
        b = (b.path ? b.path.split("/") : null )[2];
        this.debug("Sponsored trial for ", b);
        b && (this.KQ.render(b),
        this.hash.update(b))
    }
    ;
    gE.prototype.debug = function(b) {
        k.debug("SponsoredTrialController : ", arguments)
    }
    ;
    function hE(b) {
        this.model = b;
        this.view = new AB({
            model: this.model
        });
        this.FL = this.$b = null ;
        z.c(ml, r(this, this.cK));
        z.c(nl, r(this, this.bK));
        this.model.bind("change:currentStation", r(this, this.Iq));
        this.model.bind("change:currentTrack", r(this, this.Kq))
    }
    f = hE.prototype;
    f.cK = function(b) {
        b instanceof Wp ? this.tt(b) : k.info("Can't start sponsored listening mode with an invalid reward:", b)
    }
    ;
    f.bK = function() {
        iE(this)
    }
    ;
    f.Iq = function() {
        if (null != this.$b) {
            var b = this.model.get("currentUser")
              , c = this.model.get("currentStation");
            !b.J() || c && C.za(c) ? this.view.Vq() : this.view.qA()
        }
    }
    ;
    f.Kq = function() {
        null != this.$b && this.model.get("audioAdPlaying") && z.b(hi, {
            appSkip: !0
        })
    }
    ;
    f.tt = function(b) {
        this.model.get("audioAdPlaying") && z.b(hi, {
            appSkip: !0
        });
        this.$b && (clearInterval(this.$b),
        this.$b = null );
        this.FL = b.Xg();
        var c = b.VD
          , d = b.WD
          , e = this.model.get("currentUser")
          , h = this.model.get("currentStation")
          , l = h && C.za(h);
        this.view.tt(b.XC, b.hD, b.gD, b.JD, b.KD, Xp(b), c / d, !e.J() || !h || l);
        this.ed("vx_status_bar_shown", b, e);
        var p = Math.max(1, d / 360)
          , h = 1E3 * p
          , q = c;
        this.$b = setInterval(r(this, function() {
            q -= p;
            this.view.cR(q, d);
            0 >= q && (iE(this),
            clearInterval(this.$b),
            this.$b = null ,
            z.b(nl),
            this.ed("value_exchange_end", b, e))
        }), h)
    }
    ;
    function iE(b) {
        null != b.$b && (b.view.BF(),
        null != b.$b && (clearInterval(b.$b),
        b.$b = null ))
    }
    f.ed = function(b, c, d) {
        s("value_exchange", {
            action: b,
            line_id: c.Yh,
            creative_id: c.Hc,
            offer_name: c.Mk,
            truex_instance_id: c.So,
            vendor_id: u,
            device_id: we
        }, d)
    }
    ;
    function jE(b) {
        this.model = b;
        z.c(tk, r(this, this.vj));
        z.c(pk, r(this, this.vj));
        z.c(Yh, r(this, this.iM));
        z.c(Wh, r(this, this.hM));
        this.hash = W("/one/paypal/trial", !0, !0, !1, r(this, this.Vr))
    }
    f = jE.prototype;
    f.Vr = function() {
        this.dg = mp("token");
        if (this.nr || me(this.dg))
            setTimeout(function() {
                V("/", !1, !1)
            }, 100);
        else {
            var b = this.model.get("currentUser");
            b && (this.Oj = b.u,
            b.u = "COMPLIMENTARY");
            this.nr = !0;
            z.b(sk, [this.dg, gp()])
        }
    }
    ;
    f.vj = function() {
        var b = mb();
        (new X({
            message: b
        })).render();
        z.b(Dg);
        R(Iu)
    }
    ;
    f.iM = function() {
        this.zm()
    }
    ;
    f.hM = function() {
        this.zm()
    }
    ;
    f.zm = function() {
        var b = this.model.get("currentUser");
        b && this.Oj && (b.u = this.Oj);
        R(Iu)
    }
    ;
    function kE(b) {
        this.model = b;
        z.c(ai, r(this, this.qM));
        this.hash = W("/one/paypal/gift", !0, !0, !1, r(this, this.vM))
    }
    kE.prototype.vM = function() {
        var b = mp("token")
          , c = mp("code");
        if (this.nr || me(b))
            setTimeout(function() {
                V("/", !1, !1)
            }, 100);
        else {
            var d = this.model.get("currentUser");
            d && (this.Oj = d.u,
            d.u = "COMPLIMENTARY");
            this.nr = !0;
            z.b(Ck, [b, c])
        }
    }
    ;
    kE.prototype.qM = function() {
        (new X({
            message: oc()
        })).render();
        var b = this.model.get("currentUser");
        b && this.Oj && (b.u = this.Oj);
        R(Iu)
    }
    ;
    function lE(b) {
        this.model = b;
        S(av, r(this, this.bG));
        S(Vu, r(this, this.sE));
        S(Wu, r(this, this.XF));
        S(Xu, r(this, this.AO));
        S(tv, r(this, this.VF));
        S(uv, r(this, this.aG))
    }
    f = lE.prototype;
    f.bG = function(b) {
        var c = b.musicID
          , d = b.stationID;
        b = b.isPositive;
        null != c && 0 != c.length && null != d && null != b && this.execute({
            method: "bookmark.deleteFeedback",
            isPositive: b,
            musicID: c,
            stationID: d
        }, r(this, function() {
            R(hw, null )
        }), "Could not delete feedbacks", !0)
    }
    ;
    f.sE = function(b) {
        null != b.Qo && "" != b.Qo && this.execute({
            method: "comment.addComment",
            commentMode: "add",
            commentTargetID: b.Kv,
            commentType: b.C(),
            commentText: b.Qo,
            isprivate: b.BD
        }, r(this, function(c) {
            c = c.result;
            c.targetId = b.Kv;
            var d = this.model.get("currentUser");
            null != d && (c.webName = d.X,
            d.Ea && (b.fbid = d.Ea),
            c.clientCommentType = b.C());
            R(ew, c)
        }), "Could not add comment", !0)
    }
    ;
    f.XF = function(b) {
        this.execute({
            method: "comment.deleteComment",
            commentID: b
        }, r(this, function() {}), "Could not delete comment", !0)
    }
    ;
    f.AO = function(b) {
        this.execute({
            method: "comment.reportComment",
            commentID: b
        }, r(this, function() {
            var c = $(".notes .comment_box[data-noteid=" + b + "]");
            c.addClass("reported_comment");
            c.wrapInner('<div class="reported_comment_content"></div>');
            c.append('<div class="reported_comment_overlay"><div class="reported_comment_message"><div class="thanks">Thank you</div> <div>This comment has been marked as inappropriate.</div></div></div>');
            setTimeout(function() {
                c.slideUp()
            }, 2E3)
        }), "Could not report comment", !0)
    }
    ;
    f.VF = function(b) {
        var c = b.section;
        this.execute({
            method: "bookmark.deleteArtistBookmark",
            bookmarkID: b.bookmarkId
        }, r(this, function() {
            R(mw, c)
        }), "Could not delete bookmark", !0)
    }
    ;
    f.aG = function(b) {
        var c = b.section;
        this.execute({
            method: "bookmark.deleteSongBookmark",
            bookmarkID: b.bookmarkId
        }, r(this, function() {
            R(nw, c)
        }), "Could not delete bookmark", !0)
    }
    ;
    f.execute = function(b, c, d, e) {
        z.b(dg, b);
        var h = this.model.get("currentUser");
        return null != h ? (b.at = h.jg,
        $.ajax({
            url: "/services/ajax/",
            dataType: "json",
            traditional: !0,
            data: b,
            success: r(this, function(h) {
                z.b(eg, b);
                "ok" == h.stat ? c(h) : 1013 == h.code ? z.b(Sg) : 1010 <= h.code && 1012 >= h.code ? z.b(Jh) : 1020 == h.code ? z.b(Kh) : mE("Bad response: " + h.stat, r(this, function() {
                    this.execute(b, c, d, e)
                }), function() {
                    k.error(d)
                })
            }),
            error: function(h, p, q) {
                mE(q, r(this, function() {
                    this.execute(b, c, d, e)
                }), function() {
                    k.error(d)
                })
            }
        })) : null
    }
    ;
    function KA(b, c, d, e) {
        z.b(dg, b);
        var h = (new Date).getTime();
        lE.latestCallId = h;
        $.post(b, c).success(function(l, p) {
            z.b(eg, b);
            if (lE.latestCallId != h)
                k.info("cancelling ajax call: " + b + " [" + h + "]");
            else if ("success" == p)
                d(l, p);
            else {
                var q = "Bad status=" + p;
                mE(q, function() {
                    KA(b, c, d, e)
                }, function() {
                    nE(p, q, d, e)
                })
            }
        }).error(function(l, p, q) {
            if (lE.latestCallId != h)
                k.info("cancelling ajax call: " + b + " [" + h + "]"),
                z.b(eg, b);
            else {
                var t = q.replace(/\+/g, " ");
                mE(t, function() {
                    KA(b, c, d, e)
                }, function() {
                    nE(p, t, d, e)
                })
            }
        })
    }
    function bA(b, c, d, e, h) {
        z.b(dg, b);
        var l = (new Date).getTime();
        lE.latestCallId = l;
        $.get(b, c).success(function(p, q) {
            z.b(eg, b);
            if (lE.latestCallId != l)
                k.info("cancelling ajax call: " + b + " [" + l + "]");
            else if ("success" == q)
                d(p, q);
            else {
                var t = "Bad status=" + q;
                h ? (z.b(eg, b),
                nE(q, t, d, e)) : mE(t, function() {
                    bA(b, c, d, e)
                }, function() {
                    nE(q, t, d, e)
                })
            }
        }).error(function(p, q, t) {
            var y = String(t).replace(/\+/g, " ");
            h ? (z.b(eg, b),
            nE(q, y, d, e)) : mE(y, function() {
                lE.latestCallId != l ? (k.info("cancelling ajax call: " + b + " [" + l + "]"),
                z.b(eg, b)) : bA(b, c, d, e)
            }, function() {
                nE(q, y, d, e)
            })
        })
    }
    function nE(b, c, d, e) {
        e ? e(b, c) : d('<div class="ajax_error_message">' + c + "</div>", "success")
    }
    function mE(b, c, d) {
        z.b(eg, "error handler");
        b = new X({
            message: Rb([b]),
            persist: !0,
            retry: !0
        });
        b.bind("retry", function() {
            c()
        });
        b.bind("close", function() {
            d()
        });
        b.render()
    }
    ;function oE(b) {
        this.model = b;
        this.Ab = {};
        S(Ku, r(this, this.Pl));
        S(Sv, r(this, this.Bq));
        z.c(He, r(this, this.$a))
    }
    oE.prototype.Pl = function(b) {
        var c = this.Ab[b.o()];
        if (null != c)
            R(Sv, c);
        else {
            var d = (c = this.model.get("currentUser")) && c.Vb
              , d = {
                url: "/services/ajax/",
                dataType: "text",
                context: b.o(),
                data: {
                    method: "lyrics.getLyrics",
                    trackUid: b.o(),
                    lyricId: d ? b.zv : b.Zh,
                    check: d ? b.fv : b.kq(),
                    nonExplicit: d
                },
                success: this.Tr,
                error: function(c, d, l) {
                    mE(l, r(this, function() {
                        this.Pl(b)
                    }), function() {
                        k.info("error", c, d, l)
                    })
                }
            };
            c && c.jg && $.extend(d.data, {
                at: c.jg
            });
            $.ajax(d)
        }
    }
    ;
    oE.prototype.Tr = function(b) {
        b = eval("var tmp = " + b + "; tmp;");
        "ok" == b.stat && function(b, d) {
            var e = window.a;
            window.a = String.fromCharCode;
            var h = b.x(b.lyrics);
            R(Sv, new Jy(h,b.credits,d));
            window.a = e
        }(b, this)
    }
    ;
    oE.prototype.Bq = function(b) {
        this.Ab[b.o()] = b
    }
    ;
    oE.prototype.$a = function() {
        this.Ab = {}
    }
    ;
    function pE(b) {
        this.model = b;
        this.Ab = {};
        S(Lu, r(this, this.bH))
    }
    pE.prototype.bH = function(b) {
        var c = this.Ab[b.hf];
        if (c)
            R(Tv, c);
        else {
            var c = b.Bo
              , d = this.model.get("currentUser");
            d && d.Vb && c.indexOf("explicit=");
            $.get(b.Bo, {}, r(this, this.dM))
        }
    }
    ;
    pE.prototype.dM = function(b) {
        b = b.artistExplorer || b.composerExplorer;
        null != b && (b = Dy(b),
        this.Ab[b.hf] = b,
        R(Tv, b))
    }
    ;
    Pn.Em = g([G.slice(0, 18), G.slice(18, 274), G.slice(274, 530), G.slice(530, 786), G.slice(786, 1042)]);
    function qE(b) {
        this.model = b;
        z.c(fj, r(this, this.lG))
    }
    qE.prototype.lG = function(b) {
        var c = null
          , d = !1
          , e = new XMLHttpRequest;
        e.onreadystatechange = function() {
            if (4 == e.readyState)
                if (clearTimeout(c),
                200 != e.status)
                    z.b(uh, "bad url shortener response status: " + e.status);
                else if (!d) {
                    var b = e.responseText;
                    me(b) || 0 != b.indexOf("http") ? z.b(uh, "weird url shortener response text: " + b) : z.b(Gg, b)
                }
        }
        ;
        var c = setTimeout(function() {
            z.b(uh, "bitly call has timed out");
            d = !0
        }, 1E4)
          , h = b.songToken
          , l = b.stationToken
          , p = b.shareName
          , q = b.webname;
        b = b.shareServiceName || null ;
        var t = Kd()
          , y = "//" + A._data.proxyHost;
        443 != t && (y += ":" + t);
        y += "/short";
        y = (null != h ? y + "/song" : y + "/station") + ("?webname=" + encodeURIComponent(q));
        y += "&station=" + encodeURIComponent(l);
        null != p && "" != p && (y += "&shareName=" + encodeURIComponent(p));
        y += "&song=" + encodeURIComponent(h);
        b && (y += "&site=" + encodeURIComponent(b));
        k.info("bit.ly request: " + y);
        e.open("GET", y, !0);
        e.send(null )
    }
    ;
    function rE(b) {
        this.model = b;
        z.c(He, r(this, this.$c));
        z.c(nj, r(this, this.Tj));
        z.c(oj, r(this, this.Tj));
        z.c(Gg, r(this, this.oy));
        z.c(uh, r(this, this.II));
        z.c(Eg, r(this, this.vK));
        z.c(Fg, r(this, this.wK));
        z.c(sh, r(this, this.FI));
        S(sv, r(this, this.xK))
    }
    f = rE.prototype;
    f.$c = function(b) {
        this.model.set({
            twitterAuthenticated: null != b && !me(b.$d)
        })
    }
    ;
    f.xK = function() {
        this.Ho = !0;
        sE(this)
    }
    ;
    f.Tj = function(b) {
        b.doTwitter && !this.LQ && (this.fq = 0,
        this.Ok = b,
        b.shortenedUrl ? this.oy(b.shortenedUrl) : z.b(fj, {
            songToken: b.isSongShare ? b.songDetailToken : null ,
            stationToken: b.stationToken,
            webname: b.webname,
            shareServiceName: "twitter",
            shareName: b.shareName
        }))
    }
    ;
    f.oy = function(b) {
        this.YD = b;
        b = this.model.get("currentUser");
        me(b.$d) ? sE(this) : tE(this)
    }
    ;
    f.II = function(b) {
        z.b(rh, "failed to shorten url. " + b)
    }
    ;
    function sE(b) {
        b.fq++;
        if (3 < b.fq)
            z.b(rh, "unable to authenticate with twitter.  failed authentication " + b.fq + " times"),
            b.LQ = !0;
        else {
            var c = b.model.get("currentUser")
              , c = uE(b).sign({
                path: "https://api.twitter.com/oauth/request_token",
                parameters: {
                    oauth_callback: kn() + "twitter/oauthAuthorizationCallback.jsp"
                },
                signatures: {
                    consumer_key: c.un,
                    shared_secret: c.vn
                }
            })
              , d = window.open("about:blank", "oauth");
            vE(b, "/oauth/" + c.signed_url.substring(c.signed_url.indexOf("request_token")), function(b) {
                null == b || 0 != b.indexOf("oauth_token") ? z.b(rh, "unable to authenticate with twitter") : null == d ? z.b(rh, "twitter authentication blocked by popup blocker") : (d.location.href = "https://api.twitter.com/oauth/authorize?" + b,
                d.focus())
            })
        }
    }
    function vE(b, c, d, e) {
        var h = !1
          , l = setTimeout(function() {
            h = !0;
            z.b(rh, "twitter communication timed out")
        }, 1E4);
        $.ajax({
            type: "POST",
            url: "/twitter" + c,
            data: e ? e : null ,
            success: r(b, function(b) {
                clearTimeout(l);
                h || d(b)
            }),
            error: r(b, function(b) {
                clearTimeout(l);
                z.b(ij, {});
                z.b(rh, "twitter responded with error: " + b)
            }),
            dataType: "html"
        })
    }
    f.vK = function(b) {
        var c = b.token;
        b = b.verifier;
        if (me(c))
            z.b(rh, "Unable to authenticate with twitter - twitter failed to return a request token");
        else if (me(b))
            z.b(rh, "Unable to authenticate with twitter - twitter failed to return a verifier");
        else {
            var d = this.model.get("currentUser")
              , c = uE(this).sign({
                path: "https://api.twitter.com/oauth/access_token",
                parameters: {
                    oauth_token: c
                },
                signatures: {
                    consumer_key: d.un,
                    shared_secret: d.vn
                }
            });
            vE(this, "/oauth/" + c.signed_url.substring(c.signed_url.indexOf("access_token")), function(b) {
                if (me(b))
                    z.b(rh, "Unable to authenticate with twitter - unable to fetch access tokens [" + b + "]");
                else {
                    var c = b.split("&");
                    b = ("" + c[0]).split("=")[1];
                    c = ("" + c[1]).split("=")[1];
                    me(b) || me(c) ? (z.b(ij, {}),
                    z.b(rh, "Unable to authenticate with twitter - authorization denied")) : z.b(ij, {
                        twitterShareUserKey: b,
                        twitterShareUserSecret: c
                    })
                }
            }, {
                oauth_verifier: b
            })
        }
    }
    ;
    function tE(b) {
        var c = b.model.get("currentUser")
          , d = uE(b)
          , e = 0 == b.Ok.userMessage.length ? b.Ok.defaultTwitterMessage : b.Ok.userMessage
          , h = " " + b.YD + (e.match(/#pandora/i) ? "" : " #Pandora");
        140 < (e + h).length && (h = "..." + h,
        e = e.substr(0, 140 - h.length));
        c = d.sign({
            path: "https://api.twitter.com/1.1/statuses/update.json",
            parameters: {
                status: e + h
            },
            signatures: {
                consumer_key: c.un,
                shared_secret: c.vn,
                oauth_token: c.$d,
                oauth_secret: c.Rh
            }
        });
        vE(b, "/statuses/" + c.signed_url.substring(c.signed_url.indexOf("update")), r(b, function(b) {
            me(b) ? z.b(rh, "Unable to post to twitter - twitter failed to respond") : (b = eval("(" + b + ")"),
            null != b.error ? -1 != b.error.toLowerCase().indexOf("authenticate") ? (z.b(ij, {}),
            sE(this)) : z.b(rh, "Unable to post to twitter: " + b.error) : z.b(Hg, {
                twitter: !0,
                twitterHandle: b.user && b.user.screen_name ? b.user.screen_name : ""
            }))
        }))
    }
    f.wK = function(b) {
        var c = this.model.get("currentUser");
        null == b ? (c.$d = null ,
        c.Rh = null ,
        this.Ho = !1,
        this.model.set({
            twitterAuthenticated: !1
        })) : (c.$d = b.twitterShareUserKey,
        c.Rh = b.twitterShareUserSecret,
        this.Ho ? (this.Ho = !1,
        this.model.set({
            twitterAuthenticated: !0
        })) : null == this.Ok ? z.b(rh, "Unable to post to twitter - no tweet text") : me(b.twitterShareUserKey) ? z.b(rh, "Unable to post to twitter") : (this.model.set({
            twitterAuthenticated: !0
        }),
        tE(this)))
    }
    ;
    f.FI = function(b) {
        z.b(rh, "Unable to save twitter credentials: " + b)
    }
    ;
    function uE(b) {
        b = b.model.get("currentUser");
        b = new OAuthSimple(b.un,b.vn);
        b.setAction("POST");
        return b
    }
    window.onOAuthCallBack = function(b, c) {
        z.b(Eg, {
            token: b,
            verifier: c
        })
    }
    ;
    function wE(b) {
        this.model = b;
        xE = A._data.facebookConnectPermissions.split(",");
        this.model.bind("change:currentUser", r(this, this.Nm));
        this.model.bind("change:facebookAuthenticated", r(this, this.qp));
        z.c(He, r(this, this.$c));
        z.c(pj, r(this, this.Fw));
        z.c(nj, r(this, this.Ts));
        z.c(oj, r(this, this.Ss));
        z.c(rj, r(this, this.FG));
        z.c(sj, r(this, this.fI));
        z.c(Bg, r(this, this.disconnect));
        z.c(Ag, r(this, this.SI));
        z.c(mg, r(this, this.FJ));
        z.c(Cg, r(this, this.$K));
        S(pv, r(this, this.GG));
        this.yw()
    }
    var yE, zE, AE, BE, xE = [], CE = ["publish_actions"], DE = [];
    function EE(b) {
        k.info("FacebookService.authResponseChange", b);
        yE = b;
        zE || (zE = !0,
        FB.api("/me/permissions", function(b) {
            k.info("FacebookService.authResponseChange got permissions", b);
            AE = b;
            zE = !1
        }))
    }
    window.fbAsyncInit = function() {
        FB.Event.subscribe("auth.authResponseChange", EE);
        FB.Event.subscribe("auth.statusChange", EE);
        FB.init({
            appId: So(),
            version: "v2.2",
            status: !0,
            cookie: !0,
            xfbml: !1,
            channelUrl: mn() + "fb_channel.html"
        });
        BE = !0;
        if (DE)
            for (; 0 < DE.length; )
                DE.shift()()
    }
    ;
    f = wE.prototype;
    f.$K = function(b) {
        var c = this.model.get("currentUser");
        null != c && (Tn(c, b),
        this.Nm(),
        this.$c())
    }
    ;
    f.$c = function() {
        var b = this.model.get("currentUser");
        k.info("FacebookService.initUser: ", b);
        if (null != b && !b.p())
            if (BE)
                if (b.mx)
                    k.info("initUser: server needs access token re-auth"),
                    b.mx = !1,
                    FE(this, r(this, function(c) {
                        k.info("initUser: re-auth - logged in and connected");
                        var d = c.authResponse.accessToken
                          , l = c.authResponse.userID
                          , p = b.Ea;
                        if (null == p || p == l)
                            k.info("initUser: user matches connected, updating short-lived access token"),
                            go(b, l),
                            ho(b, d, c.authResponse.expiresIn);
                        this.$c()
                    }), r(this, function() {
                        k.info("initUser: re-auth - not logged in and/or not connected");
                        this.$c()
                    }));
                else {
                    var c = b.Qc;
                    if (!c && null == b.Ea) {
                        var d = this.model.get("facebookLoginInfo");
                        d && (c = d.access_token,
                        ho(b, c, d.expires_in),
                        go(b, d.id),
                        jo(b, d.name),
                        fo(b, !1))
                    }
                    c && 0 < c.length ? (k.info("User already has an access token, validate that it's good: ", c),
                    FB.api("/me/permissions", {
                        access_token: c
                    }, r(this, function(c) {
                        k.info("initUser permissions response: ", c);
                        (c = c.data) && 0 < c.length ? (k.info("Access token is valid"),
                        GE(this, c[0])) : (k.info("Access token is not valid"),
                        ho(b, null ),
                        HE(this))
                    }))) : HE(this)
                }
            else
                k.info("FacebookService.initialized == false, setting FacebookService.postInitCallback"),
                DE.push(r(this, this.$c))
    }
    ;
    function HE(b) {
        k.info("FacebookService.initUserNoAccessToken");
        FE(b, r(b, function(b) {
            k.info("initUserNoAccessToken: Logged in and connected");
            var d = this.model.get("currentUser")
              , e = b.authResponse.accessToken;
            d.Ea != b.authResponse.userID || d.Pg ? (k.info("initUserNoAccessToken: different user!"),
            fo(d, !0),
            this.model.set({
                facebookAuthenticated: !1
            })) : (k.info("initUserNoAccessToken: Same user, updating access token"),
            ho(d, e, b.authResponse.expiresIn));
            FB.api("/me/permissions", r(this, function(b) {
                k.info("initUserNoAccessToken permissions response: ", b);
                (b = b.data) && 0 < b.length && GE(this, b[0])
            }))
        }), r(b, function() {
            k.info("initUserNoAccessToken: Not logged in and/or not connected");
            this.model.set({
                facebookAuthenticated: !1
            });
            this.qp()
        }))
    }
    function GE(b, c) {
        var d = b.model.get("currentUser");
        null != d && (io(d, c),
        d.Pg ? (k.info("initUserPermissionsCallback: isFbDisconnected = true"),
        b.model.set({
            facebookAuthenticated: !1
        }),
        b.qp()) : (k.info("initUserPermissionsCallback: isFbDisconnected = false"),
        IE(b)))
    }
    function FE(b, c, d) {
        BE && FB.getLoginStatus(r(b, function(b) {
            b.authResponse && "connected" == b.status ? c && c(b) : d && d(b)
        }))
    }
    function IE(b, c) {
        var d = b.model.get("currentUser");
        if (null != d) {
            var e = r(b, function() {
                this.model.set({
                    facebookAuthenticated: !d.Pg
                });
                c && c()
            })
              , h = r(b, function() {
                k.info("saveFbInfo: doesFacebookNeedSave() = ", d.Id);
                if (d.Id) {
                    d.Id = !1;
                    var b = {
                        id: d.Ea,
                        name: d.lc || "",
                        accessToken: d.Qc,
                        accessTokenExpiration: d.AG || "",
                        callback: e
                    };
                    k.info("saveFbInfo: saving", b);
                    z.b(Yj, b)
                } else
                    e()
            })
              , l = d.lc;
            null == l || "" == l ? (k.info("Don't have a full name for the listener, get it from Facebook"),
            b.lq(r(b, function(b) {
                b && jo(d, b);
                h()
            }))) : (k.info("We already have their Facebook name"),
            h())
        }
    }
    f.lq = function(b) {
        var c = this.model.get("currentUser");
        if (null != c && null != c.Ea) {
            var d = {
                fields: "name"
            };
            c.Qc && (d.access_token = c.Qc);
            FB.api("/" + c.Ea, d, function(c) {
                b(c.name)
            })
        } else
            b(null )
    }
    ;
    function JE(b, c, d, e) {
        k.info("doAction");
        var h = b.model.get("currentUser");
        if (null != h)
            if (h.p())
                R(Av, {
                    onSuccessCallback: r(b, function() {
                        JE(this, c, d, e)
                    })
                });
            else if (null != h.Ea && KE(b, c))
                k.info("doAction: User already has permissions, execute callback immediately"),
                fo(h, !1),
                IE(b, d);
            else {
                k.info("doAction: User does not have permissions yet");
                if (b.model.get("facebookAuthenticated"))
                    k.info("doAction: Already connected, we just need to ask for extra permissions");
                else if (k.info("doAction: Not connected in the Pandora backend, possibly still connected in Facebook API"),
                BE && yE && yE.authResponse && "connected" == yE.status) {
                    k.info("doAction: Logged in and connected in Facebook API, using cached permissions", AE);
                    go(h, yE.authResponse.userID);
                    ho(h, yE.authResponse.accessToken, yE.authResponse.expiresIn);
                    var l = AE ? AE.data : null ;
                    if (l && 0 < l.length && (io(h, l[0]),
                    KE(b, c))) {
                        fo(h, !1);
                        IE(b, d);
                        return
                    }
                } else
                    k.info("doAction: Not logged in and/or not connected in Facebook API");
                b.login(d, e)
            }
    }
    function KE(b, c) {
        k.info("hasRequiredPermissions: requiredPermissions=", c);
        var d = b.model.get("currentUser");
        if (null != d && (d = d.Qg,
        k.info("hasRequiredPermissions: fbPermissions = ", d),
        null != d)) {
            for (var e = 0; e < c.length; e++) {
                var h = c[e];
                k.info("hasRequiredPermissions: checking for ", h);
                if (!d[h])
                    return k.info("hasRequiredPermissions: don't have permission, returning false", h),
                    !1
            }
            k.info("hasRequiredPermissions: has ALL permissions, returning true");
            return !0
        }
        k.info("hasRequiredPermissions: returning false");
        return !1
    }
    f.login = function(b, c) {
        k.info("FacebookService.login");
        var d = this.model.get("currentUser");
        null != d && FB.login(r(this, function(e) {
            k.info("FacebookService.login returned: ", e);
            if ("connected" == e.status) {
                var h = e.authResponse;
                FB.api("/me/permissions", r(this, function(e) {
                    k.info("FacebookService.login permissions response: ", e);
                    if ((e = e.data) && 0 < e.length) {
                        var p = {};
                        if (e && e.length)
                            for (var q = 0; q < e.length; q++) {
                                var t = e[q];
                                "granted" === t.status && (p[t.permission] = 1)
                            }
                        io(d, p);
                        if (KE(this, xE)) {
                            k.info("FacebookService.login user has required permissions, saving");
                            go(d, h.userID);
                            ho(d, h.accessToken, h.expiresIn);
                            fo(d, !1);
                            IE(this, b);
                            return
                        }
                    }
                    k.info("FacebookService.login user does NOT have required permissions, fail");
                    go(d, null );
                    z.b(yg);
                    c()
                }))
            } else
                go(d, null ),
                z.b(yg),
                this.model.set({
                    facebookAuthenticated: !1
                }),
                c()
        }), {
            scope: xE.join(",")
        })
    }
    ;
    f.Fw = function(b) {
        JE(this, xE, r(this, function() {
            k.info("FacebookService.connect: success");
            b && b(!0)
        }), r(this, function() {
            k.info("FacebookService.connect: failure");
            b && b(!1)
        }))
    }
    ;
    f.FG = function() {
        if (this.model.get("facebookAuthenticated")) {
            var b = this.model.get("currentUser");
            lo(b, []);
            k.info("FacebookService.fetchFriends: calling /friends");
            FB.api("/me/friends", {
                access_token: b.Qc
            }, function(c) {
                k.info("friends callback: ", c);
                lo(b, c.data);
                z.b(Cf, c.data)
            })
        }
    }
    ;
    f.GG = function(b) {
        var c = b.fbCallback;
        b = "SELECT id,name FROM profile WHERE id in (" + b.fbids.join(",") + ")";
        k.info("FacebookService.fetchNames: executing FQL: ", b);
        BE && FB.api({
            method: "fql.query",
            query: b
        }, c)
    }
    ;
    f.disconnect = function() {
        var b = this.model.get("currentUser");
        b && go(b, null );
        this.model.set({
            facebookAuthenticated: !1
        })
    }
    ;
    f.Ss = function(b) {
        if (b.doFacebook) {
            var c = this.model.get("currentUser"), d = b.artUrl, e;
            e = -1 != d.indexOf("no_album_art.png") ? mn() + "static/images/share_facebook/generic_cover_art_preview.gif" : d;
            e = 0 != e.indexOf("http://") ? "https://www.pandora.com/art/" + e : e;
            d = -1 == d.indexOf("no_album_art") ? d : mn() + d;
            c = To() + "static/fb-share.swf?Song=" + encodeURIComponent(b.songName) + "&Artist=" + encodeURIComponent(b.artistName) + "&Station=" + encodeURIComponent(b.stationName || "") + "&AlbumArt=" + encodeURIComponent(d) + "&SampleTrack=" + encodeURIComponent(To() + "favorites/getSample.jsp?token=" + b.songToken + "&allowExplicit=" + !c.Vb) + "&StationLink=" + encodeURIComponent(b.stationLandingUrl || b.landingUrl);
            (d = b.facebookCaption) || (d = " by " + b.artistName);
            var h = b.facebookDescription;
            h || (h = " on " + b.albumName);
            this.Tj(b.userMessage, b.songName, d, h, b.directUrl, b.landingUrl, e, c)
        }
    }
    ;
    f.Ts = function(b) {
        if (b.doFacebook) {
            var c = b.stationName
              , d = b.facebookDescription
              , e = b.artUrl;
            -1 < c.indexOf("Thumbprint Radio") && (c = "Check out " + c + " on Pandora",
            d = "Inspired by thumbs across all of my stations.",
            e = b.fbShareArt);
            this.Tj(b.userMessage, c, "Listen at Pandora", d, b.directUrl, b.landingUrl, e, null )
        }
    }
    ;
    f.Tj = function(b, c, d, e, h, l, p, q) {
        var t = {
            message: b,
            name: c,
            caption: d,
            description: e,
            actions: [{
                name: "Listen at Pandora",
                link: h
            }],
            link: l,
            picture: p,
            source: q
        };
        b = this.model.get("currentUser");
        null != b && null != b.Qc && (t.access_token = b.Qc);
        JE(this, CE, r(this, function() {
            k.info("FacebookService.share: success");
            FB.api("/me/feed", "post", t, r(this, function(b) {
                k.info("FacebookService.share: post response = ", b);
                !b || b.error ? "OAuthException" == b.error.type ? (z.b(rh, "Could not share to Facebook, you may need to try again."),
                go(this.model.get("currentUser"), null ),
                this.$c()) : z.b(rh, null != b.error ? "facebook responded with an error: " + b.error.message : "unknown error posting to facebook") : z.b(Hg, {
                    facebook: !0
                })
            }))
        }), r(this, function() {
            k.info("FacebookService.share: failure")
        }))
    }
    ;
    f.fI = function() {
        var b = this.model.get("currentUser");
        b && !b.kh ? JE(this, CE, r(this, function() {
            var c = b.Og || b.Ng || b.Mg;
            z.b(Ai, {
                autoShareEnabled: !0,
                autoShareTrackPlay: c ? b.Og : !0,
                autoShareLikes: c ? b.Ng : !0,
                autoShareFollows: c ? b.Mg : !0,
                userInitiated: !0
            })
        }), r(this, function() {})) : (new X({
            message: "You cannot enable auto-share when your profile is set to 'private'"
        })).render()
    }
    ;
    f.SI = function(b) {
        var c = this.model.get("currentUser");
        c.nx = b.facebookSettingChecksum;
        c.El = b.autoShareEnabled;
        c.Og = b.autoShareTrackPlay;
        c.Ng = b.autoShareLikes;
        c.Mg = b.autoShareFollows;
        this.Nm()
    }
    ;
    f.qp = function() {
        if (!this.model.get("facebookAuthenticated")) {
            um(gm, !1);
            var b = this.model.get("currentUser");
            b.El = !1;
            b.Og = !1;
            b.Ng = !1;
            b.Mg = !1;
            this.Nm()
        }
    }
    ;
    f.Nm = function() {
        var b = this.model.get("currentUser")
          , c = this.model.get("autoShare")
          , b = b && b.El && !b.kh;
        this.model.set({
            autoShare: b
        });
        k.info("FacebookService.refreshAutoShareModel", c, b, !0 === om(gm));
        !1 === c && b && !0 !== om(gm) && (new wA,
        um(gm, !0))
    }
    ;
    f.yw = function() {
        var b = $.cookie("_fbat");
        k.info("checkAccessTokenCookie: fbat=", b);
        if (b)
            if (BE) {
                $.cookie("_fbat", null );
                var c = /access_token=([^&]+)/
                  , c = b.match(c);
                k.info("checkAccessTokenCookie: match=", c);
                if (c && 1 < c.length) {
                    var d = c[1]
                      , e = null
                      , c = /expires_in=([^&]+)/;
                    (c = b.match(c)) && 1 < c.length && (e = c[1],
                    k.info("expires_in: ", e));
                    FB.api("/me", {
                        access_token: d
                    }, r(this, function(b) {
                        k.info("checkAccessTokenCookie: response=", b);
                        null == b.error && null != b.id && (b.access_token = d,
                        b.expires_in = e,
                        this.model.set({
                            facebookLoginInfo: b
                        }))
                    }))
                }
            } else
                DE.unshift(r(this, this.yw))
    }
    ;
    f.FJ = function() {
        k.info("FacebookService.handleRegistrationComplete");
        var b = this.model.get("currentUser")
          , c = A._data.fb_ref;
        if (c && 0 < c.length) {
            var d = {
                listener_id: b.s,
                social_network_id: "facebook"
            }
              , e = c.split("_");
            3 <= e.length && (d.shared_listener_token = e[2]);
            0 == c.indexOf("trackplay__") && 4 == e.length && (d.shared_station_id = e[3]);
            s("social_autoshare_new_registration", d, b)
        }
        (c = this.model.get("facebookLoginInfo")) && b && (go(b, c.id),
        ho(b, c.access_token, c.expires_in),
        jo(b, c.name),
        k.info("FacebookService.handleRegistrationComplete: attempting to auto-connect"),
        this.Fw())
    }
    ;
    function LE(b) {
        this.model = b;
        z.c(Ee, r(this, this.Zl));
        z.c(Bi, r(this, this.Zl))
    }
    function yA() {
        var b = 1 == parseInt($.cookie("_sl_ssc"), 10);
        ze("_sl_ssc");
        return b
    }
    LE.prototype.Zl = function() {
        var b = $.cookie("_sl_toast")
          , c = $.cookie("_sl_share_imp")
          , d = $.cookie("_sl_path");
        ze("_sl_toast");
        ze("_sl_share_imp");
        ze("_sl_path");
        (A._data.shareImp || "true" == c) && this.model.set({
            shareFirstImp: !0
        });
        le(b) && (new X({
            message: b
        })).render();
        le(d) && this.model.set({
            smartLaunchPath: d
        })
    }
    ;
    function ME(b) {
        this.model = b;
        this.Ab = {};
        S(Ev, r(this, this.mq));
        z.c(Hf, r(this, this.YI));
        z.c(Df, r(this, this.lJ));
        z.c(Ff, r(this, this.$l));
        z.c(Ef, r(this, this.$l));
        z.c(He, r(this, this.$a))
    }
    f = ME.prototype;
    f.mq = function(b) {
        var c = this.Ab[b.ff + ":" + b.Jc];
        null != c ? R(Uv, c) : z.b(wj, b)
    }
    ;
    f.YI = function(b) {
        this.Ab[b.ff + ":" + b.Jc] = b;
        R(Uv, b)
    }
    ;
    f.lJ = function(b) {
        b = yo(b);
        this.Ab[b.ff + ":" + b.Jc] = b;
        R(Uv, b)
    }
    ;
    f.$l = function(b) {
        b = yo(b);
        b.df = null ;
        this.Ab[b.ff + ":" + b.Jc] = b;
        R(Uv, b)
    }
    ;
    f.$a = function() {
        this.Ab = {}
    }
    ;
    function vz() {
        NE()
    }
    var wz = {};
    function NE() {
        $.ajax({
            url: "/static/videohub/manifest.xml?cb=" + je(),
            dataType: "xml",
            success: function(b) {
                wz = {};
                $.each($("video_page", b), function(b, d) {
                    var e = new Xy(d)
                      , h = e.UC;
                    null != h && "" != h && (wz[h] = e)
                });
                setTimeout(NE, 9E5)
            },
            error: function(b, c) {
                k.error("Could not load videohub manifest", c);
                setTimeout(NE, 9E5)
            }
        })
    }
    ;function OE(b) {
        this.model = b;
        z.c(Re, r(this, this.eh));
        z.c(ti, r(this, this.iJ));
        W("/genre_hint", !0, !0, !1, r(this, this.XI));
        this.Hb = ""
    }
    OE.prototype.eh = function(b) {
        var c = b.Gf();
        if (null != c && "" != this.Hb) {
            for (var d = 0; d < c.length; d++)
                if (null != c[d] && c[d].toLowerCase() == this.Hb.toLowerCase()) {
                    s("create_station_from_hint", {
                        hint_genre: this.Hb,
                        station_id: b.e()
                    }, this.model.get("currentUser"));
                    break
                }
            this.Hb = ""
        }
    }
    ;
    OE.prototype.iJ = function() {
        this.Hb = ""
    }
    ;
    OE.prototype.XI = function(b) {
        de(this, function() {
            var c = b.pathNames;
            this.Hb = c[1];
            V("/music/" + c[1], !0, !0);
            s("hint_genre_clicked", {
                hint_genre: this.Hb
            }, this.model.get("currentUser"))
        }, 100)
    }
    ;
    function PE(b) {
        this.model = b;
        z.c(We, r(this, this.rK));
        z.c(Xe, r(this, this.sK));
        z.c(Ye, r(this, this.qK));
        z.c(Rh, r(this, this.tK))
    }
    PE.prototype.rK = function(b) {
        this.model.get("currentUser") && uo(this.model.get("currentUser")) && s("track_end", {
            reason: b.reason,
            elapsed_seconds: b.elapsed_seconds,
            remaining_seconds: b.remaining_seconds,
            audio_token: b.audio_token,
            vendor_id: u,
            device_code: we,
            device_id: cn()
        }, this.model.get("currentUser"))
    }
    ;
    PE.prototype.sK = function(b) {
        this.model.get("currentUser") && uo(this.model.get("currentUser")) && s("track_fetch", {
            is_prefetch: b.is_prefetch,
            audio_token: b.audio_token,
            vendor_id: u,
            device_code: we,
            device_id: cn()
        }, this.model.get("currentUser"))
    }
    ;
    PE.prototype.qK = function(b) {
        this.model.get("currentUser") && uo(this.model.get("currentUser")) && s("track_buffered", {
            audio_token: b.audio_token,
            vendor_id: u,
            device_code: we,
            device_id: cn()
        }, this.model.get("currentUser"))
    }
    ;
    PE.prototype.tK = function(b) {
        try {
            if (!b.url || "" == b.url)
                throw Error("TrackMonitoringService.handleTrackNotPlayed called with a blank audio receipt URL");
            $.ajax({
                type: "GET",
                crossDomain: !0,
                dataType: "jsonp",
                url: b.url,
                success: function() {},
                error: function(b, c, h) {
                    k.info("Error sending audio receipt url: " + c + ": " + h)
                }
            })
        } catch (c) {
            trackJs.track(c),
            k.info("Exception on ajax call for audio receipt url: ", c)
        }
    }
    ;
    function QE(b) {
        this.model = b;
        this.Ab = {};
        S(nx, r(this, this.EH))
    }
    QE.prototype.EH = function(b) {
        var c = this.model.get("currentUser");
        b = {
            url: "/services/ajax/",
            dataType: "text",
            data: {
                method: "commerce.getSalesTax",
                zipcode: b.Eb(),
                billing_frequency: b.Ya(),
                is_business: b.S(),
                token: b.bE
            },
            success: this.KM,
            error: function(b, c, h) {
                k.info("error", b, c, h);
                R(ox, 0)
            }
        };
        c && c.jg && $.extend(b.data, {
            at: c.jg
        });
        $.ajax(b)
    }
    ;
    QE.prototype.KM = function(b) {
        b = eval("var tmp = " + b + "; tmp;");
        R(ox, {
            tax: b.sales_tax,
            amount: b.amount,
            token: b.token
        })
    }
    ;
    function sn() {
        this.init();
        kC(this.data)
    }
    var Vz = 1E3;
    sn.prototype.init = function() {
        k.info("UserInterface initializing");
        pn("ui-start");
        RE(this);
        this.data = new Backbone.Model({
            booting: !0,
            readonly: !1,
            stationList: new $y,
            hasStations: !1,
            currentStation: null ,
            menuStation: null ,
            currentStationViewIsShuffle: !1,
            stationSortOrderAlpha: !0,
            stationToAutoPlay: null ,
            safeToAutoPlayStation: !0,
            currentTrack: null ,
            selectedTrack: null ,
            trackProgress: null ,
            musicPlaying: !1,
            playerBarEnabled: !0,
            currentUser: null ,
            autoShare: !1,
            currentProfileInfo: null ,
            facebookLoginInfo: null ,
            currentContextualTip: null ,
            currentShuffleType: Ym(),
            anonymousTrialExpired: !1,
            facebookAuthenticated: !1,
            twitterAuthenticated: !1,
            relatedArtists: null ,
            monthlyListening: "0",
            idle: !1,
            keyPressed: null ,
            poisoned: !1,
            sequenceNumber: 1,
            siteLocked: !1,
            capped: !1,
            expired: !1,
            inactive: !1,
            forceRegistration: !1,
            resettingPassword: !1,
            usernameFromResetToken: null ,
            audioAdPlaying: !1,
            videoAdPlaying: null ,
            displayingCompanion: !1,
            shareFirstImp: !1,
            currentVxReward: null ,
            searchText: "",
            searchItemSelectedIndex: -1,
            showingSearchResults: !1,
            searchResults: new az,
            modalPanel: null ,
            profilePanelType: null ,
            lastLowBandwidthNotification: null ,
            blueBarMessage: null ,
            pageShifting: !1,
            currentSkinPath: null ,
            smartLaunchPath: null ,
            postLoginPath: null ,
            narrative: null ,
            songNarrative: null ,
            selectedArtist: null ,
            searchDetails: null ,
            searchSuggestions: {
                similar_artists: [],
                similar_genres: [],
                facebook_favorites: []
            }
        });
        pn("ui-views");
        this.Ch = new oz({
            model: this.data
        });
        new bz({
            model: this.data
        });
        new cz({
            model: this.data
        });
        new fz({
            model: this.data
        });
        new nz({
            model: this.data
        });
        new pz({
            model: this.data
        });
        this.xA = new Tz(this.data);
        this.nQ = new qz({
            model: this.data,
            station_menu: this.xA
        });
        new tz({
            model: this.data
        });
        new uz({
            model: this.data
        });
        new xz({
            model: this.data
        });
        new Az({
            model: this.data
        });
        this.VL = new Pz({
            model: this.data
        });
        this.bQ = new Qz({
            model: this.data
        });
        this.wg = new Zz({
            model: this.data
        });
        new fB({
            model: this.data
        });
        new FA({
            model: this.data
        });
        new GA({
            model: this.data
        });
        new HA({
            model: this.data
        });
        new gA({
            model: this.data
        });
        new JA({
            model: this.data
        });
        new $z({
            model: this.data
        });
        new aA({
            model: this.data
        });
        new xA({
            model: this.data
        });
        new Yz({
            model: this.data
        });
        new bB({
            model: this.data
        });
        new hA({
            model: this.data
        });
        new pA({
            model: this.data
        });
        new qA({
            model: this.data
        });
        this.mn = new sA({
            model: this.data
        });
        this.wh = new rA({
            model: this.data
        });
        new qB({
            model: this.data,
            el: $("body")
        });
        new BB({
            model: this.data
        });
        new CB({
            model: this.data
        });
        new DB({
            model: this.data
        });
        new EB({
            model: this.data
        });
        pn("ui-controllers");
        new zC(this.data);
        new JC(this.data);
        new ZD(this.data);
        new cE(this.data);
        new TC(this.data,this.Ch);
        new VC(this.data);
        new WC(this.data);
        new ZC(this.data);
        new $C(this.data);
        new bD(this.data);
        new eD(this.data);
        new hD(this.data);
        new iD(this.data,this.VL);
        new jD(this.data,this.bQ);
        new BD(this.data);
        new CD(this.data,this.nQ);
        new ID(this.data,this.wg);
        new JD(this.data,this.wh);
        new PD(this.data,this.mn);
        new kD(this.data);
        new xD(this.data);
        new mD(this.data);
        new yD(this.data);
        new UD(this.data);
        new VD(this.data);
        new WD(this.data);
        new XD(this.data);
        new Z(this.data);
        new GB(this.data);
        new dE(this.data);
        new gE(this.data);
        new hE(this.data);
        new jE(this.data);
        new kE(this.data);
        new fD(this.data);
        pn("ui-services");
        new lE(this.data);
        new oE(this.data);
        new QE(this.data);
        new wE(this.data);
        new rE(this.data);
        new qE(this.data);
        new pE(this.data);
        new ME(this.data);
        new LE(this.data);
        new OE(this.data);
        new PE(this.data);
        var b = this;
        "US" == gp() && $("body").addClass("is-us");
        pn("ui-events");
        this.data.get("stationList").bind("select", function(c, d) {
            d = !0 === d;
            var l = c.D() && c.Z()
              , p = b.data.get("currentStation");
            null != p && p.e() == c.e() || b.data.set({
                currentStation: c,
                currentStationViewIsShuffle: l
            }, {
                userInitiated: d
            })
        });
        this.data.get("stationList").bind("remove", function(c) {
            var d = b.data.get("currentStation");
            null != d && d.e() == c.e() && (b.data.set({
                currentStation: null
            }),
            c = b.data.get("stationList").at(0),
            null != c && (c.D() && c.Z() || z.b(ni, {
                stationId: c.e()
            })))
        });
        this.data.get("stationList").bind("all", function() {
            "REGISTERED_PANEL" != b.data.get("modalPanel") && z.b(Ug);
            b.data.set({
                hasStations: 0 < this.length
            })
        });
        this.data.bind("change:stationSortOrderAlpha", function() {
            var c = b.data.get("stationSortOrderAlpha");
            um(Pl, c);
            b.data.get("stationList").sort()
        });
        this.data.bind("change:currentUser", r(this, function() {
            this.data.get("currentUser") ? this.data.set({
                currentShuffleType: Ym()
            }) : this.data.set({
                searchSuggestions: {
                    similar_artists: [],
                    similar_genres: [],
                    facebook_favorites: []
                }
            })
        }));
        z.c(Tg, r(this, function() {
            this.data.set({
                booting: !0
            })
        }));
        z.c(Ug, r(this, function() {
            this.data.set({
                booting: !1
            });
            this.data.set({
                tooYoung: $.cookie("ty") && "1" == $.cookie("ty")
            })
        }));
        z.c(Qg, r(this, function(b) {
            var c = this.data.get("stationList");
            (b = c.Rc(b.stationId)) && wn(b.n) && (c.remove(b, {
                silent: !0
            }),
            c.trigger("refresh"))
        }));
        z.c(Rg, r(this, function() {
            var b = this.data.get("stationList");
            b.each(function(c) {
                c.Tb() && b.remove(c, {
                    silent: !0
                })
            });
            b.trigger("refresh")
        }));
        z.c(Mg, r(this, function(b) {
            var c = this.data.get("stationList");
            if (0 != c.models.length) {
                var d = {
                    silent: !0
                };
                c.each(function(b) {
                    (b.Db() || b.Tb()) && c.remove(b, {
                        silent: !0
                    })
                });
                $.each(b, function() {
                    c._add(this.n, d)
                });
                c.trigger("refresh")
            }
        }));
        z.c(Pe, r(this, function(b) {
            var c = this.data.get("currentUser");
            if (b && c)
                for (var d = 0; d < b.length; d++) {
                    var p = b[d].n;
                    if (p.D() && p.Z()) {
                        var q = c.lc;
                        if (null == q || 0 == q.length)
                            q = c.Il;
                        null != q && 0 < q.length && p.Wm(q + "'s Shuffle")
                    }
                }
            if (Ae() && b && 0 < b.length) {
                var t = this.data.get("stationList")
                  , y = {
                    silent: !0
                };
                t._reset(y);
                for (var E = 0, d = 0; d < b.length; d++)
                    setTimeout(r(this, function() {
                        var c = b[E++];
                        t._add(c.n, y);
                        E >= b.length && t.trigger("refresh")
                    }), 1);
                setTimeout(r(this, function() {
                    var c = this.data.get("currentStation");
                    null == c || _.any(b, function(b) {
                        return b.e() == c.e()
                    }) || this.data.set({
                        currentStation: null
                    });
                    z.b(Qe, b)
                }), 1E3)
            } else {
                t = this.data.get("stationList");
                y = {
                    silent: !0
                };
                t._reset(y);
                $.each(b, function() {
                    t._add(this.n, y)
                });
                t.trigger("refresh");
                var I = this.data.get("currentStation");
                null == I || _.any(b, function(b) {
                    return b.e() == I.e()
                }) || this.data.set({
                    currentStation: null
                })
            }
        }));
        z.c(Re, r(this, function(b) {
            var c = this.data.get("stationList");
            null != c.detect(function(c) {
                return c.e() == b.e()
            }) ? z.b(ni, {
                stationId: b.e()
            }) : c.add(b)
        }));
        z.c(Ue, r(this, function(b) {
            var c = this.data.get("stationList")
              , d = b.stationId
              , c = c.detect(function(b) {
                return b.e() == d
            });
            null != c && (c.Wm(_.escape(b.stationName)),
            c.attributes._stationName = b.stationName,
            R(jw, c))
        }));
        z.c(Xg, r(this, function(b) {
            var c = this.data.get("stationList");
            b = b.stationList;
            for (var d = 0; d < b.length; d++) {
                var p = b[d]
                  , q = c.detect(function(b) {
                    return b.e() == p.stationId
                });
                null != q && void 0 != p.enableArtistAudioMessages && (q._enableArtistAudioMessages = p.enableArtistAudioMessages)
            }
        }));
        z.c(Jg, r(this, function(b) {
            var c = b.station;
            b = b.oldStationId;
            for (var d = this.data.get("stationList").models, p = 0; p < d.length; p++)
                if (d[p].e() == b) {
                    _.map(c, function(b, c) {
                        d[p]["_" + c] = b
                    });
                    d[p].set(new un(c));
                    break
                }
            this.data.get("stationList").refresh(d)
        }));
        z.c(Kg, r(this, function(b) {
            for (var c = b.e(), d = this.data.get("stationList").models, p = 0; p < d.length; p++)
                if (d[p].e() == c) {
                    d[p] = b;
                    break
                }
            this.data.get("stationList").refresh(d);
            (d = this.data.get("currentStation")) && d.e() == c && this.data.set({
                currentStation: b
            }, {
                silent: !0
            })
        }));
        var c = r(this, function(b) {
            var c = !0 === b.userInitiated
              , d = b.stationId;
            b = this.data.get("stationList");
            var p = b.detect(function(b) {
                return b.e() == d
            });
            null != p && b.trigger("select", p, c);
            this.data.set({
                safeToAutoPlayStation: !0
            })
        })
          , d = r(this, function(b) {
            c(b)
        });
        z.c(ni, c);
        z.c(oi, d);
        z.c(Ji, r(this, function() {
            this.data.set({
                safeToAutoPlayStation: !1
            })
        }));
        z.c(vh, r(this, function() {
            this.data.set({
                safeToAutoPlayStation: !0
            })
        }));
        z.c(Ge, r(this, function(b) {
            this.data.set({
                stationToAutoPlay: b
            })
        }));
        z.c(bk, r(this, function() {
            this.data.set({
                currentTrack: null ,
                musicPlaying: !1,
                currentStation: null
            })
        }));
        z.c(ti, r(this, function() {
            this.data.set({
                currentTrack: null ,
                musicPlaying: !1,
                currentStation: null ,
                hasStations: !1,
                selectedTrack: null
            })
        }));
        z.c(Ve, r(this, function(b) {
            this.data.set({
                currentTrack: b,
                musicPlaying: !0
            });
            window.currentTrackMusicId = b.o();
            "function" == typeof window.handleTrackChanged && window.handleTrackChanged(b.o())
        }));
        z.c(ef, r(this, function(b) {
            this.data.set({
                trackProgress: b
            })
        }));
        z.c(ei, r(this, function() {
            this.data.set({
                musicPlaying: !0
            })
        }));
        z.c(gi, r(this, function() {
            this.data.set({
                musicPlaying: !1
            })
        }));
        z.c(ji, r(this, function(b) {
            b = "/song/thumbs-down/" + b;
            kz(b);
            lz(b)
        }));
        z.c(Wf, r(this, function(b) {
            this.data.set({
                poisoned: b
            })
        }));
        z.c(Sg, r(this, function() {
            this.data.set({
                readonly: !0
            })
        }));
        z.c(ml, r(this, function(b) {
            this.data.set({
                currentVxReward: b
            })
        }));
        z.c(nl, r(this, function() {
            this.data.set({
                currentVxReward: null
            })
        }));
        mz("/song/move/");
        mz("/browse");
        S(cw, r(this, function() {
            this.xA.open()
        }));
        $(document).keydown(function(c) {
            var d = b.data.get("keyPressed")
              , l = -1 != navigator.userAgent.indexOf("Firefox");
            if (!("INPUT" == c.target.tagName || "TEXTAREA" == c.target.tagName || null != d && d.which == c.which || (b.data.set({
                keyPressed: c
            }),
            b.data.get("siteLocked") || c.ctrlKey || c.metaKey)))
                if ("32" == c.keyCode) {
                    if (c.preventDefault(),
                    b.data.get("playerBarEnabled") || b.data.get("audioAdPlaying"))
                        b.data.get("musicPlaying") ? z.b(gi) : z.b(ei)
                } else if ("39" == c.keyCode) {
                    if (c.preventDefault(),
                    c = b.data.get("currentTrack"),
                    null != c && b.data.get("playerBarEnabled"))
                        return z.b(hi),
                        !1
                } else
                    !c.shiftKey || "187" != c.keyCode && "61" != c.keyCode ? "189" == c.keyCode || l && "173" == c.keyCode ? (c.preventDefault(),
                    c = b.data.get("currentTrack"),
                    null != c && b.data.get("playerBarEnabled") && ($(".thumbDownButton.indicator").length ? z.b(li, c.o()) : z.b(ji, c.o()))) : c.shiftKey && "38" == c.keyCode ? (c.preventDefault(),
                    b.data.get("musicPlaying") && b.data.get("playerBarEnabled") && z.b(qi, 100)) : c.shiftKey && "40" == c.keyCode ? (c.preventDefault(),
                    b.data.get("musicPlaying") && b.data.get("playerBarEnabled") && z.b(qi, 0)) : c.altKey && "38" == c.keyCode ? (c.preventDefault(),
                    b.data.get("musicPlaying") && b.data.get("playerBarEnabled") && (c = Km() ? 0 : Jm(),
                    z.b(qi, c + 10))) : c.altKey && "40" == c.keyCode && (c.preventDefault(),
                    b.data.get("musicPlaying") && b.data.get("playerBarEnabled") && (c = Km() ? 0 : Jm(),
                    z.b(qi, c - 10))) : (c.preventDefault(),
                    c = b.data.get("currentTrack"),
                    null != c && b.data.get("playerBarEnabled") && ($(".thumbUpButton.indicator").length ? z.b(ki, c.o()) : z.b(ii, c.o())))
        });
        $(document).keyup(function() {
            b.data.set({
                keyPressed: null
            })
        });
        pn("ui-done")
    }
    ;
    function RE(b) {
        var c = /^(\w+)\s*(.*)$/
          , d = Backbone.View.prototype.delegateEvents;
        Backbone.View.prototype.delegateEvents = function(b) {
            d.apply(this, arguments);
            b = b || this.events;
            for (var h in b) {
                var l = h.match(c)
                  , p = l[1]
                  , l = l[2];
                "click" == p && $(this.el).delegate(l, p, function(b) {
                    sn.globalClickPaused || R(Gu, b)
                })
            }
        }
        ;
        $(document).click(r(b, function(b) {
            sn.globalClickPaused || R(Gu, b)
        }))
    }
    var SE = {};
    function S(b, c) {
        var d = SE[b] || [];
        d.push(c);
        SE[b] = d;
        d = c._caller;
        if (null != d) {
            var e = d._eventTypes || [];
            e.push(b);
            d._eventTypes = e
        }
    }
    function Xz(b, c) {
        if (void 0 !== c) {
            var d = SE[c];
            if (d)
                for (var e = 0; e < d.length; e++)
                    d[e]._caller == b && d.splice(e--, 1)
        } else
            for (d = b._eventTypes,
            e = 0; d && e < d.length; e++)
                Xz(b, d[e])
    }
    function R(b, c) {
        var d = _.clone(SE[b]);
        if (d)
            for (var e = 0; e < d.length; e++)
                try {
                    d[e](c, b)
                } catch (h) {
                    trackJs.track(h),
                    qe(h)
                }
    }
    function IA() {
        sn.globalClickPaused = !0;
        clearTimeout(sn.globalClickPauseTimeout);
        sn.globalClickPauseTimeout = setTimeout(function() {
            sn.globalClickPaused = !1
        }, 1E3)
    }
    function jz(b) {
        b = b.get("currentUser");
        return !0 === om(Dl) && (!b || b.p())
    }
    ;
})();